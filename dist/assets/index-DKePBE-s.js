var wE=t=>{throw TypeError(t)};var Fv=(t,e,n)=>e.has(t)||wE("Cannot "+n);var W=(t,e,n)=>(Fv(t,e,"read from private field"),n?n.call(t):e.get(t)),je=(t,e,n)=>e.has(t)?wE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xe=(t,e,n,r)=>(Fv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),tt=(t,e,n)=>(Fv(t,e,"access private method"),n);var Dm=(t,e,n,r)=>({set _(s){xe(t,e,s,n)},get _(){return W(t,e,r)}});function u4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function jw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vv={exports:{}},Cd={},Bv={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function d4(){if(bE)return rt;bE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function S(H,re,me){this.props=H,this.context=re,this.refs=C,this.updater=me||b}S.prototype.isReactComponent={},S.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=S.prototype;function A(H,re,me){this.props=H,this.context=re,this.refs=C,this.updater=me||b}var R=A.prototype=new I;R.constructor=A,T(R,S.prototype),R.isPureReactComponent=!0;var B=Array.isArray,F=Object.prototype.hasOwnProperty,U={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function k(H,re,me){var we,Re={},Ue=null,de=null;if(re!=null)for(we in re.ref!==void 0&&(de=re.ref),re.key!==void 0&&(Ue=""+re.key),re)F.call(re,we)&&!P.hasOwnProperty(we)&&(Re[we]=re[we]);var Ne=arguments.length-2;if(Ne===1)Re.children=me;else if(1<Ne){for(var Ve=Array(Ne),Oe=0;Oe<Ne;Oe++)Ve[Oe]=arguments[Oe+2];Re.children=Ve}if(H&&H.defaultProps)for(we in Ne=H.defaultProps,Ne)Re[we]===void 0&&(Re[we]=Ne[we]);return{$$typeof:t,type:H,key:Ue,ref:de,props:Re,_owner:U.current}}function D(H,re){return{$$typeof:t,type:H.type,key:re,ref:H.ref,props:H.props,_owner:H._owner}}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(me){return re[me]})}var z=/\/+/g;function M(H,re){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):re.toString(36)}function oe(H,re,me,we,Re){var Ue=typeof H;(Ue==="undefined"||Ue==="boolean")&&(H=null);var de=!1;if(H===null)de=!0;else switch(Ue){case"string":case"number":de=!0;break;case"object":switch(H.$$typeof){case t:case e:de=!0}}if(de)return de=H,Re=Re(de),H=we===""?"."+M(de,0):we,B(Re)?(me="",H!=null&&(me=H.replace(z,"$&/")+"/"),oe(Re,re,me,"",function(Oe){return Oe})):Re!=null&&(O(Re)&&(Re=D(Re,me+(!Re.key||de&&de.key===Re.key?"":(""+Re.key).replace(z,"$&/")+"/")+H)),re.push(Re)),1;if(de=0,we=we===""?".":we+":",B(H))for(var Ne=0;Ne<H.length;Ne++){Ue=H[Ne];var Ve=we+M(Ue,Ne);de+=oe(Ue,re,me,Ve,Re)}else if(Ve=v(H),typeof Ve=="function")for(H=Ve.call(H),Ne=0;!(Ue=H.next()).done;)Ue=Ue.value,Ve=we+M(Ue,Ne++),de+=oe(Ue,re,me,Ve,Re);else if(Ue==="object")throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return de}function ye(H,re,me){if(H==null)return H;var we=[],Re=0;return oe(H,we,"","",function(Ue){return re.call(me,Ue,Re++)}),we}function he(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(me){(H._status===0||H._status===-1)&&(H._status=1,H._result=me)},function(me){(H._status===0||H._status===-1)&&(H._status=2,H._result=me)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var Z={current:null},$={transition:null},X={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:$,ReactCurrentOwner:U};function se(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:ye,forEach:function(H,re,me){ye(H,function(){re.apply(this,arguments)},me)},count:function(H){var re=0;return ye(H,function(){re++}),re},toArray:function(H){return ye(H,function(re){return re})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},rt.Component=S,rt.Fragment=n,rt.Profiler=s,rt.PureComponent=A,rt.StrictMode=r,rt.Suspense=d,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,rt.act=se,rt.cloneElement=function(H,re,me){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var we=T({},H.props),Re=H.key,Ue=H.ref,de=H._owner;if(re!=null){if(re.ref!==void 0&&(Ue=re.ref,de=U.current),re.key!==void 0&&(Re=""+re.key),H.type&&H.type.defaultProps)var Ne=H.type.defaultProps;for(Ve in re)F.call(re,Ve)&&!P.hasOwnProperty(Ve)&&(we[Ve]=re[Ve]===void 0&&Ne!==void 0?Ne[Ve]:re[Ve])}var Ve=arguments.length-2;if(Ve===1)we.children=me;else if(1<Ve){Ne=Array(Ve);for(var Oe=0;Oe<Ve;Oe++)Ne[Oe]=arguments[Oe+2];we.children=Ne}return{$$typeof:t,type:H.type,key:Re,ref:Ue,props:we,_owner:de}},rt.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:i,_context:H},H.Consumer=H},rt.createElement=k,rt.createFactory=function(H){var re=k.bind(null,H);return re.type=H,re},rt.createRef=function(){return{current:null}},rt.forwardRef=function(H){return{$$typeof:c,render:H}},rt.isValidElement=O,rt.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:he}},rt.memo=function(H,re){return{$$typeof:f,type:H,compare:re===void 0?null:re}},rt.startTransition=function(H){var re=$.transition;$.transition={};try{H()}finally{$.transition=re}},rt.unstable_act=se,rt.useCallback=function(H,re){return Z.current.useCallback(H,re)},rt.useContext=function(H){return Z.current.useContext(H)},rt.useDebugValue=function(){},rt.useDeferredValue=function(H){return Z.current.useDeferredValue(H)},rt.useEffect=function(H,re){return Z.current.useEffect(H,re)},rt.useId=function(){return Z.current.useId()},rt.useImperativeHandle=function(H,re,me){return Z.current.useImperativeHandle(H,re,me)},rt.useInsertionEffect=function(H,re){return Z.current.useInsertionEffect(H,re)},rt.useLayoutEffect=function(H,re){return Z.current.useLayoutEffect(H,re)},rt.useMemo=function(H,re){return Z.current.useMemo(H,re)},rt.useReducer=function(H,re,me){return Z.current.useReducer(H,re,me)},rt.useRef=function(H){return Z.current.useRef(H)},rt.useState=function(H){return Z.current.useState(H)},rt.useSyncExternalStore=function(H,re,me){return Z.current.useSyncExternalStore(H,re,me)},rt.useTransition=function(){return Z.current.useTransition()},rt.version="18.3.1",rt}var _E;function Dw(){return _E||(_E=1,Bv.exports=d4()),Bv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function h4(){if(SE)return Cd;SE=1;var t=Dw(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var m,y={},v=null,b=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(b=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(y[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:c,key:v,ref:b,props:y,_owner:s.current}}return Cd.Fragment=n,Cd.jsx=a,Cd.jsxs=a,Cd}var EE;function f4(){return EE||(EE=1,Vv.exports=h4()),Vv.exports}var u=f4(),w=Dw();const sn=jw(w),Mw=u4({__proto__:null,default:sn},[w]);var Mm={},Uv={exports:{}},cr={},zv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function m4(){return CE||(CE=1,(function(t){function e($,X){var se=$.length;$.push(X);e:for(;0<se;){var H=se-1>>>1,re=$[H];if(0<s(re,X))$[H]=X,$[se]=re,se=H;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var X=$[0],se=$.pop();if(se!==X){$[0]=se;e:for(var H=0,re=$.length,me=re>>>1;H<me;){var we=2*(H+1)-1,Re=$[we],Ue=we+1,de=$[Ue];if(0>s(Re,se))Ue<re&&0>s(de,Re)?($[H]=de,$[Ue]=se,H=Ue):($[H]=Re,$[we]=se,H=we);else if(Ue<re&&0>s(de,se))$[H]=de,$[Ue]=se,H=Ue;else break e}}return X}function s($,X){var se=$.sortIndex-X.sortIndex;return se!==0?se:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],f=[],m=1,y=null,v=3,b=!1,T=!1,C=!1,S=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R($){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=$)r(f),X.sortIndex=X.expirationTime,e(d,X);else break;X=n(f)}}function B($){if(C=!1,R($),!T)if(n(d)!==null)T=!0,he(F);else{var X=n(f);X!==null&&Z(B,X.startTime-$)}}function F($,X){T=!1,C&&(C=!1,I(k),k=-1),b=!0;var se=v;try{for(R(X),y=n(d);y!==null&&(!(y.expirationTime>X)||$&&!L());){var H=y.callback;if(typeof H=="function"){y.callback=null,v=y.priorityLevel;var re=H(y.expirationTime<=X);X=t.unstable_now(),typeof re=="function"?y.callback=re:y===n(d)&&r(d),R(X)}else r(d);y=n(d)}if(y!==null)var me=!0;else{var we=n(f);we!==null&&Z(B,we.startTime-X),me=!1}return me}finally{y=null,v=se,b=!1}}var U=!1,P=null,k=-1,D=5,O=-1;function L(){return!(t.unstable_now()-O<D)}function z(){if(P!==null){var $=t.unstable_now();O=$;var X=!0;try{X=P(!0,$)}finally{X?M():(U=!1,P=null)}}else U=!1}var M;if(typeof A=="function")M=function(){A(z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ye=oe.port2;oe.port1.onmessage=z,M=function(){ye.postMessage(null)}}else M=function(){S(z,0)};function he($){P=$,U||(U=!0,M())}function Z($,X){k=S(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){T||b||(T=!0,he(F))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var se=v;v=X;try{return $()}finally{v=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=v;v=$;try{return X()}finally{v=se}},t.unstable_scheduleCallback=function($,X,se){var H=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?H+se:H):se=H,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=se+re,$={id:m++,callback:X,priorityLevel:$,startTime:se,expirationTime:re,sortIndex:-1},se>H?($.sortIndex=se,e(f,$),n(d)===null&&$===n(f)&&(C?(I(k),k=-1):C=!0,Z(B,se-H))):($.sortIndex=re,e(d,$),T||b||(T=!0,he(F))),$},t.unstable_shouldYield=L,t.unstable_wrapCallback=function($){var X=v;return function(){var se=v;v=X;try{return $.apply(this,arguments)}finally{v=se}}}})($v)),$v}var TE;function p4(){return TE||(TE=1,zv.exports=m4()),zv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function g4(){if(kE)return cr;kE=1;var t=Dw(),e=p4();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function v(o){return d.call(y,o)?!0:d.call(m,o)?!1:f.test(o)?y[o]=!0:(m[o]=!0,!1)}function b(o,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,l,h,g){if(l===null||typeof l>"u"||b(o,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(o,l,h,g,x,E,j){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=j}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new C(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function A(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(I,A);S[l]=new C(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(I,A);S[l]=new C(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(I,A);S[l]=new C(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,l,h,g){var x=S.hasOwnProperty(l)?S[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(T(l,h,x,g)&&(h=null),g||x===null?v(l)&&(h===null?o.removeAttribute(l):o.setAttribute(l,""+h)):x.mustUseProperty?o[x.propertyName]=h===null?x.type===3?!1:"":h:(l=x.attributeName,g=x.attributeNamespace,h===null?o.removeAttribute(l):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,g?o.setAttributeNS(g,l,h):o.setAttribute(l,h))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),U=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),$=Symbol.iterator;function X(o){return o===null||typeof o!="object"?null:(o=$&&o[$]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,H;function re(o){if(H===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);H=l&&l[1]||""}return`
`+H+o}var me=!1;function we(o,l){if(!o||me)return"";me=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var g=ee}Reflect.construct(o,[],l)}else{try{l.call()}catch(ee){g=ee}o.call(l.prototype)}else{try{throw Error()}catch(ee){g=ee}o()}}catch(ee){if(ee&&g&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),E=g.stack.split(`
`),j=x.length-1,q=E.length-1;1<=j&&0<=q&&x[j]!==E[q];)q--;for(;1<=j&&0<=q;j--,q--)if(x[j]!==E[q]){if(j!==1||q!==1)do if(j--,q--,0>q||x[j]!==E[q]){var G=`
`+x[j].replace(" at new "," at ");return o.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",o.displayName)),G}while(1<=j&&0<=q);break}}}finally{me=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?re(o):""}function Re(o){switch(o.tag){case 5:return re(o.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return o=we(o.type,!1),o;case 11:return o=we(o.type.render,!1),o;case 1:return o=we(o.type,!0),o;default:return""}}function Ue(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case P:return"Fragment";case U:return"Portal";case D:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case oe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case L:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case z:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ye:return l=o.displayName||null,l!==null?l:Ue(o.type)||"Memo";case he:l=o._payload,o=o._init;try{return Ue(o(l))}catch{}}return null}function de(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(l);case 8:return l===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ve(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oe(o){var l=Ve(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,E=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(j){g=""+j,E.call(this,j)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ye(o){o._valueTracker||(o._valueTracker=Oe(o))}function Qe(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return o&&(g=Ve(o)?o.checked?"true":"false":o.value),o=g,o!==h?(l.setValue(o),!0):!1}function Nt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ot(o,l){var h=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function Jn(o,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Ne(l.value!=null?l.value:h),o._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Zn(o,l){l=l.checked,l!=null&&R(o,"checked",l,!1)}function br(o,l){Zn(o,l);var h=Ne(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?er(o,l.type,h):l.hasOwnProperty("defaultValue")&&er(o,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function ai(o,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,h||l===o.value||(o.value=l),o.defaultValue=l}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function er(o,l,h){(l!=="number"||Nt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Dr=Array.isArray;function Mr(o,l,h,g){if(o=o.options,l){l={};for(var x=0;x<h.length;x++)l["$"+h[x]]=!0;for(h=0;h<o.length;h++)x=l.hasOwnProperty("$"+o[h].value),o[h].selected!==x&&(o[h].selected=x),x&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Ne(h),l=null,x=0;x<o.length;x++){if(o[x].value===h){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function no(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function li(o,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Dr(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}o._wrapperState={initialValue:Ne(h)}}function ci(o,l){var h=Ne(l.value),g=Ne(l.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),l.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),g!=null&&(o.defaultValue=""+g)}function ro(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function zt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?zt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var te,Se=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,x){MSApp.execUnsafeLocalFunction(function(){return o(l,h,g,x)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(te=te||document.createElement("div"),te.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=te.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function ve(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(Ze).forEach(function(o){dt.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Ze[l]=Ze[o]})});function tr(o,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Ze.hasOwnProperty(o)&&Ze[o]?(""+l).trim():l+"px"}function so(o,l){o=o.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,x=tr(h,l[h],g);h==="float"&&(h="cssFloat"),g?o.setProperty(h,x):o[h]=x}}var io=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(o,l){if(l){if(io[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Bu(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function Ol(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ll=null,Or=null,Is=null;function Fl(o){if(o=ud(o)){if(typeof Ll!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Yf(l),Ll(o.stateNode,o.type,l))}}function Ps(o){Or?Is?Is.push(o):Is=[o]:Or=o}function Uu(){if(Or){var o=Or,l=Is;if(Is=Or=null,Fl(o),l)for(o=0;o<l.length;o++)Fl(l[o])}}function ba(o,l){return o(l)}function zu(){}var ui=!1;function $u(o,l,h){if(ui)return o(l,h);ui=!0;try{return ba(o,l,h)}finally{ui=!1,(Or!==null||Is!==null)&&(zu(),Uu())}}function Gt(o,l){var h=o.stateNode;if(h===null)return null;var g=Yf(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var Vl=!1;if(c)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Vl=!1}function _a(o,l,h,g,x,E,j,q,G){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(h,ee)}catch(ce){this.onError(ce)}}var Sa=!1,Bl=null,Zr=!1,qu=null,hy={onError:function(o){Sa=!0,Bl=o}};function Ul(o,l,h,g,x,E,j,q,G){Sa=!1,Bl=null,_a.apply(hy,arguments)}function wf(o,l,h,g,x,E,j,q,G){if(Ul.apply(this,arguments),Sa){if(Sa){var ee=Bl;Sa=!1,Bl=null}else throw Error(n(198));Zr||(Zr=!0,qu=ee)}}function es(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function Ea(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function ts(o){if(es(o)!==o)throw Error(n(188))}function bf(o){var l=o.alternate;if(!l){if(l=es(o),l===null)throw Error(n(188));return l!==o?null:o}for(var h=o,g=l;;){var x=h.return;if(x===null)break;var E=x.alternate;if(E===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===h)return ts(x),o;if(E===g)return ts(x),l;E=E.sibling}throw Error(n(188))}if(h.return!==g.return)h=x,g=E;else{for(var j=!1,q=x.child;q;){if(q===h){j=!0,h=x,g=E;break}if(q===g){j=!0,g=x,h=E;break}q=q.sibling}if(!j){for(q=E.child;q;){if(q===h){j=!0,h=E,g=x;break}if(q===g){j=!0,g=E,h=x;break}q=q.sibling}if(!j)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:l}function Wu(o){return o=bf(o),o!==null?zl(o):null}function zl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=zl(o);if(l!==null)return l;o=o.sibling}return null}var $l=e.unstable_scheduleCallback,Hu=e.unstable_cancelCallback,_f=e.unstable_shouldYield,fy=e.unstable_requestPaint,Ct=e.unstable_now,Sf=e.unstable_getCurrentPriorityLevel,Ca=e.unstable_ImmediatePriority,ao=e.unstable_UserBlockingPriority,Lr=e.unstable_NormalPriority,Gu=e.unstable_LowPriority,Ef=e.unstable_IdlePriority,Ta=null,_r=null;function Cf(o){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Ta,o,void 0,(o.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:kf,Ku=Math.log,Tf=Math.LN2;function kf(o){return o>>>=0,o===0?32:31-(Ku(o)/Tf|0)|0}var ql=64,Wl=4194304;function lo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function ka(o,l){var h=o.pendingLanes;if(h===0)return 0;var g=0,x=o.suspendedLanes,E=o.pingedLanes,j=h&268435455;if(j!==0){var q=j&~x;q!==0?g=lo(q):(E&=j,E!==0&&(g=lo(E)))}else j=h&~x,j!==0?g=lo(j):E!==0&&(g=lo(E));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)h=31-Un(l),x=1<<h,g|=o[h],l&=~x;return g}function my(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(o,l){for(var h=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes;0<E;){var j=31-Un(E),q=1<<j,G=x[j];G===-1?((q&h)===0||(q&g)!==0)&&(x[j]=my(q,l)):G<=l&&(o.expiredLanes|=q),E&=~q}}function Sr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Na(){var o=ql;return ql<<=1,(ql&4194240)===0&&(ql=64),o}function co(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function uo(o,l,h){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Un(l),o[l]=h}function St(o,l){var h=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<h;){var x=31-Un(h),E=1<<x;l[x]=0,g[x]=-1,o[x]=-1,h&=~E}}function ho(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var g=31-Un(h),x=1<<g;x&l|o[g]&l&&(o[g]|=l),h&=~x}}var lt=0;function fo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Nf,Hl,If,Pf,Af,Yu=!1,As=[],_n=null,ns=null,rs=null,mo=new Map,Fr=new Map,Rs=[],py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rf(o,l){switch(o){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":mo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(l.pointerId)}}function nr(o,l,h,g,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:E,targetContainers:[x]},l!==null&&(l=ud(l),l!==null&&Hl(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function gy(o,l,h,g,x){switch(l){case"focusin":return _n=nr(_n,o,l,h,g,x),!0;case"dragenter":return ns=nr(ns,o,l,h,g,x),!0;case"mouseover":return rs=nr(rs,o,l,h,g,x),!0;case"pointerover":var E=x.pointerId;return mo.set(E,nr(mo.get(E)||null,o,l,h,g,x)),!0;case"gotpointercapture":return E=x.pointerId,Fr.set(E,nr(Fr.get(E)||null,o,l,h,g,x)),!0}return!1}function jf(o){var l=ja(o.target);if(l!==null){var h=es(l);if(h!==null){if(l=h.tag,l===13){if(l=Ea(h),l!==null){o.blockedOn=l,Af(o.priority,function(){If(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function hi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Gl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);wa=g,h.target.dispatchEvent(g),wa=null}else return l=ud(h),l!==null&&Hl(l),o.blockedOn=h,!1;l.shift()}return!0}function Ia(o,l,h){hi(o)&&h.delete(l)}function Df(){Yu=!1,_n!==null&&hi(_n)&&(_n=null),ns!==null&&hi(ns)&&(ns=null),rs!==null&&hi(rs)&&(rs=null),mo.forEach(Ia),Fr.forEach(Ia)}function ss(o,l){o.blockedOn===l&&(o.blockedOn=null,Yu||(Yu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Df)))}function is(o){function l(x){return ss(x,o)}if(0<As.length){ss(As[0],o);for(var h=1;h<As.length;h++){var g=As[h];g.blockedOn===o&&(g.blockedOn=null)}}for(_n!==null&&ss(_n,o),ns!==null&&ss(ns,o),rs!==null&&ss(rs,o),mo.forEach(l),Fr.forEach(l),h=0;h<Rs.length;h++)g=Rs[h],g.blockedOn===o&&(g.blockedOn=null);for(;0<Rs.length&&(h=Rs[0],h.blockedOn===null);)jf(h),h.blockedOn===null&&Rs.shift()}var fi=B.ReactCurrentBatchConfig,po=!0;function Rt(o,l,h,g){var x=lt,E=fi.transition;fi.transition=null;try{lt=1,Qu(o,l,h,g)}finally{lt=x,fi.transition=E}}function yy(o,l,h,g){var x=lt,E=fi.transition;fi.transition=null;try{lt=4,Qu(o,l,h,g)}finally{lt=x,fi.transition=E}}function Qu(o,l,h,g){if(po){var x=Gl(o,l,h,g);if(x===null)Ny(o,l,g,Pa,h),Rf(o,g);else if(gy(x,o,l,h,g))g.stopPropagation();else if(Rf(o,g),l&4&&-1<py.indexOf(o)){for(;x!==null;){var E=ud(x);if(E!==null&&Nf(E),E=Gl(o,l,h,g),E===null&&Ny(o,l,g,Pa,h),E===x)break;x=E}x!==null&&g.stopPropagation()}else Ny(o,l,g,null,h)}}var Pa=null;function Gl(o,l,h,g){if(Pa=null,o=Ol(g),o=ja(o),o!==null)if(l=es(o),l===null)o=null;else if(h=l.tag,h===13){if(o=Ea(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Pa=o,null}function Xu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case Ca:return 1;case ao:return 4;case Lr:case Gu:return 16;case Ef:return 536870912;default:return 16}default:return 16}}var Er=null,Kl=null,rr=null;function Ju(){if(rr)return rr;var o,l=Kl,h=l.length,g,x="value"in Er?Er.value:Er.textContent,E=x.length;for(o=0;o<h&&l[o]===x[o];o++);var j=h-o;for(g=1;g<=j&&l[h-g]===x[E-g];g++);return rr=x.slice(o,1<g?1-g:void 0)}function Yl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function js(){return!0}function Zu(){return!1}function Sn(o){function l(h,g,x,E,j){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=E,this.target=j,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(h=o[q],this[q]=h?h(E):E[q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?js:Zu,this.isPropagationStopped=Zu,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),l}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Sn(os),Ds=se({},os,{view:0,detail:0}),vy=Sn(Ds),Xl,mi,go,Aa=se({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==go&&(go&&o.type==="mousemove"?(Xl=o.screenX-go.screenX,mi=o.screenY-go.screenY):mi=Xl=0,go=o),Xl)},movementY:function(o){return"movementY"in o?o.movementY:mi}}),Jl=Sn(Aa),ed=se({},Aa,{dataTransfer:0}),Mf=Sn(ed),Zl=se({},Ds,{relatedTarget:0}),ec=Sn(Zl),Of=se({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),pi=Sn(Of),Lf=se({},os,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ff=Sn(Lf),Vf=se({},os,{data:0}),td=Sn(Vf),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Bf[o])?!!l[o]:!1}function Ms(){return Uf}var p=se({},Ds,{key:function(o){if(o.key){var l=tc[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Yl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?zn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(o){return o.type==="keypress"?Yl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Yl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=Sn(p),N=se({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V=Sn(N),Y=se({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),ie=Sn(Y),ge=se({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=Sn(ge),ln=se({},Aa,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ht=Sn(ln),pn=[9,13,27,32],en=c&&"CompositionEvent"in window,Vr=null;c&&"documentMode"in document&&(Vr=document.documentMode);var Cr=c&&"TextEvent"in window&&!Vr,Ra=c&&(!en||Vr&&8<Vr&&11>=Vr),nc=" ",m1=!1;function p1(o,l){switch(o){case"keyup":return pn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var rc=!1;function aO(o,l){switch(o){case"compositionend":return g1(l);case"keypress":return l.which!==32?null:(m1=!0,nc);case"textInput":return o=l.data,o===nc&&m1?null:o;default:return null}}function lO(o,l){if(rc)return o==="compositionend"||!en&&p1(o,l)?(o=Ju(),rr=Kl=Er=null,rc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ra&&l.locale!=="ko"?null:l.data;default:return null}}var cO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!cO[o.type]:l==="textarea"}function v1(o,l,h,g){Ps(g),l=Hf(l,"onChange"),0<l.length&&(h=new Ql("onChange","change",null,h,g),o.push({event:h,listeners:l}))}var nd=null,rd=null;function uO(o){O1(o,0)}function zf(o){var l=lc(o);if(Qe(l))return o}function dO(o,l){if(o==="change")return l}var x1=!1;if(c){var xy;if(c){var wy="oninput"in document;if(!wy){var w1=document.createElement("div");w1.setAttribute("oninput","return;"),wy=typeof w1.oninput=="function"}xy=wy}else xy=!1;x1=xy&&(!document.documentMode||9<document.documentMode)}function b1(){nd&&(nd.detachEvent("onpropertychange",_1),rd=nd=null)}function _1(o){if(o.propertyName==="value"&&zf(rd)){var l=[];v1(l,rd,o,Ol(o)),$u(uO,l)}}function hO(o,l,h){o==="focusin"?(b1(),nd=l,rd=h,nd.attachEvent("onpropertychange",_1)):o==="focusout"&&b1()}function fO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return zf(rd)}function mO(o,l){if(o==="click")return zf(l)}function pO(o,l){if(o==="input"||o==="change")return zf(l)}function gO(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var as=typeof Object.is=="function"?Object.is:gO;function sd(o,l){if(as(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!d.call(l,x)||!as(o[x],l[x]))return!1}return!0}function S1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function E1(o,l){var h=S1(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=l&&g>=l)return{node:h,offset:l-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=S1(h)}}function C1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?C1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function T1(){for(var o=window,l=Nt();l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Nt(o.document)}return l}function by(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function yO(o){var l=T1(),h=o.focusedElem,g=o.selectionRange;if(l!==h&&h&&h.ownerDocument&&C1(h.ownerDocument.documentElement,h)){if(g!==null&&by(h)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(o,h.value.length);else if(o=(l=h.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=h.textContent.length,E=Math.min(g.start,x);g=g.end===void 0?E:Math.min(g.end,x),!o.extend&&E>g&&(x=g,g=E,E=x),x=E1(h,E);var j=E1(h,g);x&&j&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==j.node||o.focusOffset!==j.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),E>g?(o.addRange(l),o.extend(j.node,j.offset)):(l.setEnd(j.node,j.offset),o.addRange(l)))}}for(l=[],o=h;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)o=l[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var vO=c&&"documentMode"in document&&11>=document.documentMode,sc=null,_y=null,id=null,Sy=!1;function k1(o,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Sy||sc==null||sc!==Nt(g)||(g=sc,"selectionStart"in g&&by(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),id&&sd(id,g)||(id=g,g=Hf(_y,"onSelect"),0<g.length&&(l=new Ql("onSelect","select",null,l,h),o.push({event:l,listeners:g}),l.target=sc)))}function $f(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var ic={animationend:$f("Animation","AnimationEnd"),animationiteration:$f("Animation","AnimationIteration"),animationstart:$f("Animation","AnimationStart"),transitionend:$f("Transition","TransitionEnd")},Ey={},N1={};c&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function qf(o){if(Ey[o])return Ey[o];if(!ic[o])return o;var l=ic[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in N1)return Ey[o]=l[h];return o}var I1=qf("animationend"),P1=qf("animationiteration"),A1=qf("animationstart"),R1=qf("transitionend"),j1=new Map,D1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(o,l){j1.set(o,l),i(l,[o])}for(var Cy=0;Cy<D1.length;Cy++){var Ty=D1[Cy],xO=Ty.toLowerCase(),wO=Ty[0].toUpperCase()+Ty.slice(1);yo(xO,"on"+wO)}yo(I1,"onAnimationEnd"),yo(P1,"onAnimationIteration"),yo(A1,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(R1,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bO=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function M1(o,l,h){var g=o.type||"unknown-event";o.currentTarget=h,wf(g,l,void 0,o),o.currentTarget=null}function O1(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],x=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var j=g.length-1;0<=j;j--){var q=g[j],G=q.instance,ee=q.currentTarget;if(q=q.listener,G!==E&&x.isPropagationStopped())break e;M1(x,q,ee),E=G}else for(j=0;j<g.length;j++){if(q=g[j],G=q.instance,ee=q.currentTarget,q=q.listener,G!==E&&x.isPropagationStopped())break e;M1(x,q,ee),E=G}}}if(Zr)throw o=qu,Zr=!1,qu=null,o}function It(o,l){var h=l[Dy];h===void 0&&(h=l[Dy]=new Set);var g=o+"__bubble";h.has(g)||(L1(l,o,2,!1),h.add(g))}function ky(o,l,h){var g=0;l&&(g|=4),L1(h,o,g,l)}var Wf="_reactListening"+Math.random().toString(36).slice(2);function ad(o){if(!o[Wf]){o[Wf]=!0,r.forEach(function(h){h!=="selectionchange"&&(bO.has(h)||ky(h,!1,o),ky(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Wf]||(l[Wf]=!0,ky("selectionchange",!1,l))}}function L1(o,l,h,g){switch(Xu(l)){case 1:var x=Rt;break;case 4:x=yy;break;default:x=Qu}h=x.bind(null,l,h,o),x=void 0,!Vl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(l,h,{capture:!0,passive:x}):o.addEventListener(l,h,!0):x!==void 0?o.addEventListener(l,h,{passive:x}):o.addEventListener(l,h,!1)}function Ny(o,l,h,g,x){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var q=g.stateNode.containerInfo;if(q===x||q.nodeType===8&&q.parentNode===x)break;if(j===4)for(j=g.return;j!==null;){var G=j.tag;if((G===3||G===4)&&(G=j.stateNode.containerInfo,G===x||G.nodeType===8&&G.parentNode===x))return;j=j.return}for(;q!==null;){if(j=ja(q),j===null)return;if(G=j.tag,G===5||G===6){g=E=j;continue e}q=q.parentNode}}g=g.return}$u(function(){var ee=E,ce=Ol(h),fe=[];e:{var le=j1.get(o);if(le!==void 0){var be=Ql,Ce=o;switch(o){case"keypress":if(Yl(h)===0)break e;case"keydown":case"keyup":be=_;break;case"focusin":Ce="focus",be=ec;break;case"focusout":Ce="blur",be=ec;break;case"beforeblur":case"afterblur":be=ec;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ie;break;case I1:case P1:case A1:be=pi;break;case R1:be=xt;break;case"scroll":be=vy;break;case"wheel":be=ht;break;case"copy":case"cut":case"paste":be=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=V}var Ie=(l&4)!==0,Kt=!Ie&&o==="scroll",Q=Ie?le!==null?le+"Capture":null:le;Ie=[];for(var K=ee,J;K!==null;){J=K;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,Q!==null&&(pe=Gt(K,Q),pe!=null&&Ie.push(ld(K,pe,J)))),Kt)break;K=K.return}0<Ie.length&&(le=new be(le,Ce,null,h,ce),fe.push({event:le,listeners:Ie}))}}if((l&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",be=o==="mouseout"||o==="pointerout",le&&h!==wa&&(Ce=h.relatedTarget||h.fromElement)&&(ja(Ce)||Ce[gi]))break e;if((be||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,be?(Ce=h.relatedTarget||h.toElement,be=ee,Ce=Ce?ja(Ce):null,Ce!==null&&(Kt=es(Ce),Ce!==Kt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(be=null,Ce=ee),be!==Ce)){if(Ie=Jl,pe="onMouseLeave",Q="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(Ie=V,pe="onPointerLeave",Q="onPointerEnter",K="pointer"),Kt=be==null?le:lc(be),J=Ce==null?le:lc(Ce),le=new Ie(pe,K+"leave",be,h,ce),le.target=Kt,le.relatedTarget=J,pe=null,ja(ce)===ee&&(Ie=new Ie(Q,K+"enter",Ce,h,ce),Ie.target=J,Ie.relatedTarget=Kt,pe=Ie),Kt=pe,be&&Ce)t:{for(Ie=be,Q=Ce,K=0,J=Ie;J;J=oc(J))K++;for(J=0,pe=Q;pe;pe=oc(pe))J++;for(;0<K-J;)Ie=oc(Ie),K--;for(;0<J-K;)Q=oc(Q),J--;for(;K--;){if(Ie===Q||Q!==null&&Ie===Q.alternate)break t;Ie=oc(Ie),Q=oc(Q)}Ie=null}else Ie=null;be!==null&&F1(fe,le,be,Ie,!1),Ce!==null&&Kt!==null&&F1(fe,Kt,Ce,Ie,!0)}}e:{if(le=ee?lc(ee):window,be=le.nodeName&&le.nodeName.toLowerCase(),be==="select"||be==="input"&&le.type==="file")var Ae=dO;else if(y1(le))if(x1)Ae=pO;else{Ae=fO;var Le=hO}else(be=le.nodeName)&&be.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Ae=mO);if(Ae&&(Ae=Ae(o,ee))){v1(fe,Ae,h,ce);break e}Le&&Le(o,le,ee),o==="focusout"&&(Le=le._wrapperState)&&Le.controlled&&le.type==="number"&&er(le,"number",le.value)}switch(Le=ee?lc(ee):window,o){case"focusin":(y1(Le)||Le.contentEditable==="true")&&(sc=Le,_y=ee,id=null);break;case"focusout":id=_y=sc=null;break;case"mousedown":Sy=!0;break;case"contextmenu":case"mouseup":case"dragend":Sy=!1,k1(fe,h,ce);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":k1(fe,h,ce)}var Fe;if(en)e:{switch(o){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else rc?p1(o,h)&&(We="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Ra&&h.locale!=="ko"&&(rc||We!=="onCompositionStart"?We==="onCompositionEnd"&&rc&&(Fe=Ju()):(Er=ce,Kl="value"in Er?Er.value:Er.textContent,rc=!0)),Le=Hf(ee,We),0<Le.length&&(We=new td(We,o,null,h,ce),fe.push({event:We,listeners:Le}),Fe?We.data=Fe:(Fe=g1(h),Fe!==null&&(We.data=Fe)))),(Fe=Cr?aO(o,h):lO(o,h))&&(ee=Hf(ee,"onBeforeInput"),0<ee.length&&(ce=new td("onBeforeInput","beforeinput",null,h,ce),fe.push({event:ce,listeners:ee}),ce.data=Fe))}O1(fe,l)})}function ld(o,l,h){return{instance:o,listener:l,currentTarget:h}}function Hf(o,l){for(var h=l+"Capture",g=[];o!==null;){var x=o,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=Gt(o,h),E!=null&&g.unshift(ld(o,E,x)),E=Gt(o,l),E!=null&&g.push(ld(o,E,x))),o=o.return}return g}function oc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function F1(o,l,h,g,x){for(var E=l._reactName,j=[];h!==null&&h!==g;){var q=h,G=q.alternate,ee=q.stateNode;if(G!==null&&G===g)break;q.tag===5&&ee!==null&&(q=ee,x?(G=Gt(h,E),G!=null&&j.unshift(ld(h,G,q))):x||(G=Gt(h,E),G!=null&&j.push(ld(h,G,q)))),h=h.return}j.length!==0&&o.push({event:l,listeners:j})}var _O=/\r\n?/g,SO=/\u0000|\uFFFD/g;function V1(o){return(typeof o=="string"?o:""+o).replace(_O,`
`).replace(SO,"")}function Gf(o,l,h){if(l=V1(l),V1(o)!==l&&h)throw Error(n(425))}function Kf(){}var Iy=null,Py=null;function Ay(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ry=typeof setTimeout=="function"?setTimeout:void 0,EO=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,CO=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(o){return B1.resolve(null).then(o).catch(TO)}:Ry;function TO(o){setTimeout(function(){throw o})}function jy(o,l){var h=l,g=0;do{var x=h.nextSibling;if(o.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(g===0){o.removeChild(x),is(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=x}while(h);is(l)}function vo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function U1(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}var ac=Math.random().toString(36).slice(2),Os="__reactFiber$"+ac,cd="__reactProps$"+ac,gi="__reactContainer$"+ac,Dy="__reactEvents$"+ac,kO="__reactListeners$"+ac,NO="__reactHandles$"+ac;function ja(o){var l=o[Os];if(l)return l;for(var h=o.parentNode;h;){if(l=h[gi]||h[Os]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=U1(o);o!==null;){if(h=o[Os])return h;o=U1(o)}return l}o=h,h=o.parentNode}return null}function ud(o){return o=o[Os]||o[gi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function lc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Yf(o){return o[cd]||null}var My=[],cc=-1;function xo(o){return{current:o}}function Pt(o){0>cc||(o.current=My[cc],My[cc]=null,cc--)}function Tt(o,l){cc++,My[cc]=o.current,o.current=l}var wo={},An=xo(wo),sr=xo(!1),Da=wo;function uc(o,l){var h=o.type.contextTypes;if(!h)return wo;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in h)x[E]=l[E];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function ir(o){return o=o.childContextTypes,o!=null}function Qf(){Pt(sr),Pt(An)}function z1(o,l,h){if(An.current!==wo)throw Error(n(168));Tt(An,l),Tt(sr,h)}function $1(o,l,h){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(n(108,de(o)||"Unknown",x));return se({},h,g)}function Xf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wo,Da=An.current,Tt(An,o),Tt(sr,sr.current),!0}function q1(o,l,h){var g=o.stateNode;if(!g)throw Error(n(169));h?(o=$1(o,l,Da),g.__reactInternalMemoizedMergedChildContext=o,Pt(sr),Pt(An),Tt(An,o)):Pt(sr),Tt(sr,h)}var yi=null,Jf=!1,Oy=!1;function W1(o){yi===null?yi=[o]:yi.push(o)}function IO(o){Jf=!0,W1(o)}function bo(){if(!Oy&&yi!==null){Oy=!0;var o=0,l=lt;try{var h=yi;for(lt=1;o<h.length;o++){var g=h[o];do g=g(!0);while(g!==null)}yi=null,Jf=!1}catch(x){throw yi!==null&&(yi=yi.slice(o+1)),$l(Ca,bo),x}finally{lt=l,Oy=!1}}return null}var dc=[],hc=0,Zf=null,em=0,Br=[],Ur=0,Ma=null,vi=1,xi="";function Oa(o,l){dc[hc++]=em,dc[hc++]=Zf,Zf=o,em=l}function H1(o,l,h){Br[Ur++]=vi,Br[Ur++]=xi,Br[Ur++]=Ma,Ma=o;var g=vi;o=xi;var x=32-Un(g)-1;g&=~(1<<x),h+=1;var E=32-Un(l)+x;if(30<E){var j=x-x%5;E=(g&(1<<j)-1).toString(32),g>>=j,x-=j,vi=1<<32-Un(l)+x|h<<x|g,xi=E+o}else vi=1<<E|h<<x|g,xi=o}function Ly(o){o.return!==null&&(Oa(o,1),H1(o,1,0))}function Fy(o){for(;o===Zf;)Zf=dc[--hc],dc[hc]=null,em=dc[--hc],dc[hc]=null;for(;o===Ma;)Ma=Br[--Ur],Br[Ur]=null,xi=Br[--Ur],Br[Ur]=null,vi=Br[--Ur],Br[Ur]=null}var Tr=null,kr=null,jt=!1,ls=null;function G1(o,l){var h=Wr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=o,l=o.deletions,l===null?(o.deletions=[h],o.flags|=16):l.push(h)}function K1(o,l){switch(o.tag){case 5:var h=o.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Tr=o,kr=vo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Tr=o,kr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Ma!==null?{id:vi,overflow:xi}:null,o.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Wr(18,null,null,0),h.stateNode=l,h.return=o,o.child=h,Tr=o,kr=null,!0):!1;default:return!1}}function Vy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function By(o){if(jt){var l=kr;if(l){var h=l;if(!K1(o,l)){if(Vy(o))throw Error(n(418));l=vo(h.nextSibling);var g=Tr;l&&K1(o,l)?G1(g,h):(o.flags=o.flags&-4097|2,jt=!1,Tr=o)}}else{if(Vy(o))throw Error(n(418));o.flags=o.flags&-4097|2,jt=!1,Tr=o}}}function Y1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Tr=o}function tm(o){if(o!==Tr)return!1;if(!jt)return Y1(o),jt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Ay(o.type,o.memoizedProps)),l&&(l=kr)){if(Vy(o))throw Q1(),Error(n(418));for(;l;)G1(o,l),l=vo(l.nextSibling)}if(Y1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(l===0){kr=vo(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}o=o.nextSibling}kr=null}}else kr=Tr?vo(o.stateNode.nextSibling):null;return!0}function Q1(){for(var o=kr;o;)o=vo(o.nextSibling)}function fc(){kr=Tr=null,jt=!1}function Uy(o){ls===null?ls=[o]:ls.push(o)}var PO=B.ReactCurrentBatchConfig;function dd(o,l,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,o));var x=g,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(j){var q=x.refs;j===null?delete q[E]:q[E]=j},l._stringRef=E,l)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function nm(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function X1(o){var l=o._init;return l(o._payload)}function J1(o){function l(Q,K){if(o){var J=Q.deletions;J===null?(Q.deletions=[K],Q.flags|=16):J.push(K)}}function h(Q,K){if(!o)return null;for(;K!==null;)l(Q,K),K=K.sibling;return null}function g(Q,K){for(Q=new Map;K!==null;)K.key!==null?Q.set(K.key,K):Q.set(K.index,K),K=K.sibling;return Q}function x(Q,K){return Q=Io(Q,K),Q.index=0,Q.sibling=null,Q}function E(Q,K,J){return Q.index=J,o?(J=Q.alternate,J!==null?(J=J.index,J<K?(Q.flags|=2,K):J):(Q.flags|=2,K)):(Q.flags|=1048576,K)}function j(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function q(Q,K,J,pe){return K===null||K.tag!==6?(K=Rv(J,Q.mode,pe),K.return=Q,K):(K=x(K,J),K.return=Q,K)}function G(Q,K,J,pe){var Ae=J.type;return Ae===P?ce(Q,K,J.props.children,pe,J.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===he&&X1(Ae)===K.type)?(pe=x(K,J.props),pe.ref=dd(Q,K,J),pe.return=Q,pe):(pe=Tm(J.type,J.key,J.props,null,Q.mode,pe),pe.ref=dd(Q,K,J),pe.return=Q,pe)}function ee(Q,K,J,pe){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=jv(J,Q.mode,pe),K.return=Q,K):(K=x(K,J.children||[]),K.return=Q,K)}function ce(Q,K,J,pe,Ae){return K===null||K.tag!==7?(K=qa(J,Q.mode,pe,Ae),K.return=Q,K):(K=x(K,J),K.return=Q,K)}function fe(Q,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Rv(""+K,Q.mode,J),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return J=Tm(K.type,K.key,K.props,null,Q.mode,J),J.ref=dd(Q,null,K),J.return=Q,J;case U:return K=jv(K,Q.mode,J),K.return=Q,K;case he:var pe=K._init;return fe(Q,pe(K._payload),J)}if(Dr(K)||X(K))return K=qa(K,Q.mode,J,null),K.return=Q,K;nm(Q,K)}return null}function le(Q,K,J,pe){var Ae=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ae!==null?null:q(Q,K,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case F:return J.key===Ae?G(Q,K,J,pe):null;case U:return J.key===Ae?ee(Q,K,J,pe):null;case he:return Ae=J._init,le(Q,K,Ae(J._payload),pe)}if(Dr(J)||X(J))return Ae!==null?null:ce(Q,K,J,pe,null);nm(Q,J)}return null}function be(Q,K,J,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Q=Q.get(J)||null,q(K,Q,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case F:return Q=Q.get(pe.key===null?J:pe.key)||null,G(K,Q,pe,Ae);case U:return Q=Q.get(pe.key===null?J:pe.key)||null,ee(K,Q,pe,Ae);case he:var Le=pe._init;return be(Q,K,J,Le(pe._payload),Ae)}if(Dr(pe)||X(pe))return Q=Q.get(J)||null,ce(K,Q,pe,Ae,null);nm(K,pe)}return null}function Ce(Q,K,J,pe){for(var Ae=null,Le=null,Fe=K,We=K=0,vn=null;Fe!==null&&We<J.length;We++){Fe.index>We?(vn=Fe,Fe=null):vn=Fe.sibling;var gt=le(Q,Fe,J[We],pe);if(gt===null){Fe===null&&(Fe=vn);break}o&&Fe&&gt.alternate===null&&l(Q,Fe),K=E(gt,K,We),Le===null?Ae=gt:Le.sibling=gt,Le=gt,Fe=vn}if(We===J.length)return h(Q,Fe),jt&&Oa(Q,We),Ae;if(Fe===null){for(;We<J.length;We++)Fe=fe(Q,J[We],pe),Fe!==null&&(K=E(Fe,K,We),Le===null?Ae=Fe:Le.sibling=Fe,Le=Fe);return jt&&Oa(Q,We),Ae}for(Fe=g(Q,Fe);We<J.length;We++)vn=be(Fe,Q,We,J[We],pe),vn!==null&&(o&&vn.alternate!==null&&Fe.delete(vn.key===null?We:vn.key),K=E(vn,K,We),Le===null?Ae=vn:Le.sibling=vn,Le=vn);return o&&Fe.forEach(function(Po){return l(Q,Po)}),jt&&Oa(Q,We),Ae}function Ie(Q,K,J,pe){var Ae=X(J);if(typeof Ae!="function")throw Error(n(150));if(J=Ae.call(J),J==null)throw Error(n(151));for(var Le=Ae=null,Fe=K,We=K=0,vn=null,gt=J.next();Fe!==null&&!gt.done;We++,gt=J.next()){Fe.index>We?(vn=Fe,Fe=null):vn=Fe.sibling;var Po=le(Q,Fe,gt.value,pe);if(Po===null){Fe===null&&(Fe=vn);break}o&&Fe&&Po.alternate===null&&l(Q,Fe),K=E(Po,K,We),Le===null?Ae=Po:Le.sibling=Po,Le=Po,Fe=vn}if(gt.done)return h(Q,Fe),jt&&Oa(Q,We),Ae;if(Fe===null){for(;!gt.done;We++,gt=J.next())gt=fe(Q,gt.value,pe),gt!==null&&(K=E(gt,K,We),Le===null?Ae=gt:Le.sibling=gt,Le=gt);return jt&&Oa(Q,We),Ae}for(Fe=g(Q,Fe);!gt.done;We++,gt=J.next())gt=be(Fe,Q,We,gt.value,pe),gt!==null&&(o&&gt.alternate!==null&&Fe.delete(gt.key===null?We:gt.key),K=E(gt,K,We),Le===null?Ae=gt:Le.sibling=gt,Le=gt);return o&&Fe.forEach(function(c4){return l(Q,c4)}),jt&&Oa(Q,We),Ae}function Kt(Q,K,J,pe){if(typeof J=="object"&&J!==null&&J.type===P&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case F:e:{for(var Ae=J.key,Le=K;Le!==null;){if(Le.key===Ae){if(Ae=J.type,Ae===P){if(Le.tag===7){h(Q,Le.sibling),K=x(Le,J.props.children),K.return=Q,Q=K;break e}}else if(Le.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===he&&X1(Ae)===Le.type){h(Q,Le.sibling),K=x(Le,J.props),K.ref=dd(Q,Le,J),K.return=Q,Q=K;break e}h(Q,Le);break}else l(Q,Le);Le=Le.sibling}J.type===P?(K=qa(J.props.children,Q.mode,pe,J.key),K.return=Q,Q=K):(pe=Tm(J.type,J.key,J.props,null,Q.mode,pe),pe.ref=dd(Q,K,J),pe.return=Q,Q=pe)}return j(Q);case U:e:{for(Le=J.key;K!==null;){if(K.key===Le)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){h(Q,K.sibling),K=x(K,J.children||[]),K.return=Q,Q=K;break e}else{h(Q,K);break}else l(Q,K);K=K.sibling}K=jv(J,Q.mode,pe),K.return=Q,Q=K}return j(Q);case he:return Le=J._init,Kt(Q,K,Le(J._payload),pe)}if(Dr(J))return Ce(Q,K,J,pe);if(X(J))return Ie(Q,K,J,pe);nm(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(h(Q,K.sibling),K=x(K,J),K.return=Q,Q=K):(h(Q,K),K=Rv(J,Q.mode,pe),K.return=Q,Q=K),j(Q)):h(Q,K)}return Kt}var mc=J1(!0),Z1=J1(!1),rm=xo(null),sm=null,pc=null,zy=null;function $y(){zy=pc=sm=null}function qy(o){var l=rm.current;Pt(rm),o._currentValue=l}function Wy(o,l,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===h)break;o=o.return}}function gc(o,l){sm=o,zy=pc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(or=!0),o.firstContext=null)}function zr(o){var l=o._currentValue;if(zy!==o)if(o={context:o,memoizedValue:l,next:null},pc===null){if(sm===null)throw Error(n(308));pc=o,sm.dependencies={lanes:0,firstContext:o}}else pc=pc.next=o;return l}var La=null;function Hy(o){La===null?La=[o]:La.push(o)}function eS(o,l,h,g){var x=l.interleaved;return x===null?(h.next=h,Hy(l)):(h.next=x.next,x.next=h),l.interleaved=h,wi(o,g)}function wi(o,l){o.lanes|=l;var h=o.alternate;for(h!==null&&(h.lanes|=l),h=o,o=o.return;o!==null;)o.childLanes|=l,h=o.alternate,h!==null&&(h.childLanes|=l),h=o,o=o.return;return h.tag===3?h.stateNode:null}var _o=!1;function Gy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tS(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function bi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function So(o,l,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(mt&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,wi(o,h)}return x=g.interleaved,x===null?(l.next=l,Hy(g)):(l.next=x.next,x.next=l),g.interleaved=l,wi(o,h)}function im(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,h|=g,l.lanes=h,ho(o,h)}}function nS(o,l){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var j={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?x=E=j:E=E.next=j,h=h.next}while(h!==null);E===null?x=E=l:E=E.next=l}else x=E=l;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:g.shared,effects:g.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}function om(o,l,h,g){var x=o.updateQueue;_o=!1;var E=x.firstBaseUpdate,j=x.lastBaseUpdate,q=x.shared.pending;if(q!==null){x.shared.pending=null;var G=q,ee=G.next;G.next=null,j===null?E=ee:j.next=ee,j=G;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,q=ce.lastBaseUpdate,q!==j&&(q===null?ce.firstBaseUpdate=ee:q.next=ee,ce.lastBaseUpdate=G))}if(E!==null){var fe=x.baseState;j=0,ce=ee=G=null,q=E;do{var le=q.lane,be=q.eventTime;if((g&le)===le){ce!==null&&(ce=ce.next={eventTime:be,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ce=o,Ie=q;switch(le=l,be=h,Ie.tag){case 1:if(Ce=Ie.payload,typeof Ce=="function"){fe=Ce.call(be,fe,le);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ie.payload,le=typeof Ce=="function"?Ce.call(be,fe,le):Ce,le==null)break e;fe=se({},fe,le);break e;case 2:_o=!0}}q.callback!==null&&q.lane!==0&&(o.flags|=64,le=x.effects,le===null?x.effects=[q]:le.push(q))}else be={eventTime:be,lane:le,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ce===null?(ee=ce=be,G=fe):ce=ce.next=be,j|=le;if(q=q.next,q===null){if(q=x.shared.pending,q===null)break;le=q,q=le.next,le.next=null,x.lastBaseUpdate=le,x.shared.pending=null}}while(!0);if(ce===null&&(G=fe),x.baseState=G,x.firstBaseUpdate=ee,x.lastBaseUpdate=ce,l=x.shared.interleaved,l!==null){x=l;do j|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);Ba|=j,o.lanes=j,o.memoizedState=fe}}function rS(o,l,h){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],x=g.callback;if(x!==null){if(g.callback=null,g=h,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var hd={},Ls=xo(hd),fd=xo(hd),md=xo(hd);function Fa(o){if(o===hd)throw Error(n(174));return o}function Ky(o,l){switch(Tt(md,l),Tt(fd,o),Tt(Ls,hd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$t(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=$t(l,o)}Pt(Ls),Tt(Ls,l)}function yc(){Pt(Ls),Pt(fd),Pt(md)}function sS(o){Fa(md.current);var l=Fa(Ls.current),h=$t(l,o.type);l!==h&&(Tt(fd,o),Tt(Ls,h))}function Yy(o){fd.current===o&&(Pt(Ls),Pt(fd))}var Lt=xo(0);function am(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Qy=[];function Xy(){for(var o=0;o<Qy.length;o++)Qy[o]._workInProgressVersionPrimary=null;Qy.length=0}var lm=B.ReactCurrentDispatcher,Jy=B.ReactCurrentBatchConfig,Va=0,Ft=null,cn=null,gn=null,cm=!1,pd=!1,gd=0,AO=0;function Rn(){throw Error(n(321))}function Zy(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!as(o[h],l[h]))return!1;return!0}function ev(o,l,h,g,x,E){if(Va=E,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,lm.current=o===null||o.memoizedState===null?MO:OO,o=h(g,x),pd){E=0;do{if(pd=!1,gd=0,25<=E)throw Error(n(301));E+=1,gn=cn=null,l.updateQueue=null,lm.current=LO,o=h(g,x)}while(pd)}if(lm.current=hm,l=cn!==null&&cn.next!==null,Va=0,gn=cn=Ft=null,cm=!1,l)throw Error(n(300));return o}function tv(){var o=gd!==0;return gd=0,o}function Fs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Ft.memoizedState=gn=o:gn=gn.next=o,gn}function $r(){if(cn===null){var o=Ft.alternate;o=o!==null?o.memoizedState:null}else o=cn.next;var l=gn===null?Ft.memoizedState:gn.next;if(l!==null)gn=l,cn=o;else{if(o===null)throw Error(n(310));cn=o,o={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},gn===null?Ft.memoizedState=gn=o:gn=gn.next=o}return gn}function yd(o,l){return typeof l=="function"?l(o):l}function nv(o){var l=$r(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var g=cn,x=g.baseQueue,E=h.pending;if(E!==null){if(x!==null){var j=x.next;x.next=E.next,E.next=j}g.baseQueue=x=E,h.pending=null}if(x!==null){E=x.next,g=g.baseState;var q=j=null,G=null,ee=E;do{var ce=ee.lane;if((Va&ce)===ce)G!==null&&(G=G.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),g=ee.hasEagerState?ee.eagerState:o(g,ee.action);else{var fe={lane:ce,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};G===null?(q=G=fe,j=g):G=G.next=fe,Ft.lanes|=ce,Ba|=ce}ee=ee.next}while(ee!==null&&ee!==E);G===null?j=g:G.next=q,as(g,l.memoizedState)||(or=!0),l.memoizedState=g,l.baseState=j,l.baseQueue=G,h.lastRenderedState=g}if(o=h.interleaved,o!==null){x=o;do E=x.lane,Ft.lanes|=E,Ba|=E,x=x.next;while(x!==o)}else x===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function rv(o){var l=$r(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var g=h.dispatch,x=h.pending,E=l.memoizedState;if(x!==null){h.pending=null;var j=x=x.next;do E=o(E,j.action),j=j.next;while(j!==x);as(E,l.memoizedState)||(or=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,g]}function iS(){}function oS(o,l){var h=Ft,g=$r(),x=l(),E=!as(g.memoizedState,x);if(E&&(g.memoizedState=x,or=!0),g=g.queue,sv(cS.bind(null,h,g,o),[o]),g.getSnapshot!==l||E||gn!==null&&gn.memoizedState.tag&1){if(h.flags|=2048,vd(9,lS.bind(null,h,g,x,l),void 0,null),yn===null)throw Error(n(349));(Va&30)!==0||aS(h,l,x)}return x}function aS(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function lS(o,l,h,g){l.value=h,l.getSnapshot=g,uS(l)&&dS(o)}function cS(o,l,h){return h(function(){uS(l)&&dS(o)})}function uS(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!as(o,h)}catch{return!0}}function dS(o){var l=wi(o,1);l!==null&&hs(l,o,1,-1)}function hS(o){var l=Fs();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:o},l.queue=o,o=o.dispatch=DO.bind(null,Ft,o),[l.memoizedState,o]}function vd(o,l,h,g){return o={tag:o,create:l,destroy:h,deps:g,next:null},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.lastEffect=o.next=o):(h=l.lastEffect,h===null?l.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,l.lastEffect=o)),o}function fS(){return $r().memoizedState}function um(o,l,h,g){var x=Fs();Ft.flags|=o,x.memoizedState=vd(1|l,h,void 0,g===void 0?null:g)}function dm(o,l,h,g){var x=$r();g=g===void 0?null:g;var E=void 0;if(cn!==null){var j=cn.memoizedState;if(E=j.destroy,g!==null&&Zy(g,j.deps)){x.memoizedState=vd(l,h,E,g);return}}Ft.flags|=o,x.memoizedState=vd(1|l,h,E,g)}function mS(o,l){return um(8390656,8,o,l)}function sv(o,l){return dm(2048,8,o,l)}function pS(o,l){return dm(4,2,o,l)}function gS(o,l){return dm(4,4,o,l)}function yS(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function vS(o,l,h){return h=h!=null?h.concat([o]):null,dm(4,4,yS.bind(null,l,o),h)}function iv(){}function xS(o,l){var h=$r();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Zy(l,g[1])?g[0]:(h.memoizedState=[o,l],o)}function wS(o,l){var h=$r();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Zy(l,g[1])?g[0]:(o=o(),h.memoizedState=[o,l],o)}function bS(o,l,h){return(Va&21)===0?(o.baseState&&(o.baseState=!1,or=!0),o.memoizedState=h):(as(h,l)||(h=Na(),Ft.lanes|=h,Ba|=h,o.baseState=!0),l)}function RO(o,l){var h=lt;lt=h!==0&&4>h?h:4,o(!0);var g=Jy.transition;Jy.transition={};try{o(!1),l()}finally{lt=h,Jy.transition=g}}function _S(){return $r().memoizedState}function jO(o,l,h){var g=ko(o);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},SS(o))ES(l,h);else if(h=eS(o,l,h,g),h!==null){var x=qn();hs(h,o,g,x),CS(h,l,g)}}function DO(o,l,h){var g=ko(o),x={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(SS(o))ES(l,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var j=l.lastRenderedState,q=E(j,h);if(x.hasEagerState=!0,x.eagerState=q,as(q,j)){var G=l.interleaved;G===null?(x.next=x,Hy(l)):(x.next=G.next,G.next=x),l.interleaved=x;return}}catch{}finally{}h=eS(o,l,x,g),h!==null&&(x=qn(),hs(h,o,g,x),CS(h,l,g))}}function SS(o){var l=o.alternate;return o===Ft||l!==null&&l===Ft}function ES(o,l){pd=cm=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function CS(o,l,h){if((h&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,h|=g,l.lanes=h,ho(o,h)}}var hm={readContext:zr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},MO={readContext:zr,useCallback:function(o,l){return Fs().memoizedState=[o,l===void 0?null:l],o},useContext:zr,useEffect:mS,useImperativeHandle:function(o,l,h){return h=h!=null?h.concat([o]):null,um(4194308,4,yS.bind(null,l,o),h)},useLayoutEffect:function(o,l){return um(4194308,4,o,l)},useInsertionEffect:function(o,l){return um(4,2,o,l)},useMemo:function(o,l){var h=Fs();return l=l===void 0?null:l,o=o(),h.memoizedState=[o,l],o},useReducer:function(o,l,h){var g=Fs();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=jO.bind(null,Ft,o),[g.memoizedState,o]},useRef:function(o){var l=Fs();return o={current:o},l.memoizedState=o},useState:hS,useDebugValue:iv,useDeferredValue:function(o){return Fs().memoizedState=o},useTransition:function(){var o=hS(!1),l=o[0];return o=RO.bind(null,o[1]),Fs().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,h){var g=Ft,x=Fs();if(jt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),yn===null)throw Error(n(349));(Va&30)!==0||aS(g,l,h)}x.memoizedState=h;var E={value:h,getSnapshot:l};return x.queue=E,mS(cS.bind(null,g,E,o),[o]),g.flags|=2048,vd(9,lS.bind(null,g,E,h,l),void 0,null),h},useId:function(){var o=Fs(),l=yn.identifierPrefix;if(jt){var h=xi,g=vi;h=(g&~(1<<32-Un(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=gd++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=AO++,l=":"+l+"r"+h.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},OO={readContext:zr,useCallback:xS,useContext:zr,useEffect:sv,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:wS,useReducer:nv,useRef:fS,useState:function(){return nv(yd)},useDebugValue:iv,useDeferredValue:function(o){var l=$r();return bS(l,cn.memoizedState,o)},useTransition:function(){var o=nv(yd)[0],l=$r().memoizedState;return[o,l]},useMutableSource:iS,useSyncExternalStore:oS,useId:_S,unstable_isNewReconciler:!1},LO={readContext:zr,useCallback:xS,useContext:zr,useEffect:sv,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:wS,useReducer:rv,useRef:fS,useState:function(){return rv(yd)},useDebugValue:iv,useDeferredValue:function(o){var l=$r();return cn===null?l.memoizedState=o:bS(l,cn.memoizedState,o)},useTransition:function(){var o=rv(yd)[0],l=$r().memoizedState;return[o,l]},useMutableSource:iS,useSyncExternalStore:oS,useId:_S,unstable_isNewReconciler:!1};function cs(o,l){if(o&&o.defaultProps){l=se({},l),o=o.defaultProps;for(var h in o)l[h]===void 0&&(l[h]=o[h]);return l}return l}function ov(o,l,h,g){l=o.memoizedState,h=h(g,l),h=h==null?l:se({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var fm={isMounted:function(o){return(o=o._reactInternals)?es(o)===o:!1},enqueueSetState:function(o,l,h){o=o._reactInternals;var g=qn(),x=ko(o),E=bi(g,x);E.payload=l,h!=null&&(E.callback=h),l=So(o,E,x),l!==null&&(hs(l,o,x,g),im(l,o,x))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var g=qn(),x=ko(o),E=bi(g,x);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=So(o,E,x),l!==null&&(hs(l,o,x,g),im(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=qn(),g=ko(o),x=bi(h,g);x.tag=2,l!=null&&(x.callback=l),l=So(o,x,g),l!==null&&(hs(l,o,g,h),im(l,o,g))}};function TS(o,l,h,g,x,E,j){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,E,j):l.prototype&&l.prototype.isPureReactComponent?!sd(h,g)||!sd(x,E):!0}function kS(o,l,h){var g=!1,x=wo,E=l.contextType;return typeof E=="object"&&E!==null?E=zr(E):(x=ir(l)?Da:An.current,g=l.contextTypes,E=(g=g!=null)?uc(o,x):wo),l=new l(h,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=fm,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=E),l}function NS(o,l,h,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==o&&fm.enqueueReplaceState(l,l.state,null)}function av(o,l,h,g){var x=o.stateNode;x.props=h,x.state=o.memoizedState,x.refs={},Gy(o);var E=l.contextType;typeof E=="object"&&E!==null?x.context=zr(E):(E=ir(l)?Da:An.current,x.context=uc(o,E)),x.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(ov(o,l,E,h),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&fm.enqueueReplaceState(x,x.state,null),om(o,h,x,g),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function vc(o,l){try{var h="",g=l;do h+=Re(g),g=g.return;while(g);var x=h}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:x,digest:null}}function lv(o,l,h){return{value:o,source:null,stack:h??null,digest:l??null}}function cv(o,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var FO=typeof WeakMap=="function"?WeakMap:Map;function IS(o,l,h){h=bi(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){wm||(wm=!0,Ev=g),cv(o,l)},h}function PS(o,l,h){h=bi(-1,h),h.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;h.payload=function(){return g(x)},h.callback=function(){cv(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){cv(o,l),typeof g!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})}),h}function AS(o,l,h){var g=o.pingCache;if(g===null){g=o.pingCache=new FO;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(h)||(x.add(h),o=JO.bind(null,o,l,h),l.then(o,o))}function RS(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function jS(o,l,h,g,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=bi(-1,1),l.tag=2,So(h,l,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var VO=B.ReactCurrentOwner,or=!1;function $n(o,l,h,g){l.child=o===null?Z1(l,null,h,g):mc(l,o.child,h,g)}function DS(o,l,h,g,x){h=h.render;var E=l.ref;return gc(l,x),g=ev(o,l,h,g,E,x),h=tv(),o!==null&&!or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,_i(o,l,x)):(jt&&h&&Ly(l),l.flags|=1,$n(o,l,g,x),l.child)}function MS(o,l,h,g,x){if(o===null){var E=h.type;return typeof E=="function"&&!Av(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=E,OS(o,l,E,g,x)):(o=Tm(h.type,null,g,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&x)===0){var j=E.memoizedProps;if(h=h.compare,h=h!==null?h:sd,h(j,g)&&o.ref===l.ref)return _i(o,l,x)}return l.flags|=1,o=Io(E,g),o.ref=l.ref,o.return=l,l.child=o}function OS(o,l,h,g,x){if(o!==null){var E=o.memoizedProps;if(sd(E,g)&&o.ref===l.ref)if(or=!1,l.pendingProps=g=E,(o.lanes&x)!==0)(o.flags&131072)!==0&&(or=!0);else return l.lanes=o.lanes,_i(o,l,x)}return uv(o,l,h,g,x)}function LS(o,l,h){var g=l.pendingProps,x=g.children,E=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(wc,Nr),Nr|=h;else{if((h&1073741824)===0)return o=E!==null?E.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Tt(wc,Nr),Nr|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:h,Tt(wc,Nr),Nr|=g}else E!==null?(g=E.baseLanes|h,l.memoizedState=null):g=h,Tt(wc,Nr),Nr|=g;return $n(o,l,x,h),l.child}function FS(o,l){var h=l.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function uv(o,l,h,g,x){var E=ir(h)?Da:An.current;return E=uc(l,E),gc(l,x),h=ev(o,l,h,g,E,x),g=tv(),o!==null&&!or?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,_i(o,l,x)):(jt&&g&&Ly(l),l.flags|=1,$n(o,l,h,x),l.child)}function VS(o,l,h,g,x){if(ir(h)){var E=!0;Xf(l)}else E=!1;if(gc(l,x),l.stateNode===null)pm(o,l),kS(l,h,g),av(l,h,g,x),g=!0;else if(o===null){var j=l.stateNode,q=l.memoizedProps;j.props=q;var G=j.context,ee=h.contextType;typeof ee=="object"&&ee!==null?ee=zr(ee):(ee=ir(h)?Da:An.current,ee=uc(l,ee));var ce=h.getDerivedStateFromProps,fe=typeof ce=="function"||typeof j.getSnapshotBeforeUpdate=="function";fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==g||G!==ee)&&NS(l,j,g,ee),_o=!1;var le=l.memoizedState;j.state=le,om(l,g,j,x),G=l.memoizedState,q!==g||le!==G||sr.current||_o?(typeof ce=="function"&&(ov(l,h,ce,g),G=l.memoizedState),(q=_o||TS(l,h,q,g,le,G,ee))?(fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(l.flags|=4194308)):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=G),j.props=g,j.state=G,j.context=ee,g=q):(typeof j.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{j=l.stateNode,tS(o,l),q=l.memoizedProps,ee=l.type===l.elementType?q:cs(l.type,q),j.props=ee,fe=l.pendingProps,le=j.context,G=h.contextType,typeof G=="object"&&G!==null?G=zr(G):(G=ir(h)?Da:An.current,G=uc(l,G));var be=h.getDerivedStateFromProps;(ce=typeof be=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(q!==fe||le!==G)&&NS(l,j,g,G),_o=!1,le=l.memoizedState,j.state=le,om(l,g,j,x);var Ce=l.memoizedState;q!==fe||le!==Ce||sr.current||_o?(typeof be=="function"&&(ov(l,h,be,g),Ce=l.memoizedState),(ee=_o||TS(l,h,ee,g,le,Ce,G)||!1)?(ce||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Ce,G),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Ce,G)),typeof j.componentDidUpdate=="function"&&(l.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof j.componentDidUpdate!="function"||q===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ce),j.props=g,j.state=Ce,j.context=G,g=ee):(typeof j.componentDidUpdate!="function"||q===o.memoizedProps&&le===o.memoizedState||(l.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&le===o.memoizedState||(l.flags|=1024),g=!1)}return dv(o,l,h,g,E,x)}function dv(o,l,h,g,x,E){FS(o,l);var j=(l.flags&128)!==0;if(!g&&!j)return x&&q1(l,h,!1),_i(o,l,E);g=l.stateNode,VO.current=l;var q=j&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&j?(l.child=mc(l,o.child,null,E),l.child=mc(l,null,q,E)):$n(o,l,q,E),l.memoizedState=g.state,x&&q1(l,h,!0),l.child}function BS(o){var l=o.stateNode;l.pendingContext?z1(o,l.pendingContext,l.pendingContext!==l.context):l.context&&z1(o,l.context,!1),Ky(o,l.containerInfo)}function US(o,l,h,g,x){return fc(),Uy(x),l.flags|=256,$n(o,l,h,g),l.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function fv(o){return{baseLanes:o,cachePool:null,transitions:null}}function zS(o,l,h){var g=l.pendingProps,x=Lt.current,E=!1,j=(l.flags&128)!==0,q;if((q=j)||(q=o!==null&&o.memoizedState===null?!1:(x&2)!==0),q?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Tt(Lt,x&1),o===null)return By(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(j=g.children,o=g.fallback,E?(g=l.mode,E=l.child,j={mode:"hidden",children:j},(g&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=j):E=km(j,g,0,null),o=qa(o,g,h,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=fv(h),l.memoizedState=hv,o):mv(l,j));if(x=o.memoizedState,x!==null&&(q=x.dehydrated,q!==null))return BO(o,l,j,g,q,x,h);if(E){E=g.fallback,j=l.mode,x=o.child,q=x.sibling;var G={mode:"hidden",children:g.children};return(j&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=G,l.deletions=null):(g=Io(x,G),g.subtreeFlags=x.subtreeFlags&14680064),q!==null?E=Io(q,E):(E=qa(E,j,h,null),E.flags|=2),E.return=l,g.return=l,g.sibling=E,l.child=g,g=E,E=l.child,j=o.child.memoizedState,j=j===null?fv(h):{baseLanes:j.baseLanes|h,cachePool:null,transitions:j.transitions},E.memoizedState=j,E.childLanes=o.childLanes&~h,l.memoizedState=hv,g}return E=o.child,o=E.sibling,g=Io(E,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,o!==null&&(h=l.deletions,h===null?(l.deletions=[o],l.flags|=16):h.push(o)),l.child=g,l.memoizedState=null,g}function mv(o,l){return l=km({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function mm(o,l,h,g){return g!==null&&Uy(g),mc(l,o.child,null,h),o=mv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function BO(o,l,h,g,x,E,j){if(h)return l.flags&256?(l.flags&=-257,g=lv(Error(n(422))),mm(o,l,j,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=g.fallback,x=l.mode,g=km({mode:"visible",children:g.children},x,0,null),E=qa(E,x,j,null),E.flags|=2,g.return=l,E.return=l,g.sibling=E,l.child=g,(l.mode&1)!==0&&mc(l,o.child,null,j),l.child.memoizedState=fv(j),l.memoizedState=hv,E);if((l.mode&1)===0)return mm(o,l,j,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var q=g.dgst;return g=q,E=Error(n(419)),g=lv(E,g,void 0),mm(o,l,j,g)}if(q=(j&o.childLanes)!==0,or||q){if(g=yn,g!==null){switch(j&-j){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|j))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,wi(o,x),hs(g,o,x,-1))}return Pv(),g=lv(Error(n(421))),mm(o,l,j,g)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=ZO.bind(null,o),x._reactRetry=l,null):(o=E.treeContext,kr=vo(x.nextSibling),Tr=l,jt=!0,ls=null,o!==null&&(Br[Ur++]=vi,Br[Ur++]=xi,Br[Ur++]=Ma,vi=o.id,xi=o.overflow,Ma=l),l=mv(l,g.children),l.flags|=4096,l)}function $S(o,l,h){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Wy(o.return,l,h)}function pv(o,l,h,g,x){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=h,E.tailMode=x)}function qS(o,l,h){var g=l.pendingProps,x=g.revealOrder,E=g.tail;if($n(o,l,g.children,h),g=Lt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$S(o,h,l);else if(o.tag===19)$S(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(Tt(Lt,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(h=l.child,x=null;h!==null;)o=h.alternate,o!==null&&am(o)===null&&(x=h),h=h.sibling;h=x,h===null?(x=l.child,l.child=null):(x=h.sibling,h.sibling=null),pv(l,!1,x,h,E);break;case"backwards":for(h=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&am(o)===null){l.child=x;break}o=x.sibling,x.sibling=h,h=x,x=o}pv(l,!0,h,null,E);break;case"together":pv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function pm(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function _i(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Ba|=l.lanes,(h&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,h=Io(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Io(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function UO(o,l,h){switch(l.tag){case 3:BS(l),fc();break;case 5:sS(l);break;case 1:ir(l.type)&&Xf(l);break;case 4:Ky(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;Tt(rm,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Tt(Lt,Lt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?zS(o,l,h):(Tt(Lt,Lt.current&1),o=_i(o,l,h),o!==null?o.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(o.flags&128)!==0){if(g)return qS(o,l,h);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Tt(Lt,Lt.current),g)break;return null;case 22:case 23:return l.lanes=0,LS(o,l,h)}return _i(o,l,h)}var WS,gv,HS,GS;WS=function(o,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},gv=function(){},HS=function(o,l,h,g){var x=o.memoizedProps;if(x!==g){o=l.stateNode,Fa(Ls.current);var E=null;switch(h){case"input":x=Ot(o,x),g=Ot(o,g),E=[];break;case"select":x=se({},x,{value:void 0}),g=se({},g,{value:void 0}),E=[];break;case"textarea":x=no(o,x),g=no(o,g),E=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Kf)}oo(h,g);var j;h=null;for(ee in x)if(!g.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var q=x[ee];for(j in q)q.hasOwnProperty(j)&&(h||(h={}),h[j]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?E||(E=[]):(E=E||[]).push(ee,null));for(ee in g){var G=g[ee];if(q=x!=null?x[ee]:void 0,g.hasOwnProperty(ee)&&G!==q&&(G!=null||q!=null))if(ee==="style")if(q){for(j in q)!q.hasOwnProperty(j)||G&&G.hasOwnProperty(j)||(h||(h={}),h[j]="");for(j in G)G.hasOwnProperty(j)&&q[j]!==G[j]&&(h||(h={}),h[j]=G[j])}else h||(E||(E=[]),E.push(ee,h)),h=G;else ee==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,q=q?q.__html:void 0,G!=null&&q!==G&&(E=E||[]).push(ee,G)):ee==="children"?typeof G!="string"&&typeof G!="number"||(E=E||[]).push(ee,""+G):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(G!=null&&ee==="onScroll"&&It("scroll",o),E||q===G||(E=[])):(E=E||[]).push(ee,G))}h&&(E=E||[]).push("style",h);var ee=E;(l.updateQueue=ee)&&(l.flags|=4)}},GS=function(o,l,h,g){h!==g&&(l.flags|=4)};function xd(o,l){if(!jt)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function jn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(l)for(var x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=h,l}function zO(o,l,h){var g=l.pendingProps;switch(Fy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(l),null;case 1:return ir(l.type)&&Qf(),jn(l),null;case 3:return g=l.stateNode,yc(),Pt(sr),Pt(An),Xy(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(tm(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ls!==null&&(kv(ls),ls=null))),gv(o,l),jn(l),null;case 5:Yy(l);var x=Fa(md.current);if(h=l.type,o!==null&&l.stateNode!=null)HS(o,l,h,g,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return jn(l),null}if(o=Fa(Ls.current),tm(l)){g=l.stateNode,h=l.type;var E=l.memoizedProps;switch(g[Os]=l,g[cd]=E,o=(l.mode&1)!==0,h){case"dialog":It("cancel",g),It("close",g);break;case"iframe":case"object":case"embed":It("load",g);break;case"video":case"audio":for(x=0;x<od.length;x++)It(od[x],g);break;case"source":It("error",g);break;case"img":case"image":case"link":It("error",g),It("load",g);break;case"details":It("toggle",g);break;case"input":Jn(g,E),It("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},It("invalid",g);break;case"textarea":li(g,E),It("invalid",g)}oo(h,E),x=null;for(var j in E)if(E.hasOwnProperty(j)){var q=E[j];j==="children"?typeof q=="string"?g.textContent!==q&&(E.suppressHydrationWarning!==!0&&Gf(g.textContent,q,o),x=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(E.suppressHydrationWarning!==!0&&Gf(g.textContent,q,o),x=["children",""+q]):s.hasOwnProperty(j)&&q!=null&&j==="onScroll"&&It("scroll",g)}switch(h){case"input":Ye(g),ai(g,E,!0);break;case"textarea":Ye(g),ro(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=Kf)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{j=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=zt(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=j.createElement(h,{is:g.is}):(o=j.createElement(h),h==="select"&&(j=o,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):o=j.createElementNS(o,h),o[Os]=l,o[cd]=g,WS(o,l,!1,!1),l.stateNode=o;e:{switch(j=Bu(h,g),h){case"dialog":It("cancel",o),It("close",o),x=g;break;case"iframe":case"object":case"embed":It("load",o),x=g;break;case"video":case"audio":for(x=0;x<od.length;x++)It(od[x],o);x=g;break;case"source":It("error",o),x=g;break;case"img":case"image":case"link":It("error",o),It("load",o),x=g;break;case"details":It("toggle",o),x=g;break;case"input":Jn(o,g),x=Ot(o,g),It("invalid",o);break;case"option":x=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},x=se({},g,{value:void 0}),It("invalid",o);break;case"textarea":li(o,g),x=no(o,g),It("invalid",o);break;default:x=g}oo(h,x),q=x;for(E in q)if(q.hasOwnProperty(E)){var G=q[E];E==="style"?so(o,G):E==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Se(o,G)):E==="children"?typeof G=="string"?(h!=="textarea"||G!=="")&&ve(o,G):typeof G=="number"&&ve(o,""+G):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?G!=null&&E==="onScroll"&&It("scroll",o):G!=null&&R(o,E,G,j))}switch(h){case"input":Ye(o),ai(o,g,!1);break;case"textarea":Ye(o),ro(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ne(g.value));break;case"select":o.multiple=!!g.multiple,E=g.value,E!=null?Mr(o,!!g.multiple,E,!1):g.defaultValue!=null&&Mr(o,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Kf)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jn(l),null;case 6:if(o&&l.stateNode!=null)GS(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=Fa(md.current),Fa(Ls.current),tm(l)){if(g=l.stateNode,h=l.memoizedProps,g[Os]=l,(E=g.nodeValue!==h)&&(o=Tr,o!==null))switch(o.tag){case 3:Gf(g.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Gf(g.nodeValue,h,(o.mode&1)!==0)}E&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Os]=l,l.stateNode=g}return jn(l),null;case 13:if(Pt(Lt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(jt&&kr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Q1(),fc(),l.flags|=98560,E=!1;else if(E=tm(l),g!==null&&g.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Os]=l}else fc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jn(l),E=!1}else ls!==null&&(kv(ls),ls=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Lt.current&1)!==0?un===0&&(un=3):Pv())),l.updateQueue!==null&&(l.flags|=4),jn(l),null);case 4:return yc(),gv(o,l),o===null&&ad(l.stateNode.containerInfo),jn(l),null;case 10:return qy(l.type._context),jn(l),null;case 17:return ir(l.type)&&Qf(),jn(l),null;case 19:if(Pt(Lt),E=l.memoizedState,E===null)return jn(l),null;if(g=(l.flags&128)!==0,j=E.rendering,j===null)if(g)xd(E,!1);else{if(un!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(j=am(o),j!==null){for(l.flags|=128,xd(E,!1),g=j.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)E=h,o=g,E.flags&=14680066,j=E.alternate,j===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=j.childLanes,E.lanes=j.lanes,E.child=j.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=j.memoizedProps,E.memoizedState=j.memoizedState,E.updateQueue=j.updateQueue,E.type=j.type,o=j.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Tt(Lt,Lt.current&1|2),l.child}o=o.sibling}E.tail!==null&&Ct()>bc&&(l.flags|=128,g=!0,xd(E,!1),l.lanes=4194304)}else{if(!g)if(o=am(j),o!==null){if(l.flags|=128,g=!0,h=o.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),xd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!j.alternate&&!jt)return jn(l),null}else 2*Ct()-E.renderingStartTime>bc&&h!==1073741824&&(l.flags|=128,g=!0,xd(E,!1),l.lanes=4194304);E.isBackwards?(j.sibling=l.child,l.child=j):(h=E.last,h!==null?h.sibling=j:l.child=j,E.last=j)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Ct(),l.sibling=null,h=Lt.current,Tt(Lt,g?h&1|2:h&1),l):(jn(l),null);case 22:case 23:return Iv(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Nr&1073741824)!==0&&(jn(l),l.subtreeFlags&6&&(l.flags|=8192)):jn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function $O(o,l){switch(Fy(l),l.tag){case 1:return ir(l.type)&&Qf(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return yc(),Pt(sr),Pt(An),Xy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Yy(l),null;case 13:if(Pt(Lt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));fc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Pt(Lt),null;case 4:return yc(),null;case 10:return qy(l.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var gm=!1,Dn=!1,qO=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function xc(o,l){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){qt(o,l,g)}else h.current=null}function yv(o,l,h){try{h()}catch(g){qt(o,l,g)}}var KS=!1;function WO(o,l){if(Iy=po,o=T1(),by(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var j=0,q=-1,G=-1,ee=0,ce=0,fe=o,le=null;t:for(;;){for(var be;fe!==h||x!==0&&fe.nodeType!==3||(q=j+x),fe!==E||g!==0&&fe.nodeType!==3||(G=j+g),fe.nodeType===3&&(j+=fe.nodeValue.length),(be=fe.firstChild)!==null;)le=fe,fe=be;for(;;){if(fe===o)break t;if(le===h&&++ee===x&&(q=j),le===E&&++ce===g&&(G=j),(be=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=be}h=q===-1||G===-1?null:{start:q,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(Py={focusedElem:o,selectionRange:h},po=!1,Ee=l;Ee!==null;)if(l=Ee,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ee=o;else for(;Ee!==null;){l=Ee;try{var Ce=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ie=Ce.memoizedProps,Kt=Ce.memoizedState,Q=l.stateNode,K=Q.getSnapshotBeforeUpdate(l.elementType===l.type?Ie:cs(l.type,Ie),Kt);Q.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){qt(l,l.return,pe)}if(o=l.sibling,o!==null){o.return=l.return,Ee=o;break}Ee=l.return}return Ce=KS,KS=!1,Ce}function wd(o,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&o)===o){var E=x.destroy;x.destroy=void 0,E!==void 0&&yv(l,h,E)}x=x.next}while(x!==g)}}function ym(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&o)===o){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function vv(o){var l=o.ref;if(l!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof l=="function"?l(o):l.current=o}}function YS(o){var l=o.alternate;l!==null&&(o.alternate=null,YS(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Os],delete l[cd],delete l[Dy],delete l[kO],delete l[NO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function QS(o){return o.tag===5||o.tag===3||o.tag===4}function XS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||QS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xv(o,l,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(o,l):h.insertBefore(o,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(o,h)):(l=h,l.appendChild(o)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Kf));else if(g!==4&&(o=o.child,o!==null))for(xv(o,l,h),o=o.sibling;o!==null;)xv(o,l,h),o=o.sibling}function wv(o,l,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(wv(o,l,h),o=o.sibling;o!==null;)wv(o,l,h),o=o.sibling}var En=null,us=!1;function Eo(o,l,h){for(h=h.child;h!==null;)JS(o,l,h),h=h.sibling}function JS(o,l,h){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Ta,h)}catch{}switch(h.tag){case 5:Dn||xc(h,l);case 6:var g=En,x=us;En=null,Eo(o,l,h),En=g,us=x,En!==null&&(us?(o=En,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):En.removeChild(h.stateNode));break;case 18:En!==null&&(us?(o=En,h=h.stateNode,o.nodeType===8?jy(o.parentNode,h):o.nodeType===1&&jy(o,h),is(o)):jy(En,h.stateNode));break;case 4:g=En,x=us,En=h.stateNode.containerInfo,us=!0,Eo(o,l,h),En=g,us=x;break;case 0:case 11:case 14:case 15:if(!Dn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var E=x,j=E.destroy;E=E.tag,j!==void 0&&((E&2)!==0||(E&4)!==0)&&yv(h,l,j),x=x.next}while(x!==g)}Eo(o,l,h);break;case 1:if(!Dn&&(xc(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(q){qt(h,l,q)}Eo(o,l,h);break;case 21:Eo(o,l,h);break;case 22:h.mode&1?(Dn=(g=Dn)||h.memoizedState!==null,Eo(o,l,h),Dn=g):Eo(o,l,h);break;default:Eo(o,l,h)}}function ZS(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new qO),l.forEach(function(g){var x=e4.bind(null,o,g);h.has(g)||(h.add(g),g.then(x,x))})}}function ds(o,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];try{var E=o,j=l,q=j;e:for(;q!==null;){switch(q.tag){case 5:En=q.stateNode,us=!1;break e;case 3:En=q.stateNode.containerInfo,us=!0;break e;case 4:En=q.stateNode.containerInfo,us=!0;break e}q=q.return}if(En===null)throw Error(n(160));JS(E,j,x),En=null,us=!1;var G=x.alternate;G!==null&&(G.return=null),x.return=null}catch(ee){qt(x,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)eE(l,o),l=l.sibling}function eE(o,l){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ds(l,o),Vs(o),g&4){try{wd(3,o,o.return),ym(3,o)}catch(Ie){qt(o,o.return,Ie)}try{wd(5,o,o.return)}catch(Ie){qt(o,o.return,Ie)}}break;case 1:ds(l,o),Vs(o),g&512&&h!==null&&xc(h,h.return);break;case 5:if(ds(l,o),Vs(o),g&512&&h!==null&&xc(h,h.return),o.flags&32){var x=o.stateNode;try{ve(x,"")}catch(Ie){qt(o,o.return,Ie)}}if(g&4&&(x=o.stateNode,x!=null)){var E=o.memoizedProps,j=h!==null?h.memoizedProps:E,q=o.type,G=o.updateQueue;if(o.updateQueue=null,G!==null)try{q==="input"&&E.type==="radio"&&E.name!=null&&Zn(x,E),Bu(q,j);var ee=Bu(q,E);for(j=0;j<G.length;j+=2){var ce=G[j],fe=G[j+1];ce==="style"?so(x,fe):ce==="dangerouslySetInnerHTML"?Se(x,fe):ce==="children"?ve(x,fe):R(x,ce,fe,ee)}switch(q){case"input":br(x,E);break;case"textarea":ci(x,E);break;case"select":var le=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var be=E.value;be!=null?Mr(x,!!E.multiple,be,!1):le!==!!E.multiple&&(E.defaultValue!=null?Mr(x,!!E.multiple,E.defaultValue,!0):Mr(x,!!E.multiple,E.multiple?[]:"",!1))}x[cd]=E}catch(Ie){qt(o,o.return,Ie)}}break;case 6:if(ds(l,o),Vs(o),g&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,E=o.memoizedProps;try{x.nodeValue=E}catch(Ie){qt(o,o.return,Ie)}}break;case 3:if(ds(l,o),Vs(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{is(l.containerInfo)}catch(Ie){qt(o,o.return,Ie)}break;case 4:ds(l,o),Vs(o);break;case 13:ds(l,o),Vs(o),x=o.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Sv=Ct())),g&4&&ZS(o);break;case 22:if(ce=h!==null&&h.memoizedState!==null,o.mode&1?(Dn=(ee=Dn)||ce,ds(l,o),Dn=ee):ds(l,o),Vs(o),g&8192){if(ee=o.memoizedState!==null,(o.stateNode.isHidden=ee)&&!ce&&(o.mode&1)!==0)for(Ee=o,ce=o.child;ce!==null;){for(fe=Ee=ce;Ee!==null;){switch(le=Ee,be=le.child,le.tag){case 0:case 11:case 14:case 15:wd(4,le,le.return);break;case 1:xc(le,le.return);var Ce=le.stateNode;if(typeof Ce.componentWillUnmount=="function"){g=le,h=le.return;try{l=g,Ce.props=l.memoizedProps,Ce.state=l.memoizedState,Ce.componentWillUnmount()}catch(Ie){qt(g,h,Ie)}}break;case 5:xc(le,le.return);break;case 22:if(le.memoizedState!==null){rE(fe);continue}}be!==null?(be.return=le,Ee=be):rE(fe)}ce=ce.sibling}e:for(ce=null,fe=o;;){if(fe.tag===5){if(ce===null){ce=fe;try{x=fe.stateNode,ee?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(q=fe.stateNode,G=fe.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null,q.style.display=tr("display",j))}catch(Ie){qt(o,o.return,Ie)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=ee?"":fe.memoizedProps}catch(Ie){qt(o,o.return,Ie)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===o)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===o)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===o)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ds(l,o),Vs(o),g&4&&ZS(o);break;case 21:break;default:ds(l,o),Vs(o)}}function Vs(o){var l=o.flags;if(l&2){try{e:{for(var h=o.return;h!==null;){if(QS(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(ve(x,""),g.flags&=-33);var E=XS(o);wv(o,E,x);break;case 3:case 4:var j=g.stateNode.containerInfo,q=XS(o);xv(o,q,j);break;default:throw Error(n(161))}}catch(G){qt(o,o.return,G)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function HO(o,l,h){Ee=o,tE(o)}function tE(o,l,h){for(var g=(o.mode&1)!==0;Ee!==null;){var x=Ee,E=x.child;if(x.tag===22&&g){var j=x.memoizedState!==null||gm;if(!j){var q=x.alternate,G=q!==null&&q.memoizedState!==null||Dn;q=gm;var ee=Dn;if(gm=j,(Dn=G)&&!ee)for(Ee=x;Ee!==null;)j=Ee,G=j.child,j.tag===22&&j.memoizedState!==null?sE(x):G!==null?(G.return=j,Ee=G):sE(x);for(;E!==null;)Ee=E,tE(E),E=E.sibling;Ee=x,gm=q,Dn=ee}nE(o)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,Ee=E):nE(o)}}function nE(o){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Dn||ym(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Dn)if(h===null)g.componentDidMount();else{var x=l.elementType===l.type?h.memoizedProps:cs(l.type,h.memoizedProps);g.componentDidUpdate(x,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&rS(l,E,g);break;case 3:var j=l.updateQueue;if(j!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}rS(l,j,h)}break;case 5:var q=l.stateNode;if(h===null&&l.flags&4){h=q;var G=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&h.focus();break;case"img":G.src&&(h.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var ce=ee.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&is(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||l.flags&512&&vv(l)}catch(le){qt(l,l.return,le)}}if(l===o){Ee=null;break}if(h=l.sibling,h!==null){h.return=l.return,Ee=h;break}Ee=l.return}}function rE(o){for(;Ee!==null;){var l=Ee;if(l===o){Ee=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Ee=h;break}Ee=l.return}}function sE(o){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{ym(4,l)}catch(G){qt(l,h,G)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(G){qt(l,x,G)}}var E=l.return;try{vv(l)}catch(G){qt(l,E,G)}break;case 5:var j=l.return;try{vv(l)}catch(G){qt(l,j,G)}}}catch(G){qt(l,l.return,G)}if(l===o){Ee=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Ee=q;break}Ee=l.return}}var GO=Math.ceil,vm=B.ReactCurrentDispatcher,bv=B.ReactCurrentOwner,qr=B.ReactCurrentBatchConfig,mt=0,yn=null,tn=null,Cn=0,Nr=0,wc=xo(0),un=0,bd=null,Ba=0,xm=0,_v=0,_d=null,ar=null,Sv=0,bc=1/0,Si=null,wm=!1,Ev=null,Co=null,bm=!1,To=null,_m=0,Sd=0,Cv=null,Sm=-1,Em=0;function qn(){return(mt&6)!==0?Ct():Sm!==-1?Sm:Sm=Ct()}function ko(o){return(o.mode&1)===0?1:(mt&2)!==0&&Cn!==0?Cn&-Cn:PO.transition!==null?(Em===0&&(Em=Na()),Em):(o=lt,o!==0||(o=window.event,o=o===void 0?16:Xu(o.type)),o)}function hs(o,l,h,g){if(50<Sd)throw Sd=0,Cv=null,Error(n(185));uo(o,h,g),((mt&2)===0||o!==yn)&&(o===yn&&((mt&2)===0&&(xm|=h),un===4&&No(o,Cn)),lr(o,g),h===1&&mt===0&&(l.mode&1)===0&&(bc=Ct()+500,Jf&&bo()))}function lr(o,l){var h=o.callbackNode;di(o,l);var g=ka(o,o===yn?Cn:0);if(g===0)h!==null&&Hu(h),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(h!=null&&Hu(h),l===1)o.tag===0?IO(oE.bind(null,o)):W1(oE.bind(null,o)),CO(function(){(mt&6)===0&&bo()}),h=null;else{switch(fo(g)){case 1:h=Ca;break;case 4:h=ao;break;case 16:h=Lr;break;case 536870912:h=Ef;break;default:h=Lr}h=mE(h,iE.bind(null,o))}o.callbackPriority=l,o.callbackNode=h}}function iE(o,l){if(Sm=-1,Em=0,(mt&6)!==0)throw Error(n(327));var h=o.callbackNode;if(_c()&&o.callbackNode!==h)return null;var g=ka(o,o===yn?Cn:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Cm(o,g);else{l=g;var x=mt;mt|=2;var E=lE();(yn!==o||Cn!==l)&&(Si=null,bc=Ct()+500,za(o,l));do try{QO();break}catch(q){aE(o,q)}while(!0);$y(),vm.current=E,mt=x,tn!==null?l=0:(yn=null,Cn=0,l=un)}if(l!==0){if(l===2&&(x=Sr(o),x!==0&&(g=x,l=Tv(o,x))),l===1)throw h=bd,za(o,0),No(o,g),lr(o,Ct()),h;if(l===6)No(o,g);else{if(x=o.current.alternate,(g&30)===0&&!KO(x)&&(l=Cm(o,g),l===2&&(E=Sr(o),E!==0&&(g=E,l=Tv(o,E))),l===1))throw h=bd,za(o,0),No(o,g),lr(o,Ct()),h;switch(o.finishedWork=x,o.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:$a(o,ar,Si);break;case 3:if(No(o,g),(g&130023424)===g&&(l=Sv+500-Ct(),10<l)){if(ka(o,0)!==0)break;if(x=o.suspendedLanes,(x&g)!==g){qn(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Ry($a.bind(null,o,ar,Si),l);break}$a(o,ar,Si);break;case 4:if(No(o,g),(g&4194240)===g)break;for(l=o.eventTimes,x=-1;0<g;){var j=31-Un(g);E=1<<j,j=l[j],j>x&&(x=j),g&=~E}if(g=x,g=Ct()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*GO(g/1960))-g,10<g){o.timeoutHandle=Ry($a.bind(null,o,ar,Si),g);break}$a(o,ar,Si);break;case 5:$a(o,ar,Si);break;default:throw Error(n(329))}}}return lr(o,Ct()),o.callbackNode===h?iE.bind(null,o):null}function Tv(o,l){var h=_d;return o.current.memoizedState.isDehydrated&&(za(o,l).flags|=256),o=Cm(o,l),o!==2&&(l=ar,ar=h,l!==null&&kv(l)),o}function kv(o){ar===null?ar=o:ar.push.apply(ar,o)}function KO(o){for(var l=o;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var x=h[g],E=x.getSnapshot;x=x.value;try{if(!as(E(),x))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function No(o,l){for(l&=~_v,l&=~xm,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var h=31-Un(l),g=1<<h;o[h]=-1,l&=~g}}function oE(o){if((mt&6)!==0)throw Error(n(327));_c();var l=ka(o,0);if((l&1)===0)return lr(o,Ct()),null;var h=Cm(o,l);if(o.tag!==0&&h===2){var g=Sr(o);g!==0&&(l=g,h=Tv(o,g))}if(h===1)throw h=bd,za(o,0),No(o,l),lr(o,Ct()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,$a(o,ar,Si),lr(o,Ct()),null}function Nv(o,l){var h=mt;mt|=1;try{return o(l)}finally{mt=h,mt===0&&(bc=Ct()+500,Jf&&bo())}}function Ua(o){To!==null&&To.tag===0&&(mt&6)===0&&_c();var l=mt;mt|=1;var h=qr.transition,g=lt;try{if(qr.transition=null,lt=1,o)return o()}finally{lt=g,qr.transition=h,mt=l,(mt&6)===0&&bo()}}function Iv(){Nr=wc.current,Pt(wc)}function za(o,l){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,EO(h)),tn!==null)for(h=tn.return;h!==null;){var g=h;switch(Fy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Qf();break;case 3:yc(),Pt(sr),Pt(An),Xy();break;case 5:Yy(g);break;case 4:yc();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:qy(g.type._context);break;case 22:case 23:Iv()}h=h.return}if(yn=o,tn=o=Io(o.current,null),Cn=Nr=l,un=0,bd=null,_v=xm=Ba=0,ar=_d=null,La!==null){for(l=0;l<La.length;l++)if(h=La[l],g=h.interleaved,g!==null){h.interleaved=null;var x=g.next,E=h.pending;if(E!==null){var j=E.next;E.next=x,g.next=j}h.pending=g}La=null}return o}function aE(o,l){do{var h=tn;try{if($y(),lm.current=hm,cm){for(var g=Ft.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}cm=!1}if(Va=0,gn=cn=Ft=null,pd=!1,gd=0,bv.current=null,h===null||h.return===null){un=1,bd=l,tn=null;break}e:{var E=o,j=h.return,q=h,G=l;if(l=Cn,q.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ee=G,ce=q,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var be=RS(j);if(be!==null){be.flags&=-257,jS(be,j,q,E,l),be.mode&1&&AS(E,ee,l),l=be,G=ee;var Ce=l.updateQueue;if(Ce===null){var Ie=new Set;Ie.add(G),l.updateQueue=Ie}else Ce.add(G);break e}else{if((l&1)===0){AS(E,ee,l),Pv();break e}G=Error(n(426))}}else if(jt&&q.mode&1){var Kt=RS(j);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),jS(Kt,j,q,E,l),Uy(vc(G,q));break e}}E=G=vc(G,q),un!==4&&(un=2),_d===null?_d=[E]:_d.push(E),E=j;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var Q=IS(E,G,l);nS(E,Q);break e;case 1:q=G;var K=E.type,J=E.stateNode;if((E.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Co===null||!Co.has(J)))){E.flags|=65536,l&=-l,E.lanes|=l;var pe=PS(E,q,l);nS(E,pe);break e}}E=E.return}while(E!==null)}uE(h)}catch(Ae){l=Ae,tn===h&&h!==null&&(tn=h=h.return);continue}break}while(!0)}function lE(){var o=vm.current;return vm.current=hm,o===null?hm:o}function Pv(){(un===0||un===3||un===2)&&(un=4),yn===null||(Ba&268435455)===0&&(xm&268435455)===0||No(yn,Cn)}function Cm(o,l){var h=mt;mt|=2;var g=lE();(yn!==o||Cn!==l)&&(Si=null,za(o,l));do try{YO();break}catch(x){aE(o,x)}while(!0);if($y(),mt=h,vm.current=g,tn!==null)throw Error(n(261));return yn=null,Cn=0,un}function YO(){for(;tn!==null;)cE(tn)}function QO(){for(;tn!==null&&!_f();)cE(tn)}function cE(o){var l=fE(o.alternate,o,Nr);o.memoizedProps=o.pendingProps,l===null?uE(o):tn=l,bv.current=null}function uE(o){var l=o;do{var h=l.alternate;if(o=l.return,(l.flags&32768)===0){if(h=zO(h,l,Nr),h!==null){tn=h;return}}else{if(h=$O(h,l),h!==null){h.flags&=32767,tn=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{un=6,tn=null;return}}if(l=l.sibling,l!==null){tn=l;return}tn=l=o}while(l!==null);un===0&&(un=5)}function $a(o,l,h){var g=lt,x=qr.transition;try{qr.transition=null,lt=1,XO(o,l,h,g)}finally{qr.transition=x,lt=g}return null}function XO(o,l,h,g){do _c();while(To!==null);if((mt&6)!==0)throw Error(n(327));h=o.finishedWork;var x=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var E=h.lanes|h.childLanes;if(St(o,E),o===yn&&(tn=yn=null,Cn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||bm||(bm=!0,mE(Lr,function(){return _c(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=qr.transition,qr.transition=null;var j=lt;lt=1;var q=mt;mt|=4,bv.current=null,WO(o,h),eE(h,o),yO(Py),po=!!Iy,Py=Iy=null,o.current=h,HO(h),fy(),mt=q,lt=j,qr.transition=E}else o.current=h;if(bm&&(bm=!1,To=o,_m=x),E=o.pendingLanes,E===0&&(Co=null),Cf(h.stateNode),lr(o,Ct()),l!==null)for(g=o.onRecoverableError,h=0;h<l.length;h++)x=l[h],g(x.value,{componentStack:x.stack,digest:x.digest});if(wm)throw wm=!1,o=Ev,Ev=null,o;return(_m&1)!==0&&o.tag!==0&&_c(),E=o.pendingLanes,(E&1)!==0?o===Cv?Sd++:(Sd=0,Cv=o):Sd=0,bo(),null}function _c(){if(To!==null){var o=fo(_m),l=qr.transition,h=lt;try{if(qr.transition=null,lt=16>o?16:o,To===null)var g=!1;else{if(o=To,To=null,_m=0,(mt&6)!==0)throw Error(n(331));var x=mt;for(mt|=4,Ee=o.current;Ee!==null;){var E=Ee,j=E.child;if((Ee.flags&16)!==0){var q=E.deletions;if(q!==null){for(var G=0;G<q.length;G++){var ee=q[G];for(Ee=ee;Ee!==null;){var ce=Ee;switch(ce.tag){case 0:case 11:case 15:wd(8,ce,E)}var fe=ce.child;if(fe!==null)fe.return=ce,Ee=fe;else for(;Ee!==null;){ce=Ee;var le=ce.sibling,be=ce.return;if(YS(ce),ce===ee){Ee=null;break}if(le!==null){le.return=be,Ee=le;break}Ee=be}}}var Ce=E.alternate;if(Ce!==null){var Ie=Ce.child;if(Ie!==null){Ce.child=null;do{var Kt=Ie.sibling;Ie.sibling=null,Ie=Kt}while(Ie!==null)}}Ee=E}}if((E.subtreeFlags&2064)!==0&&j!==null)j.return=E,Ee=j;else e:for(;Ee!==null;){if(E=Ee,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:wd(9,E,E.return)}var Q=E.sibling;if(Q!==null){Q.return=E.return,Ee=Q;break e}Ee=E.return}}var K=o.current;for(Ee=K;Ee!==null;){j=Ee;var J=j.child;if((j.subtreeFlags&2064)!==0&&J!==null)J.return=j,Ee=J;else e:for(j=K;Ee!==null;){if(q=Ee,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:ym(9,q)}}catch(Ae){qt(q,q.return,Ae)}if(q===j){Ee=null;break e}var pe=q.sibling;if(pe!==null){pe.return=q.return,Ee=pe;break e}Ee=q.return}}if(mt=x,bo(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Ta,o)}catch{}g=!0}return g}finally{lt=h,qr.transition=l}}return!1}function dE(o,l,h){l=vc(h,l),l=IS(o,l,1),o=So(o,l,1),l=qn(),o!==null&&(uo(o,1,l),lr(o,l))}function qt(o,l,h){if(o.tag===3)dE(o,o,h);else for(;l!==null;){if(l.tag===3){dE(l,o,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Co===null||!Co.has(g))){o=vc(h,o),o=PS(l,o,1),l=So(l,o,1),o=qn(),l!==null&&(uo(l,1,o),lr(l,o));break}}l=l.return}}function JO(o,l,h){var g=o.pingCache;g!==null&&g.delete(l),l=qn(),o.pingedLanes|=o.suspendedLanes&h,yn===o&&(Cn&h)===h&&(un===4||un===3&&(Cn&130023424)===Cn&&500>Ct()-Sv?za(o,0):_v|=h),lr(o,l)}function hE(o,l){l===0&&((o.mode&1)===0?l=1:(l=Wl,Wl<<=1,(Wl&130023424)===0&&(Wl=4194304)));var h=qn();o=wi(o,l),o!==null&&(uo(o,l,h),lr(o,h))}function ZO(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),hE(o,h)}function e4(o,l){var h=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),hE(o,h)}var fE;fE=function(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps||sr.current)or=!0;else{if((o.lanes&h)===0&&(l.flags&128)===0)return or=!1,UO(o,l,h);or=(o.flags&131072)!==0}else or=!1,jt&&(l.flags&1048576)!==0&&H1(l,em,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;pm(o,l),o=l.pendingProps;var x=uc(l,An.current);gc(l,h),x=ev(null,l,g,o,x,h);var E=tv();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ir(g)?(E=!0,Xf(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Gy(l),x.updater=fm,l.stateNode=x,x._reactInternals=l,av(l,g,o,h),l=dv(null,l,g,!0,E,h)):(l.tag=0,jt&&E&&Ly(l),$n(null,l,x,h),l=l.child),l;case 16:g=l.elementType;e:{switch(pm(o,l),o=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=n4(g),o=cs(g,o),x){case 0:l=uv(null,l,g,o,h);break e;case 1:l=VS(null,l,g,o,h);break e;case 11:l=DS(null,l,g,o,h);break e;case 14:l=MS(null,l,g,cs(g.type,o),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:cs(g,x),uv(o,l,g,x,h);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:cs(g,x),VS(o,l,g,x,h);case 3:e:{if(BS(l),o===null)throw Error(n(387));g=l.pendingProps,E=l.memoizedState,x=E.element,tS(o,l),om(l,g,null,h);var j=l.memoizedState;if(g=j.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=vc(Error(n(423)),l),l=US(o,l,g,h,x);break e}else if(g!==x){x=vc(Error(n(424)),l),l=US(o,l,g,h,x);break e}else for(kr=vo(l.stateNode.containerInfo.firstChild),Tr=l,jt=!0,ls=null,h=Z1(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(fc(),g===x){l=_i(o,l,h);break e}$n(o,l,g,h)}l=l.child}return l;case 5:return sS(l),o===null&&By(l),g=l.type,x=l.pendingProps,E=o!==null?o.memoizedProps:null,j=x.children,Ay(g,x)?j=null:E!==null&&Ay(g,E)&&(l.flags|=32),FS(o,l),$n(o,l,j,h),l.child;case 6:return o===null&&By(l),null;case 13:return zS(o,l,h);case 4:return Ky(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=mc(l,null,g,h):$n(o,l,g,h),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:cs(g,x),DS(o,l,g,x,h);case 7:return $n(o,l,l.pendingProps,h),l.child;case 8:return $n(o,l,l.pendingProps.children,h),l.child;case 12:return $n(o,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,E=l.memoizedProps,j=x.value,Tt(rm,g._currentValue),g._currentValue=j,E!==null)if(as(E.value,j)){if(E.children===x.children&&!sr.current){l=_i(o,l,h);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var q=E.dependencies;if(q!==null){j=E.child;for(var G=q.firstContext;G!==null;){if(G.context===g){if(E.tag===1){G=bi(-1,h&-h),G.tag=2;var ee=E.updateQueue;if(ee!==null){ee=ee.shared;var ce=ee.pending;ce===null?G.next=G:(G.next=ce.next,ce.next=G),ee.pending=G}}E.lanes|=h,G=E.alternate,G!==null&&(G.lanes|=h),Wy(E.return,h,l),q.lanes|=h;break}G=G.next}}else if(E.tag===10)j=E.type===l.type?null:E.child;else if(E.tag===18){if(j=E.return,j===null)throw Error(n(341));j.lanes|=h,q=j.alternate,q!==null&&(q.lanes|=h),Wy(j,h,l),j=E.sibling}else j=E.child;if(j!==null)j.return=E;else for(j=E;j!==null;){if(j===l){j=null;break}if(E=j.sibling,E!==null){E.return=j.return,j=E;break}j=j.return}E=j}$n(o,l,x.children,h),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,gc(l,h),x=zr(x),g=g(x),l.flags|=1,$n(o,l,g,h),l.child;case 14:return g=l.type,x=cs(g,l.pendingProps),x=cs(g.type,x),MS(o,l,g,x,h);case 15:return OS(o,l,l.type,l.pendingProps,h);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:cs(g,x),pm(o,l),l.tag=1,ir(g)?(o=!0,Xf(l)):o=!1,gc(l,h),kS(l,g,x),av(l,g,x,h),dv(null,l,g,!0,o,h);case 19:return qS(o,l,h);case 22:return LS(o,l,h)}throw Error(n(156,l.tag))};function mE(o,l){return $l(o,l)}function t4(o,l,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(o,l,h,g){return new t4(o,l,h,g)}function Av(o){return o=o.prototype,!(!o||!o.isReactComponent)}function n4(o){if(typeof o=="function")return Av(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===ye)return 14}return 2}function Io(o,l){var h=o.alternate;return h===null?(h=Wr(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function Tm(o,l,h,g,x,E){var j=2;if(g=o,typeof o=="function")Av(o)&&(j=1);else if(typeof o=="string")j=5;else e:switch(o){case P:return qa(h.children,x,E,l);case k:j=8,x|=8;break;case D:return o=Wr(12,h,l,x|2),o.elementType=D,o.lanes=E,o;case M:return o=Wr(13,h,l,x),o.elementType=M,o.lanes=E,o;case oe:return o=Wr(19,h,l,x),o.elementType=oe,o.lanes=E,o;case Z:return km(h,x,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:j=10;break e;case L:j=9;break e;case z:j=11;break e;case ye:j=14;break e;case he:j=16,g=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=Wr(j,h,l,x),l.elementType=o,l.type=g,l.lanes=E,l}function qa(o,l,h,g){return o=Wr(7,o,g,l),o.lanes=h,o}function km(o,l,h,g){return o=Wr(22,o,g,l),o.elementType=Z,o.lanes=h,o.stateNode={isHidden:!1},o}function Rv(o,l,h){return o=Wr(6,o,null,l),o.lanes=h,o}function jv(o,l,h){return l=Wr(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function r4(o,l,h,g,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Dv(o,l,h,g,x,E,j,q,G){return o=new r4(o,l,h,q,G),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Wr(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gy(E),o}function s4(o,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:g==null?null:""+g,children:o,containerInfo:l,implementation:h}}function pE(o){if(!o)return wo;o=o._reactInternals;e:{if(es(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ir(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(ir(h))return $1(o,h,l)}return l}function gE(o,l,h,g,x,E,j,q,G){return o=Dv(h,g,!0,o,x,E,j,q,G),o.context=pE(null),h=o.current,g=qn(),x=ko(h),E=bi(g,x),E.callback=l??null,So(h,E,x),o.current.lanes=x,uo(o,x,g),lr(o,g),o}function Nm(o,l,h,g){var x=l.current,E=qn(),j=ko(x);return h=pE(h),l.context===null?l.context=h:l.pendingContext=h,l=bi(E,j),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=So(x,l,j),o!==null&&(hs(o,x,j,E),im(o,x,j)),j}function Im(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function yE(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function Mv(o,l){yE(o,l),(o=o.alternate)&&yE(o,l)}function i4(){return null}var vE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ov(o){this._internalRoot=o}Pm.prototype.render=Ov.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Nm(o,l,null,null)},Pm.prototype.unmount=Ov.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ua(function(){Nm(null,o,null,null)}),l[gi]=null}};function Pm(o){this._internalRoot=o}Pm.prototype.unstable_scheduleHydration=function(o){if(o){var l=Pf();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Rs.length&&l!==0&&l<Rs[h].priority;h++);Rs.splice(h,0,o),h===0&&jf(o)}};function Lv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Am(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function xE(){}function o4(o,l,h,g,x){if(x){if(typeof g=="function"){var E=g;g=function(){var ee=Im(j);E.call(ee)}}var j=gE(l,g,o,0,null,!1,!1,"",xE);return o._reactRootContainer=j,o[gi]=j.current,ad(o.nodeType===8?o.parentNode:o),Ua(),j}for(;x=o.lastChild;)o.removeChild(x);if(typeof g=="function"){var q=g;g=function(){var ee=Im(G);q.call(ee)}}var G=Dv(o,0,!1,null,null,!1,!1,"",xE);return o._reactRootContainer=G,o[gi]=G.current,ad(o.nodeType===8?o.parentNode:o),Ua(function(){Nm(l,G,h,g)}),G}function Rm(o,l,h,g,x){var E=h._reactRootContainer;if(E){var j=E;if(typeof x=="function"){var q=x;x=function(){var G=Im(j);q.call(G)}}Nm(l,j,o,x)}else j=o4(h,l,o,x,g);return Im(j)}Nf=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var h=lo(l.pendingLanes);h!==0&&(ho(l,h|1),lr(l,Ct()),(mt&6)===0&&(bc=Ct()+500,bo()))}break;case 13:Ua(function(){var g=wi(o,1);if(g!==null){var x=qn();hs(g,o,1,x)}}),Mv(o,1)}},Hl=function(o){if(o.tag===13){var l=wi(o,134217728);if(l!==null){var h=qn();hs(l,o,134217728,h)}Mv(o,134217728)}},If=function(o){if(o.tag===13){var l=ko(o),h=wi(o,l);if(h!==null){var g=qn();hs(h,o,l,g)}Mv(o,l)}},Pf=function(){return lt},Af=function(o,l){var h=lt;try{return lt=o,l()}finally{lt=h}},Ll=function(o,l,h){switch(l){case"input":if(br(o,h),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==o&&g.form===o.form){var x=Yf(g);if(!x)throw Error(n(90));Qe(g),br(g,x)}}}break;case"textarea":ci(o,h);break;case"select":l=h.value,l!=null&&Mr(o,!!h.multiple,l,!1)}},ba=Nv,zu=Ua;var a4={usingClientEntryPoint:!1,Events:[ud,lc,Yf,Ps,Uu,Nv]},Ed={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l4={bundleType:Ed.bundleType,version:Ed.version,rendererPackageName:Ed.rendererPackageName,rendererConfig:Ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Wu(o),o===null?null:o.stateNode},findFiberByHostInstance:Ed.findFiberByHostInstance||i4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jm.isDisabled&&jm.supportsFiber)try{Ta=jm.inject(l4),_r=jm}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a4,cr.createPortal=function(o,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lv(l))throw Error(n(200));return s4(o,l,null,h)},cr.createRoot=function(o,l){if(!Lv(o))throw Error(n(299));var h=!1,g="",x=vE;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Dv(o,1,!1,null,null,h,!1,g,x),o[gi]=l.current,ad(o.nodeType===8?o.parentNode:o),new Ov(l)},cr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Wu(l),o=o===null?null:o.stateNode,o},cr.flushSync=function(o){return Ua(o)},cr.hydrate=function(o,l,h){if(!Am(l))throw Error(n(200));return Rm(null,o,l,!0,h)},cr.hydrateRoot=function(o,l,h){if(!Lv(o))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,x=!1,E="",j=vE;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(j=h.onRecoverableError)),l=gE(l,null,o,1,h??null,x,!1,E,j),o[gi]=l.current,ad(o),g)for(o=0;o<g.length;o++)h=g[o],x=h._getVersion,x=x(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,x]:l.mutableSourceEagerHydrationData.push(h,x);return new Pm(l)},cr.render=function(o,l,h){if(!Am(l))throw Error(n(200));return Rm(null,o,l,!1,h)},cr.unmountComponentAtNode=function(o){if(!Am(o))throw Error(n(40));return o._reactRootContainer?(Ua(function(){Rm(null,null,o,!1,function(){o._reactRootContainer=null,o[gi]=null})}),!0):!1},cr.unstable_batchedUpdates=Nv,cr.unstable_renderSubtreeIntoContainer=function(o,l,h,g){if(!Am(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Rm(o,l,h,!1,g)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var NE;function YN(){if(NE)return Uv.exports;NE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uv.exports=g4(),Uv.exports}var IE;function y4(){if(IE)return Mm;IE=1;var t=YN();return Mm.createRoot=t.createRoot,Mm.hydrateRoot=t.hydrateRoot,Mm}var v4=y4();const x4=jw(v4);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PE="popstate";function w4(t={}){function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return Qx("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:th(s)}return _4(e,n,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b4(){return Math.random().toString(36).substring(2,10)}function AE(t,e){return{usr:t.state,key:t.key,idx:e}}function Qx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wu(e):e,state:n,key:e&&e.key||r||b4()}}function th({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _4(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c="POP",d=null,f=m();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function m(){return(a.state||{idx:null}).idx}function y(){c="POP";let S=m(),I=S==null?null:S-f;f=S,d&&d({action:c,location:C.location,delta:I})}function v(S,I){c="PUSH";let A=Qx(C.location,S,I);f=m()+1;let R=AE(A,f),B=C.createHref(A);try{a.pushState(R,"",B)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(B)}i&&d&&d({action:c,location:C.location,delta:1})}function b(S,I){c="REPLACE";let A=Qx(C.location,S,I);f=m();let R=AE(A,f),B=C.createHref(A);a.replaceState(R,"",B),i&&d&&d({action:c,location:C.location,delta:0})}function T(S){return S4(S)}let C={get action(){return c},get location(){return t(s,a)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(PE,y),d=S,()=>{s.removeEventListener(PE,y),d=null}},createHref(S){return e(s,S)},createURL:T,encodeLocation(S){let I=T(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:b,go(S){return a.go(S)}};return C}function S4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:th(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function QN(t,e,n="/"){return E4(t,e,n,!1)}function E4(t,e,n,r){let s=typeof e=="string"?wu(e):e,i=zi(s.pathname||"/",n);if(i==null)return null;let a=XN(t);C4(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=O4(i);c=D4(a[d],f,r)}return c}function XN(t,e=[],n=[],r="",s=!1){let i=(a,c,d=s,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;Mt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=Mi([r,m.relativePath]),v=n.concat(m);a.children&&a.children.length>0&&(Mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),XN(a.children,e,v,y,d)),!(a.path==null&&!a.index)&&e.push({path:y,score:R4(y,a.index),routesMeta:v})};return t.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,c);else for(let f of JN(a.path))i(a,c,!0,f)}),e}function JN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=JN(r.join("/")),c=[];return c.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function C4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var T4=/^:[\w-]+$/,k4=3,N4=2,I4=1,P4=10,A4=-2,RE=t=>t==="*";function R4(t,e){let n=t.split("/"),r=n.length;return n.some(RE)&&(r+=A4),e&&(r+=N4),n.filter(s=>!RE(s)).reduce((s,i)=>s+(T4.test(i)?k4:i===""?I4:P4),r)}function j4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function D4(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",y=Pp({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=Pp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),a.push({params:s,pathname:Mi([i,y.pathname]),pathnameBase:B4(Mi([i,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(i=Mi([i,y.pathnameBase]))}return a}function Pp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:y},v)=>{if(m==="*"){let T=c[v]||"";a=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const b=c[v];return y&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function M4(t,e=!1,n=!0){Xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function O4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ZN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L4=t=>ZN.test(t);function F4(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?wu(t):t,i;if(n)if(L4(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Xr(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?i=jE(n.substring(1),"/"):i=jE(n,e)}else i=e;return{pathname:i,search:U4(r),hash:z4(s)}}function jE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ow(t){let e=V4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lw(t,e,n,r=!1){let s;typeof t=="string"?s=wu(t):(s={...t},Mt(!s.pathname||!s.pathname.includes("?"),qv("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),qv("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),qv("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let y=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),y-=1;s.pathname=v.join("/")}c=y>=0?e[y]:"/"}let d=F4(s,c),f=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Mi=t=>t.join("/").replace(/\/\/+/g,"/"),B4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,$4=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function q4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function W4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tI(t,e){let n=t;if(typeof n!="string"||!ZN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(eI)try{let i=new URL(window.location.href),a=n.startsWith("//")?new URL(i.protocol+n):new URL(n),c=zi(a.pathname,e);a.origin===i.origin&&c!=null?n=c+a.search+a.hash:s=!0}catch{Xr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nI=["POST","PUT","PATCH","DELETE"];new Set(nI);var H4=["GET",...nI];new Set(H4);var bu=w.createContext(null);bu.displayName="DataRouter";var xg=w.createContext(null);xg.displayName="DataRouterState";var G4=w.createContext(!1),rI=w.createContext({isTransitioning:!1});rI.displayName="ViewTransition";var K4=w.createContext(new Map);K4.displayName="Fetchers";var Y4=w.createContext(null);Y4.displayName="Await";var jr=w.createContext(null);jr.displayName="Navigation";var jh=w.createContext(null);jh.displayName="Location";var ii=w.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Fw=w.createContext(null);Fw.displayName="RouteError";var sI="REACT_ROUTER_ERROR",Q4="REDIRECT",X4="ROUTE_ERROR_RESPONSE";function J4(t){if(t.startsWith(`${sI}:${Q4}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Z4(t){if(t.startsWith(`${sI}:${X4}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $4(e.status,e.statusText,e.data)}catch{}}function eL(t,{relative:e}={}){Mt(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(jr),{hash:s,pathname:i,search:a}=Dh(t,{relative:e}),c=i;return n!=="/"&&(c=i==="/"?n:Mi([n,i])),r.createHref({pathname:c,search:a,hash:s})}function _u(){return w.useContext(jh)!=null}function eo(){return Mt(_u(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(jh).location}var iI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oI(t){w.useContext(jr).static||w.useLayoutEffect(t)}function wg(){let{isDataRoute:t}=w.useContext(ii);return t?fL():tL()}function tL(){Mt(_u(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(bu),{basename:e,navigator:n}=w.useContext(jr),{matches:r}=w.useContext(ii),{pathname:s}=eo(),i=JSON.stringify(Ow(r)),a=w.useRef(!1);return oI(()=>{a.current=!0}),w.useCallback((d,f={})=>{if(Xr(a.current,iI),!a.current)return;if(typeof d=="number"){n.go(d);return}let m=Lw(d,JSON.parse(i),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mi([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,i,s,t])}w.createContext(null);function Dh(t,{relative:e}={}){let{matches:n}=w.useContext(ii),{pathname:r}=eo(),s=JSON.stringify(Ow(n));return w.useMemo(()=>Lw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function nL(t,e){return aI(t,e)}function aI(t,e,n,r,s){var A;Mt(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(jr),{matches:a}=w.useContext(ii),c=a[a.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let R=y&&y.path||"";cI(f,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=eo(),b;if(e){let R=typeof e=="string"?wu(e):e;Mt(m==="/"||((A=R.pathname)==null?void 0:A.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),b=R}else b=v;let T=b.pathname||"/",C=T;if(m!=="/"){let R=m.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=QN(t,{pathname:C});Xr(y||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Xr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=aL(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:Mi([m,i.encodeLocation?i.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Mi([m,i.encodeLocation?i.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),a,n,r,s);return e&&I?w.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function rL(){let t=hL(),e=q4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,a)}var sL=w.createElement(rL,null),lI=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Z4(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(ii.Provider,{value:this.props.routeContext},w.createElement(Fw.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(iL,{error:t},e):e}};lI.contextType=G4;var Wv=new WeakMap;function iL({children:t,error:e}){let{basename:n}=w.useContext(jr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=J4(e.digest);if(r){let s=Wv.get(e);if(s)throw s;let i=tI(r.location,n);if(eI&&!Wv.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Wv.set(e,a),a}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function oL({routeContext:t,match:e,children:n}){let r=w.useContext(bu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ii.Provider,{value:t},n)}function aL(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let m=i.findIndex(y=>y.route.id&&(a==null?void 0:a[y.route.id])!==void 0);Mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let y=i[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=m),y.route.id){let{loaderData:v,errors:b}=n,T=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||T){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let f=n&&r?(m,y)=>{var v,b;r(m,{location:n.location,params:((b=(v=n.matches)==null?void 0:v[0])==null?void 0:b.params)??{},unstable_pattern:W4(n.matches),errorInfo:y})}:void 0;return i.reduceRight((m,y,v)=>{let b,T=!1,C=null,S=null;n&&(b=a&&y.route.id?a[y.route.id]:void 0,C=y.route.errorElement||sL,c&&(d<0&&v===0?(cI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):d===v&&(T=!0,S=y.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,v+1)),A=()=>{let R;return b?R=C:T?R=S:y.route.Component?R=w.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=m,w.createElement(oL,{match:y,routeContext:{outlet:m,matches:I,isDataRoute:n!=null},children:R})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?w.createElement(lI,{location:n.location,revalidation:n.revalidation,component:C,error:b,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:f}):A()},null)}function Vw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lL(t){let e=w.useContext(bu);return Mt(e,Vw(t)),e}function cL(t){let e=w.useContext(xg);return Mt(e,Vw(t)),e}function uL(t){let e=w.useContext(ii);return Mt(e,Vw(t)),e}function Bw(t){let e=uL(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dL(){return Bw("useRouteId")}function hL(){var r;let t=w.useContext(Fw),e=cL("useRouteError"),n=Bw("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function fL(){let{router:t}=lL("useNavigate"),e=Bw("useNavigate"),n=w.useRef(!1);return oI(()=>{n.current=!0}),w.useCallback(async(s,i={})=>{Xr(n.current,iI),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var DE={};function cI(t,e,n){!e&&!DE[t]&&(DE[t]=!0,Xr(!1,n))}w.memo(mL);function mL({routes:t,future:e,state:n,onError:r}){return aI(t,void 0,n,r,e)}function ME({to:t,replace:e,state:n,relative:r}){Mt(_u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(jr);Xr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(ii),{pathname:a}=eo(),c=wg(),d=Lw(t,Ow(i),a,r==="path"),f=JSON.stringify(d);return w.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function xn(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){Mt(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[c,s,i,a]);typeof n=="string"&&(n=wu(n));let{pathname:f="/",search:m="",hash:y="",state:v=null,key:b="default"}=n,T=w.useMemo(()=>{let C=zi(f,c);return C==null?null:{location:{pathname:C,search:m,hash:y,state:v,key:b},navigationType:r}},[c,f,m,y,v,b,r]);return Xr(T!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:w.createElement(jr.Provider,{value:d},w.createElement(jh.Provider,{children:e,value:T}))}function gL({children:t,location:e}){return nL(Xx(t),e)}function Xx(t,e=[]){let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Xx(r.props.children,i));return}Mt(r.type===xn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Xx(r.props.children,i)),n.push(a)}),n}var rp="get",sp="application/x-www-form-urlencoded";function bg(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function yL(t){return bg(t)&&t.tagName.toLowerCase()==="button"}function vL(t){return bg(t)&&t.tagName.toLowerCase()==="form"}function xL(t){return bg(t)&&t.tagName.toLowerCase()==="input"}function wL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bL(t,e){return t.button===0&&(!e||e==="_self")&&!wL(t)}var Om=null;function _L(){if(Om===null)try{new FormData(document.createElement("form"),0),Om=!1}catch{Om=!0}return Om}var SL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hv(t){return t!=null&&!SL.has(t)?(Xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sp}"`),null):t}function EL(t,e){let n,r,s,i,a;if(vL(t)){let c=t.getAttribute("action");r=c?zi(c,e):null,n=t.getAttribute("method")||rp,s=Hv(t.getAttribute("enctype"))||sp,i=new FormData(t)}else if(yL(t)||xL(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?zi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||rp,s=Hv(t.getAttribute("formenctype"))||Hv(c.getAttribute("enctype"))||sp,i=new FormData(c,t),!_L()){let{name:f,type:m,value:y}=t;if(m==="image"){let v=f?`${f}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else f&&i.append(f,y)}}else{if(bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rp,r=null,s=sp,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Uw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function CL(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&zi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function TL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NL(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await TL(i,n);return a.links?a.links():[]}return[]}));return RL(r.flat(1).filter(kL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function OE(t,e,n,r,s,i){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>{var m;return n[f].pathname!==d.pathname||((m=n[f].route.path)==null?void 0:m.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return i==="assets"?e.filter((d,f)=>a(d,f)||c(d,f)):i==="data"?e.filter((d,f)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(a(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function IL(t,e,{includeHydrateFallback:n}={}){return PL(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function PL(t){return[...new Set(t)]}function AL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function RL(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(AL(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function uI(){let t=w.useContext(bu);return Uw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jL(){let t=w.useContext(xg);return Uw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zw=w.createContext(void 0);zw.displayName="FrameworkContext";function dI(){let t=w.useContext(zw);return Uw(t,"You must render this element inside a <HydratedRouter> element"),t}function DL(t,e){let n=w.useContext(zw),[r,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,v=w.useRef(null);w.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let C=I=>{I.forEach(A=>{a(A.isIntersecting)})},S=new IntersectionObserver(C,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[t]),w.useEffect(()=>{if(r){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{s(!0)},T=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,v,{}]:[i,v,{onFocus:Td(c,b),onBlur:Td(d,T),onMouseEnter:Td(f,b),onMouseLeave:Td(m,T),onTouchStart:Td(y,b)}]:[!1,v,{}]}function Td(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ML({page:t,...e}){let{router:n}=uI(),r=w.useMemo(()=>QN(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(LL,{page:t,matches:r,...e}):null}function OL(t){let{manifest:e,routeModules:n}=dI(),[r,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return NL(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function LL({page:t,matches:e,...n}){let r=eo(),{manifest:s,routeModules:i}=dI(),{basename:a}=uI(),{loaderData:c,matches:d}=jL(),f=w.useMemo(()=>OE(t,e,d,s,r,"data"),[t,e,d,s,r]),m=w.useMemo(()=>OE(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,C=!1;if(e.forEach(I=>{var R;let A=s.routes[I.route.id];!A||!A.hasLoader||(!f.some(B=>B.route.id===I.route.id)&&I.route.id in c&&((R=i[I.route.id])!=null&&R.shouldRevalidate)||A.hasClientLoader?C=!0:T.add(I.route.id))}),T.size===0)return[];let S=CL(t,a,"data");return C&&T.size>0&&S.searchParams.set("_routes",e.filter(I=>T.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[a,c,r,s,f,e,t,i]),v=w.useMemo(()=>IL(m,s),[m,s]),b=OL(m);return w.createElement(w.Fragment,null,y.map(T=>w.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),v.map(T=>w.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),b.map(({key:T,link:C})=>w.createElement("link",{key:T,nonce:n.nonce,...C})))}function FL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VL&&(window.__reactRouterVersion="7.11.0")}catch{}function BL({basename:t,children:e,unstable_useTransitions:n,window:r}){let s=w.useRef();s.current==null&&(s.current=w4({window:r,v5Compat:!0}));let i=s.current,[a,c]=w.useState({action:i.action,location:i.location}),d=w.useCallback(f=>{n===!1?c(f):w.startTransition(()=>c(f))},[n]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.createElement(pL,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:n})}var hI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:c,target:d,to:f,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:v,...b},T){let{basename:C,unstable_useTransitions:S}=w.useContext(jr),I=typeof f=="string"&&hI.test(f),A=tI(f,C);f=A.to;let R=eL(f,{relative:s}),[B,F,U]=DL(r,b),P=qL(f,{replace:a,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:S});function k(O){e&&e(O),O.defaultPrevented||P(O)}let D=w.createElement("a",{...b,...U,href:A.absoluteURL||R,onClick:A.isExternal||i?e:k,ref:FL(T,F),target:d,"data-discover":!I&&n==="render"?"true":void 0});return B&&!I?w.createElement(w.Fragment,null,D,w.createElement(ML,{page:R})):D});Yt.displayName="Link";var UL=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:c,children:d,...f},m){let y=Dh(a,{relative:f.relative}),v=eo(),b=w.useContext(xg),{navigator:T,basename:C}=w.useContext(jr),S=b!=null&&YL(y)&&c===!0,I=T.encodeLocation?T.encodeLocation(y).pathname:y.pathname,A=v.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(A=A.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&C&&(R=zi(R,C)||R);const B=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=A===I||!s&&A.startsWith(I)&&A.charAt(B)==="/",U=R!=null&&(R===I||!s&&R.startsWith(I)&&R.charAt(I.length)==="/"),P={isActive:F,isPending:U,isTransitioning:S},k=F?e:void 0,D;typeof r=="function"?D=r(P):D=[r,F?"active":null,U?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let O=typeof i=="function"?i(P):i;return w.createElement(Yt,{...f,"aria-current":k,className:D,ref:m,style:O,to:a,viewTransition:c},typeof d=="function"?d(P):d)});UL.displayName="NavLink";var zL=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=rp,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:v,...b},T)=>{let{unstable_useTransitions:C}=w.useContext(jr),S=GL(),I=KL(c,{relative:f}),A=a.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&hI.test(c),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,P=(U==null?void 0:U.getAttribute("formmethod"))||a,k=()=>S(U||F.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:s,state:i,relative:f,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:v});C&&n!==!1?w.startTransition(()=>k()):k()};return w.createElement("form",{ref:T,method:A,action:I,onSubmit:r?d:B,...b,"data-discover":!R&&t==="render"?"true":void 0})});zL.displayName="Form";function $L(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fI(t){let e=w.useContext(bu);return Mt(e,$L(t)),e}function qL(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=wg(),m=eo(),y=Dh(t,{relative:i});return w.useCallback(v=>{if(bL(v,e)){v.preventDefault();let b=n!==void 0?n:th(m)===th(y),T=()=>f(t,{replace:b,state:r,preventScrollReset:s,relative:i,viewTransition:a,unstable_defaultShouldRevalidate:c});d?w.startTransition(()=>T()):T()}},[m,f,y,n,r,e,t,s,i,a,c,d])}var WL=0,HL=()=>`__${String(++WL)}__`;function GL(){let{router:t}=fI("useSubmit"),{basename:e}=w.useContext(jr),n=dL(),r=t.fetch,s=t.navigate;return w.useCallback(async(i,a={})=>{let{action:c,method:d,encType:f,formData:m,body:y}=EL(i,e);if(a.navigate===!1){let v=a.fetcherKey||HL();await r(v,n,a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:m,body:y,formMethod:a.method||d,formEncType:a.encType||f,flushSync:a.flushSync})}else await s(a.action||c,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:m,body:y,formMethod:a.method||d,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,s,e,n])}function KL(t,{relative:e}={}){let{basename:n}=w.useContext(jr),r=w.useContext(ii);Mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Dh(t||".",{relative:e})},a=eo();if(t==null){i.search=a.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Mi([n,i.pathname])),th(i)}function YL(t,{relative:e}={}){let n=w.useContext(rI);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fI("useViewTransitionState"),s=Dh(t,{relative:e});if(!n.isTransitioning)return!1;let i=zi(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=zi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pp(s.pathname,a)!=null||Pp(s.pathname,i)!=null}var Mh=YN();const mI=jw(Mh);var LE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},gI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,f=d?t[s+2]:0,m=i>>2,y=(i&3)<<4|c>>4;let v=(c&15)<<2|f>>6,b=f&63;d||(b=64,a||(v=64)),r.push(n[m],n[y],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||f==null||y==null)throw new XL;const v=i<<2|c>>4;if(r.push(v),f!==64){const b=c<<4&240|f>>2;if(r.push(b),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JL=function(t){const e=pI(t);return gI.encodeByteArray(e,!0)},yI=function(t){return JL(t).replace(/\./g,"")},vI=function(t){try{return gI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=()=>ZL().__FIREBASE_DEFAULTS__,t3=()=>{if(typeof process>"u"||typeof LE>"u")return;const t=LE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vI(t[1]);return e&&JSON.parse(e)},_g=()=>{try{return e3()||t3()||n3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r3=t=>{var e,n;return(n=(e=_g())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xI=()=>{var t;return(t=_g())===null||t===void 0?void 0:t.config},wI=t=>{var e;return(e=_g())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function o3(){var t;const e=(t=_g())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u3(){const t=Vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d3(){return!o3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h3(){try{return typeof indexedDB=="object"}catch{return!1}}function f3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="FirebaseError";class to extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=m3,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oh.prototype.create)}}class Oh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?p3(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new to(s,c,r)}}function p3(t,e){return t.replace(g3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const g3=/\{\$([^}]+)}/g;function y3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(FE(i)&&FE(a)){if(!nh(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function FE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Md(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function v3(t,e){const n=new x3(t,e);return n.subscribe.bind(n)}class x3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Gv),s.error===void 0&&(s.error=Gv),s.complete===void 0&&(s.complete=Gv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class vl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S3(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _3(t){return t===Ya?void 0:t}function S3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const C3={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},T3=ut.INFO,k3={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},N3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=k3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $w{constructor(e){this.name=e,this._logLevel=T3,this._logHandler=N3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const I3=(t,e)=>e.some(n=>t instanceof n);let VE,BE;function P3(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A3(){return BE||(BE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bI=new WeakMap,Jx=new WeakMap,_I=new WeakMap,Kv=new WeakMap,qw=new WeakMap;function R3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Xo(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&bI.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function j3(t){if(Jx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Jx.set(t,e)}let Zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_I.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D3(t){Zx=t(Zx)}function M3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yv(this),e,...n);return _I.set(r,e.sort?e.sort():[e]),Xo(r)}:A3().includes(t)?function(...e){return t.apply(Yv(this),e),Xo(bI.get(this))}:function(...e){return Xo(t.apply(Yv(this),e))}}function O3(t){return typeof t=="function"?M3(t):(t instanceof IDBTransaction&&j3(t),I3(t,P3())?new Proxy(t,Zx):t)}function Xo(t){if(t instanceof IDBRequest)return R3(t);if(Kv.has(t))return Kv.get(t);const e=O3(t);return e!==t&&(Kv.set(t,e),qw.set(e,t)),e}const Yv=t=>qw.get(t);function L3(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=Xo(a);return r&&a.addEventListener("upgradeneeded",d=>{r(Xo(a.result),d.oldVersion,d.newVersion,Xo(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const F3=["get","getKey","getAll","getAllKeys","count"],V3=["put","add","delete","clear"],Qv=new Map;function UE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qv.get(e))return Qv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=V3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||F3.includes(n)))return;const i=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),s&&d.done]))[0]};return Qv.set(e,i),i}D3(t=>({...t,get:(e,n,r)=>UE(e,n)||t.get(e,n,r),has:(e,n)=>!!UE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e0="@firebase/app",zE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new $w("@firebase/app"),z3="@firebase/app-compat",$3="@firebase/analytics-compat",q3="@firebase/analytics",W3="@firebase/app-check-compat",H3="@firebase/app-check",G3="@firebase/auth",K3="@firebase/auth-compat",Y3="@firebase/database",Q3="@firebase/data-connect",X3="@firebase/database-compat",J3="@firebase/functions",Z3="@firebase/functions-compat",eF="@firebase/installations",tF="@firebase/installations-compat",nF="@firebase/messaging",rF="@firebase/messaging-compat",sF="@firebase/performance",iF="@firebase/performance-compat",oF="@firebase/remote-config",aF="@firebase/remote-config-compat",lF="@firebase/storage",cF="@firebase/storage-compat",uF="@firebase/firestore",dF="@firebase/vertexai-preview",hF="@firebase/firestore-compat",fF="firebase",mF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="[DEFAULT]",pF={[e0]:"fire-core",[z3]:"fire-core-compat",[q3]:"fire-analytics",[$3]:"fire-analytics-compat",[H3]:"fire-app-check",[W3]:"fire-app-check-compat",[G3]:"fire-auth",[K3]:"fire-auth-compat",[Y3]:"fire-rtdb",[Q3]:"fire-data-connect",[X3]:"fire-rtdb-compat",[J3]:"fire-fn",[Z3]:"fire-fn-compat",[eF]:"fire-iid",[tF]:"fire-iid-compat",[nF]:"fire-fcm",[rF]:"fire-fcm-compat",[sF]:"fire-perf",[iF]:"fire-perf-compat",[oF]:"fire-rc",[aF]:"fire-rc-compat",[lF]:"fire-gcs",[cF]:"fire-gcs-compat",[uF]:"fire-fst",[hF]:"fire-fst-compat",[dF]:"fire-vertex","fire-js":"fire-js",[fF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,gF=new Map,n0=new Map;function $E(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ou(t){const e=t.name;if(n0.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;n0.set(e,t);for(const n of rh.values())$E(n,t);for(const n of gF.values())$E(n,t);return!0}function Ww(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Oh("app","Firebase",yF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=mF;function Hw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:t0,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Jo.create("bad-app-name",{appName:String(s)});if(n||(n=xI()),!n)throw Jo.create("no-options");const i=rh.get(s);if(i){if(nh(n,i.options)&&nh(r,i.config))return i;throw Jo.create("duplicate-app",{appName:s})}const a=new E3(s);for(const d of n0.values())a.addComponent(d);const c=new vF(n,r,a);return rh.set(s,c),c}function xF(t=t0){const e=rh.get(t);if(!e&&t===t0&&xI())return Hw();if(!e)throw Jo.create("no-app",{appName:t});return e}function wF(){return Array.from(rh.values())}function Zo(t,e,n){var r;let s=(r=pF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(c.join(" "));return}ou(new vl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="firebase-heartbeat-database",_F=1,sh="firebase-heartbeat-store";let Xv=null;function SI(){return Xv||(Xv=L3(bF,_F,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),Xv}async function SF(t){try{const n=(await SI()).transaction(sh),r=await n.objectStore(sh).get(EI(t));return await n.done,r}catch(e){if(e instanceof to)$i.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function qE(t,e){try{const r=(await SI()).transaction(sh,"readwrite");await r.objectStore(sh).put(e,EI(t)),await r.done}catch(n){if(n instanceof to)$i.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(r.message)}}}function EI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=1024,CF=720*60*60*1e3;class TF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=WE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=CF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WE(),{heartbeatsToSend:r,unsentEntries:s}=kF(this._heartbeatsCache.heartbeats),i=yI(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return $i.warn(n),""}}}function WE(){return new Date().toISOString().substring(0,10)}function kF(t,e=EF){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),HE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),HE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h3()?f3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return qE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(t){return yI(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){ou(new vl("platform-logger",e=>new B3(e),"PRIVATE")),ou(new vl("heartbeat",e=>new TF(e),"PRIVATE")),Zo(e0,zE,t),Zo(e0,zE,"esm2017"),Zo("fire-js","")}IF("");var qs=function(){return qs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qs.apply(this,arguments)};function Fh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function PF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function CI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AF=CI,TI=new Oh("auth","Firebase",CI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new $w("@firebase/auth");function RF(t,...e){Ap.logLevel<=ut.WARN&&Ap.warn(`Auth (${Su}): ${t}`,...e)}function ip(t,...e){Ap.logLevel<=ut.ERROR&&Ap.error(`Auth (${Su}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,...e){throw Gw(t,...e)}function Ys(t,...e){return Gw(t,...e)}function kI(t,e,n){const r=Object.assign(Object.assign({},AF()),{[e]:n});return new Oh("auth","Firebase",r).create(e,{appName:t.name})}function Oi(t){return kI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TI.create(t,...e)}function qe(t,e,...n){if(!t)throw Gw(e,...n)}function Ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ip(e),new Error(e)}function qi(t,e){t||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jF(){return GE()==="http:"||GE()==="https:"}function GE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jF()||l3()||"connection"in navigator)?navigator.onLine:!0}function MF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,qi(n>e,"Short delay should be less than long delay!"),this.isMobile=i3()||c3()}get(){return DF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t,e){qi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Vh(3e4,6e4);function fa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ma(t,e,n,r,s={}){return II(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=Lh(Object.assign({key:t.config.apiKey},a)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},i);return a3()||(f.referrerPolicy="no-referrer"),NI.fetch()(PI(t,t.config.apiHost,n,c),f)})}async function II(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OF),e);try{const s=new VF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Lm(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lm(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw Lm(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw Lm(t,"user-disabled",a);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw kI(t,m,f);ws(t,m)}}catch(s){if(s instanceof to)throw s;ws(t,"network-request-failed",{message:String(s)})}}async function Bh(t,e,n,r,s={}){const i=await ma(t,e,n,r,s);return"mfaPendingCredential"in i&&ws(t,"multi-factor-auth-required",{_serverResponse:i}),i}function PI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Kw(t.config,s):`${t.config.apiScheme}://${s}`}function FF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),LF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ys(t,e,r);return s.customData._tokenResponse=n,s}function KE(t){return t!==void 0&&t.enterprise!==void 0}class BF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UF(t,e){return ma(t,"GET","/v2/recaptchaConfig",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){return ma(t,"POST","/v1/accounts:delete",e)}async function AI(t,e){return ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $F(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),s=Yw(r);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qd(Jv(s.auth_time)),issuedAtTime:qd(Jv(s.iat)),expirationTime:qd(Jv(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jv(t){return Number(t)*1e3}function Yw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const s=vI(n);return s?JSON.parse(s):(ip("Failed to decode base64 JWT payload"),null)}catch(s){return ip("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function YE(t){const e=Yw(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof to&&qF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ih(t,AI(n,{idToken:r}));qe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?RI(i.providerUserInfo):[],c=GF(t.providerData,a),d=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),m=d?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new s0(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function HF(t){const e=Jt(t);await Rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function RI(t){return t.map(e=>{var{providerId:n}=e,r=Fh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KF(t,e){const n=await II(t,{},async()=>{const r=Lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=PI(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",NI.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YF(t,e){return ma(t,"POST","/v2/accounts:revokeToken",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=YE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await KF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Fc;return r&&(qe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(qe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fc,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Fh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new s0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ih(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $F(this,e)}reload(){return HF(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hs(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await ih(this,zF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,c,d,f,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,b=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(c=n.tenantId)!==null&&c!==void 0?c:void 0,S=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,I=(f=n.createdAt)!==null&&f!==void 0?f:void 0,A=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:R,emailVerified:B,isAnonymous:F,providerData:U,stsTokenManager:P}=n;qe(R&&P,e,"internal-error");const k=Fc.fromJSON(this.name,P);qe(typeof R=="string",e,"internal-error"),Ao(y,e.name),Ao(v,e.name),qe(typeof B=="boolean",e,"internal-error"),qe(typeof F=="boolean",e,"internal-error"),Ao(b,e.name),Ao(T,e.name),Ao(C,e.name),Ao(S,e.name),Ao(I,e.name),Ao(A,e.name);const D=new Ri({uid:R,auth:e,email:v,emailVerified:B,displayName:y,isAnonymous:F,photoURL:T,phoneNumber:b,tenantId:C,stsTokenManager:k,createdAt:I,lastLoginAt:A});return U&&Array.isArray(U)&&(D.providerData=U.map(O=>Object.assign({},O))),S&&(D._redirectEventId=S),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fc;s.updateFromServerResponse(n);const i=new Ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?RI(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Fc;c.updateFromIdToken(r);const d=new Ri({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new s0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function ji(t){qi(t instanceof Function,"Expected a class definition");let e=QE.get(t);return e?(qi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jI.type="NONE";const XE=jI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e,n){return`firebase:${t}:${e}:${n}`}class Vc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=op(this.userKey,s.apiKey,i),this.fullPersistenceKey=op("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vc(ji(XE),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||ji(XE);const a=op(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const m=await f._get(a);if(m){const y=Ri._fromJSON(e,m);f!==i&&(c=y),i=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Vc(i,e,r):(i=d[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(a)}catch{}})),new Vc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VI(e))return"Blackberry";if(BI(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||OI(e))&&!e.includes("edge/"))return"Chrome";if(FI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DI(t=Vn()){return/firefox\//i.test(t)}function MI(t=Vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OI(t=Vn()){return/crios\//i.test(t)}function LI(t=Vn()){return/iemobile/i.test(t)}function FI(t=Vn()){return/android/i.test(t)}function VI(t=Vn()){return/blackberry/i.test(t)}function BI(t=Vn()){return/webos/i.test(t)}function Qw(t=Vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QF(t=Vn()){var e;return Qw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XF(){return u3()&&document.documentMode===10}function UI(t=Vn()){return Qw(t)||FI(t)||BI(t)||VI(t)||/windows phone/i.test(t)||LI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e=[]){let n;switch(t){case"Browser":n=JE(Vn());break;case"Worker":n=`${JE(Vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Su}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const d=e(i);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZF(t,e={}){return ma(t,"GET","/v2/passwordPolicy",fa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=6;class tV{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:eV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsNumericCharacter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new JF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Vc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AI(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hs(this.app))return Promise.reject(Oi(this));const n=e?Jt(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hs(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hs(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZF(this),n=new tV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ji(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Vc.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{a=!0,d()}}else{const d=e.addObserver(n);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function jl(t){return Jt(t)}class ZE{constructor(e){this.auth=e,this.observer=null,this.addObserver=v3(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(t){Sg=t}function $I(t){return Sg.loadJS(t)}function sV(){return Sg.recaptchaEnterpriseScript}function iV(){return Sg.gapiScript}function oV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aV="recaptcha-enterprise",lV="NO_RECAPTCHA";class cV{constructor(e){this.type=aV,this.auth=jl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{UF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new BF(d);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,a(f.siteKey)}}).catch(d=>{c(d)})})}function s(i,a,c){const d=window.grecaptcha;KE(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(f=>{a(f)}).catch(()=>{a(lV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&KE(window.grecaptcha))s(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=sV();d.length!==0&&(d+=c),$I(d).then(()=>{s(c,i,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})}}async function eC(t,e,n,r=!1){const s=new cV(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function i0(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await eC(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await eC(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){const n=Ww(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(nh(i,e??{}))return s;ws(s,"already-initialized")}return n.initialize({options:e})}function dV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ji);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hV(t,e,n){const r=jl(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=qI(e),{host:a,port:c}=fV(e),d=c===null?"":`:${c}`;r.config.emulator={url:`${i}//${a}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),mV()}function qI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fV(t){const e=qI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:tC(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:tC(a)}}}function tC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function pV(t,e){return ma(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return Bh(t,"POST","/v1/accounts:signInWithPassword",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,e))}async function vV(t,e){return Bh(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Xw{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new oh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new oh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,n,"signInWithPassword",gV);case"emailLink":return yV(e,{email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,r,"signUpPassword",pV);case"emailLink":return vV(e,{idToken:n,email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e){return Bh(t,"POST","/v1/accounts:signInWithIdp",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="http://localhost";class xl extends Xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Fh(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new xl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Bc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bc(e,n)}buildRequest(){const e={requestUri:xV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bV(t){const e=Dd(Md(t)).link,n=e?Dd(Md(e)).deep_link_id:null,r=Dd(Md(t)).deep_link_id;return(r?Dd(Md(r)).link:null)||r||n||e||t}class Jw{constructor(e){var n,r,s,i,a,c;const d=Dd(Md(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,y=wV((s=d.mode)!==null&&s!==void 0?s:null);qe(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=d.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=bV(e);try{return new Jw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.providerId=Eu.PROVIDER_ID}static credential(e,n){return oh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Jw.parseLink(n);return qe(r,"argument-error"),oh._fromEmailAndCode(e,r.code,r.tenantId)}}Eu.PROVIDER_ID="password";Eu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends WI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends Uh{constructor(){super("facebook.com")}static credential(e){return xl._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fo.credential(n,r)}catch{return null}}}Fo.GOOGLE_SIGN_IN_METHOD="google.com";Fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Uh{constructor(){super("github.com")}static credential(e){return xl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.GITHUB_SIGN_IN_METHOD="github.com";Vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Uh{constructor(){super("twitter.com")}static credential(e,n){return xl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){return Bh(t,"POST","/v1/accounts:signUp",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ri._fromIdTokenResponse(e,r,s),a=nC(r);return new wl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=nC(r);return new wl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function nC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends to{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,jp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new jp(e,n,r,s)}}function HI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?jp._fromErrorAndOperation(t,i,e,r):i})}async function SV(t,e,n=!1){const r=await ih(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e,n=!1){const{auth:r}=t;if(Hs(r.app))return Promise.reject(Oi(r));const s="reauthenticate";try{const i=await ih(t,HI(r,s,e,t),n);qe(i.idToken,r,"internal-error");const a=Yw(i.idToken);qe(a,r,"internal-error");const{sub:c}=a;return qe(t.uid===c,r,"user-mismatch"),wl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ws(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e,n=!1){if(Hs(t.app))return Promise.reject(Oi(t));const r="signIn",s=await HI(t,r,e),i=await wl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function CV(t,e){return GI(jl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(t){const e=jl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TV(t,e,n){if(Hs(t.app))return Promise.reject(Oi(t));const r=jl(t),a=await i0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_V).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&KI(t),d}),c=await wl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function kV(t,e,n){return Hs(t.app)?Promise.reject(Oi(t)):CV(Jt(t),Eu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t,e){return Jt(t).setPersistence(e)}function IV(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function PV(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function YI(t,e,n,r){return Jt(t).onAuthStateChanged(e,n,r)}function o0(t){return Jt(t).signOut()}const Dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=1e3,RV=10;class XI extends QI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);XF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XI.type="LOCAL";const JI=XI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI extends QI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZI.type="SESSION";const eP=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async f=>f(n.origin,i)),d=await jV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,d)=>{const f=Zw("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(y){const v=y;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(v.data.response);break;default:clearTimeout(m),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function MV(t){Qs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function OV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FV(){return tP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="firebaseLocalStorageDb",VV=1,Mp="firebaseLocalStorage",rP="fbase_key";class zh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Cg(t,e){return t.transaction([Mp],e?"readwrite":"readonly").objectStore(Mp)}function BV(){const t=indexedDB.deleteDatabase(nP);return new zh(t).toPromise()}function a0(){const t=indexedDB.open(nP,VV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mp,{keyPath:rP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mp)?e(r):(r.close(),await BV(),e(await a0()))})})}async function rC(t,e,n){const r=Cg(t,!0).put({[rP]:e,value:n});return new zh(r).toPromise()}async function UV(t,e){const n=Cg(t,!1).get(e),r=await new zh(n).toPromise();return r===void 0?null:r.value}function sC(t,e){const n=Cg(t,!0).delete(e);return new zh(n).toPromise()}const zV=800,$V=3;class sP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$V)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(FV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new DV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await a0();return await rC(e,Dp,"1"),await sC(e,Dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Cg(s,!1).getAll();return new zh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sP.type="LOCAL";const qV=sP;new Vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e){return e?ji(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends Xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HV(t){return GI(t.auth,new eb(t),t.bypassAuthState)}function GV(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),EV(n,new eb(t),t.bypassAuthState)}async function KV(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),SV(n,new eb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HV;case"linkViaPopup":case"linkViaRedirect":return KV;case"reauthViaPopup":case"reauthViaRedirect":return GV;default:ws(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new Vh(2e3,1e4);class Rc extends iP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Rc.currentPopupAction&&Rc.currentPopupAction.cancel(),Rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=Zw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YV.get())};e()}}Rc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="pendingRedirect",ap=new Map;class XV extends iP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ap.get(this.auth._key());if(!e){try{const r=await JV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ap.set(this.auth._key(),e)}return this.bypassAuthState||ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JV(t,e){const n=t5(e),r=e5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function ZV(t,e){ap.set(t._key(),e)}function e5(t){return ji(t._redirectPersistence)}function t5(t){return op(QV,t.config.apiKey,t.name)}async function n5(t,e,n=!1){if(Hs(t.app))return Promise.reject(Oi(t));const r=jl(t),s=WV(r,e),a=await new XV(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=600*1e3;class s5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ys(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iC(e))}saveEventToCache(e){this.cachedEventUids.add(iC(e)),this.lastProcessedEventTime=Date.now()}}function iC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(t,e={}){return ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l5=/^https?/;async function c5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o5(t);for(const n of e)try{if(u5(n))return}catch{}ws(t,"unauthorized-domain")}function u5(t){const e=r0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!l5.test(n))return!1;if(a5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new Vh(3e4,6e4);function oC(){const t=Qs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h5(t){return new Promise((e,n)=>{var r,s,i;function a(){oC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oC(),n(Ys(t,"network-request-failed"))},timeout:d5.get()})}if(!((s=(r=Qs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qs().gapi)===null||i===void 0)&&i.load)a();else{const c=oV("iframefcb");return Qs()[c]=()=>{gapi.load?a():n(Ys(t,"network-request-failed"))},$I(`${iV()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw lp=null,e})}let lp=null;function f5(t){return lp=lp||h5(t),lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=new Vh(5e3,15e3),p5="__/auth/iframe",g5="emulator/auth/iframe",y5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x5(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kw(e,g5):`https://${t.config.authDomain}/${p5}`,r={apiKey:e.apiKey,appName:t.name,v:Su},s=v5.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Lh(r).slice(1)}`}async function w5(t){const e=await f5(t),n=Qs().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:x5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y5,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ys(t,"network-request-failed"),c=Qs().setTimeout(()=>{i(a)},m5.get());function d(){Qs().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_5=500,S5=600,E5="_blank",C5="http://localhost";class aC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T5(t,e,n,r=_5,s=S5){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},b5),{width:r.toString(),height:s.toString(),top:i,left:a}),f=Vn().toLowerCase();n&&(c=OI(f)?E5:n),DI(f)&&(e=e||C5,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(QF(f)&&c!=="_self")return k5(e||"",c),new aC(null);const y=window.open(e||"",c,m);qe(y,t,"popup-blocked");try{y.focus()}catch{}return new aC(y)}function k5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="__/auth/handler",I5="emulator/auth/handler",P5=encodeURIComponent("fac");async function lC(t,e,n,r,s,i){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Su,eventId:s};if(e instanceof WI){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",y3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))a[m]=y}if(e instanceof Uh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),f=d?`#${P5}=${encodeURIComponent(d)}`:"";return`${A5(t)}?${Lh(c).slice(1)}${f}`}function A5({config:t}){return t.emulator?Kw(t,I5):`https://${t.authDomain}/${N5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="webStorageSupport";class R5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eP,this._completeRedirectFn=n5,this._overrideRedirectResult=ZV}async _openPopup(e,n,r,s){var i;qi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await lC(e,n,r,r0(),s);return T5(e,a,Zw())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await lC(e,n,r,r0(),s);return MV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(qi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w5(e),r=new s5(e);return n.register("authEvent",s=>(qe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zv,{type:Zv},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Zv];a!==void 0&&n(!!a),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UI()||MI()||Qw()}}const j5=R5;var cC="@firebase/auth",uC="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O5(t){ou(new vl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;qe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zI(t)},f=new nV(r,s,i,d);return dV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ou(new vl("auth-internal",e=>{const n=jl(e.getProvider("auth").getImmediate());return(r=>new D5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(cC,uC,M5(t)),Zo(cC,uC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=300,F5=wI("authIdTokenMaxAge")||L5;let dC=null;const V5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F5)return;const s=n==null?void 0:n.token;dC!==s&&(dC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function aP(t=xF()){const e=Ww(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uV(t,{popupRedirectResolver:j5,persistence:[qV,JI,eP]}),r=wI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=V5(i.toString());PV(n,a,()=>a(n.currentUser)),IV(n,c=>a(c))}}const s=r3("auth");return s&&hV(n,`http://${s}`),n}function B5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ys("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",B5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O5("Browser");var U5="firebase",z5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo(U5,z5,"app");var hC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ml,lP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,k){function D(){}D.prototype=k.prototype,P.D=k.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(O,L,z){for(var M=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)M[oe-2]=arguments[oe];return k.prototype[L].apply(O,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,k,D){D||(D=0);var O=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)O[L]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(L=0;16>L;++L)O[L]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=P.g[0],D=P.g[1],L=P.g[2];var z=P.g[3],M=k+(z^D&(L^z))+O[0]+3614090360&4294967295;k=D+(M<<7&4294967295|M>>>25),M=z+(L^k&(D^L))+O[1]+3905402710&4294967295,z=k+(M<<12&4294967295|M>>>20),M=L+(D^z&(k^D))+O[2]+606105819&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(k^L&(z^k))+O[3]+3250441966&4294967295,D=L+(M<<22&4294967295|M>>>10),M=k+(z^D&(L^z))+O[4]+4118548399&4294967295,k=D+(M<<7&4294967295|M>>>25),M=z+(L^k&(D^L))+O[5]+1200080426&4294967295,z=k+(M<<12&4294967295|M>>>20),M=L+(D^z&(k^D))+O[6]+2821735955&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(k^L&(z^k))+O[7]+4249261313&4294967295,D=L+(M<<22&4294967295|M>>>10),M=k+(z^D&(L^z))+O[8]+1770035416&4294967295,k=D+(M<<7&4294967295|M>>>25),M=z+(L^k&(D^L))+O[9]+2336552879&4294967295,z=k+(M<<12&4294967295|M>>>20),M=L+(D^z&(k^D))+O[10]+4294925233&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(k^L&(z^k))+O[11]+2304563134&4294967295,D=L+(M<<22&4294967295|M>>>10),M=k+(z^D&(L^z))+O[12]+1804603682&4294967295,k=D+(M<<7&4294967295|M>>>25),M=z+(L^k&(D^L))+O[13]+4254626195&4294967295,z=k+(M<<12&4294967295|M>>>20),M=L+(D^z&(k^D))+O[14]+2792965006&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(k^L&(z^k))+O[15]+1236535329&4294967295,D=L+(M<<22&4294967295|M>>>10),M=k+(L^z&(D^L))+O[1]+4129170786&4294967295,k=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(k^D))+O[6]+3225465664&4294967295,z=k+(M<<9&4294967295|M>>>23),M=L+(k^D&(z^k))+O[11]+643717713&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^k&(L^z))+O[0]+3921069994&4294967295,D=L+(M<<20&4294967295|M>>>12),M=k+(L^z&(D^L))+O[5]+3593408605&4294967295,k=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(k^D))+O[10]+38016083&4294967295,z=k+(M<<9&4294967295|M>>>23),M=L+(k^D&(z^k))+O[15]+3634488961&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^k&(L^z))+O[4]+3889429448&4294967295,D=L+(M<<20&4294967295|M>>>12),M=k+(L^z&(D^L))+O[9]+568446438&4294967295,k=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(k^D))+O[14]+3275163606&4294967295,z=k+(M<<9&4294967295|M>>>23),M=L+(k^D&(z^k))+O[3]+4107603335&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^k&(L^z))+O[8]+1163531501&4294967295,D=L+(M<<20&4294967295|M>>>12),M=k+(L^z&(D^L))+O[13]+2850285829&4294967295,k=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(k^D))+O[2]+4243563512&4294967295,z=k+(M<<9&4294967295|M>>>23),M=L+(k^D&(z^k))+O[7]+1735328473&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^k&(L^z))+O[12]+2368359562&4294967295,D=L+(M<<20&4294967295|M>>>12),M=k+(D^L^z)+O[5]+4294588738&4294967295,k=D+(M<<4&4294967295|M>>>28),M=z+(k^D^L)+O[8]+2272392833&4294967295,z=k+(M<<11&4294967295|M>>>21),M=L+(z^k^D)+O[11]+1839030562&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^k)+O[14]+4259657740&4294967295,D=L+(M<<23&4294967295|M>>>9),M=k+(D^L^z)+O[1]+2763975236&4294967295,k=D+(M<<4&4294967295|M>>>28),M=z+(k^D^L)+O[4]+1272893353&4294967295,z=k+(M<<11&4294967295|M>>>21),M=L+(z^k^D)+O[7]+4139469664&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^k)+O[10]+3200236656&4294967295,D=L+(M<<23&4294967295|M>>>9),M=k+(D^L^z)+O[13]+681279174&4294967295,k=D+(M<<4&4294967295|M>>>28),M=z+(k^D^L)+O[0]+3936430074&4294967295,z=k+(M<<11&4294967295|M>>>21),M=L+(z^k^D)+O[3]+3572445317&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^k)+O[6]+76029189&4294967295,D=L+(M<<23&4294967295|M>>>9),M=k+(D^L^z)+O[9]+3654602809&4294967295,k=D+(M<<4&4294967295|M>>>28),M=z+(k^D^L)+O[12]+3873151461&4294967295,z=k+(M<<11&4294967295|M>>>21),M=L+(z^k^D)+O[15]+530742520&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^k)+O[2]+3299628645&4294967295,D=L+(M<<23&4294967295|M>>>9),M=k+(L^(D|~z))+O[0]+4096336452&4294967295,k=D+(M<<6&4294967295|M>>>26),M=z+(D^(k|~L))+O[7]+1126891415&4294967295,z=k+(M<<10&4294967295|M>>>22),M=L+(k^(z|~D))+O[14]+2878612391&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~k))+O[5]+4237533241&4294967295,D=L+(M<<21&4294967295|M>>>11),M=k+(L^(D|~z))+O[12]+1700485571&4294967295,k=D+(M<<6&4294967295|M>>>26),M=z+(D^(k|~L))+O[3]+2399980690&4294967295,z=k+(M<<10&4294967295|M>>>22),M=L+(k^(z|~D))+O[10]+4293915773&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~k))+O[1]+2240044497&4294967295,D=L+(M<<21&4294967295|M>>>11),M=k+(L^(D|~z))+O[8]+1873313359&4294967295,k=D+(M<<6&4294967295|M>>>26),M=z+(D^(k|~L))+O[15]+4264355552&4294967295,z=k+(M<<10&4294967295|M>>>22),M=L+(k^(z|~D))+O[6]+2734768916&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~k))+O[13]+1309151649&4294967295,D=L+(M<<21&4294967295|M>>>11),M=k+(L^(D|~z))+O[4]+4149444226&4294967295,k=D+(M<<6&4294967295|M>>>26),M=z+(D^(k|~L))+O[11]+3174756917&4294967295,z=k+(M<<10&4294967295|M>>>22),M=L+(k^(z|~D))+O[2]+718787259&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~k))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+k&4294967295,P.g[1]=P.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+z&4294967295}r.prototype.u=function(P,k){k===void 0&&(k=P.length);for(var D=k-this.blockSize,O=this.B,L=this.h,z=0;z<k;){if(L==0)for(;z<=D;)s(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<k;)if(O[L++]=P.charCodeAt(z++),L==this.blockSize){s(this,O),L=0;break}}else for(;z<k;)if(O[L++]=P[z++],L==this.blockSize){s(this,O),L=0;break}}this.h=L,this.o+=k},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var k=1;k<P.length-8;++k)P[k]=0;var D=8*this.o;for(k=P.length-8;k<P.length;++k)P[k]=D&255,D/=256;for(this.u(P),P=Array(16),k=D=0;4>k;++k)for(var O=0;32>O;O+=8)P[D++]=this.g[k]>>>O&255;return P};function i(P,k){var D=c;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=k(P)}function a(P,k){this.h=k;for(var D=[],O=!0,L=P.length-1;0<=L;L--){var z=P[L]|0;O&&z==k||(D[L]=z,O=!1)}this.g=D}var c={};function d(P){return-128<=P&&128>P?i(P,function(k){return new a([k|0],0>k?-1:0)}):new a([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return S(f(-P));for(var k=[],D=1,O=0;P>=D;O++)k[O]=P/D|0,D*=4294967296;return new a(k,0)}function m(P,k){if(P.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P.charAt(0)=="-")return S(m(P.substring(1),k));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(k,8)),O=y,L=0;L<P.length;L+=8){var z=Math.min(8,P.length-L),M=parseInt(P.substring(L,L+z),k);8>z?(z=f(Math.pow(k,z)),O=O.j(z).add(f(M))):(O=O.j(D),O=O.add(f(M)))}return O}var y=d(0),v=d(1),b=d(16777216);t=a.prototype,t.m=function(){if(C(this))return-S(this).m();for(var P=0,k=1,D=0;D<this.g.length;D++){var O=this.i(D);P+=(0<=O?O:4294967296+O)*k,k*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T(this))return"0";if(C(this))return"-"+S(this).toString(P);for(var k=f(Math.pow(P,6)),D=this,O="";;){var L=B(D,k).g;D=I(D,L.j(k));var z=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=L,T(D))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function T(P){if(P.h!=0)return!1;for(var k=0;k<P.g.length;k++)if(P.g[k]!=0)return!1;return!0}function C(P){return P.h==-1}t.l=function(P){return P=I(this,P),C(P)?-1:T(P)?0:1};function S(P){for(var k=P.g.length,D=[],O=0;O<k;O++)D[O]=~P.g[O];return new a(D,~P.h).add(v)}t.abs=function(){return C(this)?S(this):this},t.add=function(P){for(var k=Math.max(this.g.length,P.g.length),D=[],O=0,L=0;L<=k;L++){var z=O+(this.i(L)&65535)+(P.i(L)&65535),M=(z>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);O=M>>>16,z&=65535,M&=65535,D[L]=M<<16|z}return new a(D,D[D.length-1]&-2147483648?-1:0)};function I(P,k){return P.add(S(k))}t.j=function(P){if(T(this)||T(P))return y;if(C(this))return C(P)?S(this).j(S(P)):S(S(this).j(P));if(C(P))return S(this.j(S(P)));if(0>this.l(b)&&0>P.l(b))return f(this.m()*P.m());for(var k=this.g.length+P.g.length,D=[],O=0;O<2*k;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<P.g.length;L++){var z=this.i(O)>>>16,M=this.i(O)&65535,oe=P.i(L)>>>16,ye=P.i(L)&65535;D[2*O+2*L]+=M*ye,A(D,2*O+2*L),D[2*O+2*L+1]+=z*ye,A(D,2*O+2*L+1),D[2*O+2*L+1]+=M*oe,A(D,2*O+2*L+1),D[2*O+2*L+2]+=z*oe,A(D,2*O+2*L+2)}for(O=0;O<k;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=k;O<2*k;O++)D[O]=0;return new a(D,0)};function A(P,k){for(;(P[k]&65535)!=P[k];)P[k+1]+=P[k]>>>16,P[k]&=65535,k++}function R(P,k){this.g=P,this.h=k}function B(P,k){if(T(k))throw Error("division by zero");if(T(P))return new R(y,y);if(C(P))return k=B(S(P),k),new R(S(k.g),S(k.h));if(C(k))return k=B(P,S(k)),new R(S(k.g),k.h);if(30<P.g.length){if(C(P)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var D=v,O=k;0>=O.l(P);)D=F(D),O=F(O);var L=U(D,1),z=U(O,1);for(O=U(O,2),D=U(D,2);!T(O);){var M=z.add(O);0>=M.l(P)&&(L=L.add(D),z=M),O=U(O,1),D=U(D,1)}return k=I(P,L.j(k)),new R(L,k)}for(L=y;0<=P.l(k);){for(D=Math.max(1,Math.floor(P.m()/k.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=f(D),M=z.j(k);C(M)||0<M.l(P);)D-=O,z=f(D),M=z.j(k);T(z)&&(z=v),L=L.add(z),P=I(P,M)}return new R(L,P)}t.A=function(P){return B(this,P).h},t.and=function(P){for(var k=Math.max(this.g.length,P.g.length),D=[],O=0;O<k;O++)D[O]=this.i(O)&P.i(O);return new a(D,this.h&P.h)},t.or=function(P){for(var k=Math.max(this.g.length,P.g.length),D=[],O=0;O<k;O++)D[O]=this.i(O)|P.i(O);return new a(D,this.h|P.h)},t.xor=function(P){for(var k=Math.max(this.g.length,P.g.length),D=[],O=0;O<k;O++)D[O]=this.i(O)^P.i(O);return new a(D,this.h^P.h)};function F(P){for(var k=P.g.length+1,D=[],O=0;O<k;O++)D[O]=P.i(O)<<1|P.i(O-1)>>>31;return new a(D,P.h)}function U(P,k){var D=k>>5;k%=32;for(var O=P.g.length-D,L=[],z=0;z<O;z++)L[z]=0<k?P.i(z+D)>>>k|P.i(z+D+1)<<32-k:P.i(z+D);return new a(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lP=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,ml=a}).apply(typeof hC<"u"?hC:typeof self<"u"?self:typeof window<"u"?window:{});var Fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cP,Od,uP,cp,l0,dP,hP,fP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,N){return p==Array.prototype||p==Object.prototype||(p[_]=N.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fm=="object"&&Fm];for(var _=0;_<p.length;++_){var N=p[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function s(p,_){if(_)e:{var N=r;p=p.split(".");for(var V=0;V<p.length-1;V++){var Y=p[V];if(!(Y in N))break e;N=N[Y]}p=p[p.length-1],V=N[p],_=_(V),_!=V&&_!=null&&e(N,p,{configurable:!0,writable:!0,value:_})}}function i(p,_){p instanceof String&&(p+="");var N=0,V=!1,Y={next:function(){if(!V&&N<p.length){var ie=N++;return{value:_(ie,p[ie]),done:!1}}return V=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(p){return p||function(){return i(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function d(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function f(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function m(p,_,N){return p.call.apply(p.bind,arguments)}function y(p,_,N){if(!p)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,V),p.apply(_,Y)}}return function(){return p.apply(_,arguments)}}function v(p,_,N){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,v.apply(null,arguments)}function b(p,_){var N=Array.prototype.slice.call(arguments,1);return function(){var V=N.slice();return V.push.apply(V,arguments),p.apply(this,V)}}function T(p,_){function N(){}N.prototype=_.prototype,p.aa=_.prototype,p.prototype=new N,p.prototype.constructor=p,p.Qb=function(V,Y,ie){for(var ge=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ge[xt-2]=arguments[xt];return _.prototype[Y].apply(V,ge)}}function C(p){const _=p.length;if(0<_){const N=Array(_);for(let V=0;V<_;V++)N[V]=p[V];return N}return[]}function S(p,_){for(let N=1;N<arguments.length;N++){const V=arguments[N];if(d(V)){const Y=p.length||0,ie=V.length||0;p.length=Y+ie;for(let ge=0;ge<ie;ge++)p[Y+ge]=V[ge]}else p.push(V)}}class I{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function A(p){return/^[\s\xa0]*$/.test(p)}function R(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function B(p){return B[" "](p),p}B[" "]=function(){};var F=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function U(p,_,N){for(const V in p)_.call(N,p[V],V,p)}function P(p,_){for(const N in p)_.call(void 0,p[N],N,p)}function k(p){const _={};for(const N in p)_[N]=p[N];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(p,_){let N,V;for(let Y=1;Y<arguments.length;Y++){V=arguments[Y];for(N in V)p[N]=V[N];for(let ie=0;ie<D.length;ie++)N=D[ie],Object.prototype.hasOwnProperty.call(V,N)&&(p[N]=V[N])}}function L(p){var _=1;p=p.split(":");const N=[];for(;0<_&&p.length;)N.push(p.shift()),_--;return p.length&&N.push(p.join(":")),N}function z(p){c.setTimeout(()=>{throw p},0)}function M(){var p=X;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class oe{constructor(){this.h=this.g=null}add(_,N){const V=ye.get();V.set(_,N),this.h?this.h.next=V:this.g=V,this.h=V}}var ye=new I(()=>new he,p=>p.reset());class he{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,$=!1,X=new oe,se=()=>{const p=c.Promise.resolve(void 0);Z=()=>{p.then(H)}};var H=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(N){z(N)}var _=ye;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}$=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var we=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const N=()=>{};c.addEventListener("test",N,_),c.removeEventListener("test",N,_)}catch{}return p})();function Re(p,_){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var N=this.type=p.type,V=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(F){e:{try{B(_.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(_=null)}}else N=="mouseover"?_=p.fromElement:N=="mouseout"&&(_=p.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ue[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Re.aa.h.call(this)}}T(Re,me);var Ue={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Ve(p,_,N,V,Y){this.listener=p,this.proxy=null,this.src=_,this.type=N,this.capture=!!V,this.ha=Y,this.key=++Ne,this.da=this.fa=!1}function Oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ye(p){this.src=p,this.g={},this.h=0}Ye.prototype.add=function(p,_,N,V,Y){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var ge=Nt(p,_,V,Y);return-1<ge?(_=p[ge],N||(_.fa=!1)):(_=new Ve(_,this.src,ie,!!V,Y),_.fa=N,p.push(_)),_};function Qe(p,_){var N=_.type;if(N in p.g){var V=p.g[N],Y=Array.prototype.indexOf.call(V,_,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(V,Y,1),ie&&(Oe(_),p.g[N].length==0&&(delete p.g[N],p.h--))}}function Nt(p,_,N,V){for(var Y=0;Y<p.length;++Y){var ie=p[Y];if(!ie.da&&ie.listener==_&&ie.capture==!!N&&ie.ha==V)return Y}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),Jn={};function Zn(p,_,N,V,Y){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)Zn(p,_[ie],N,V,Y);return null}return N=ro(N),p&&p[de]?p.K(_,N,f(V)?!!V.capture:!1,Y):br(p,_,N,!1,V,Y)}function br(p,_,N,V,Y,ie){if(!_)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,xt=li(p);if(xt||(p[Ot]=xt=new Ye(p)),N=xt.add(_,N,V,ge,ie),N.proxy)return N;if(V=ai(),N.proxy=V,V.src=p,V.listener=N,p.addEventListener)we||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(_.toString(),V,Y);else if(p.attachEvent)p.attachEvent(Mr(_.toString()),V);else if(p.addListener&&p.removeListener)p.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ai(){function p(N){return _.call(p.src,p.listener,N)}const _=no;return p}function er(p,_,N,V,Y){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)er(p,_[ie],N,V,Y);else V=f(V)?!!V.capture:!!V,N=ro(N),p&&p[de]?(p=p.i,_=String(_).toString(),_ in p.g&&(ie=p.g[_],N=Nt(ie,N,V,Y),-1<N&&(Oe(ie[N]),Array.prototype.splice.call(ie,N,1),ie.length==0&&(delete p.g[_],p.h--)))):p&&(p=li(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Nt(_,N,V,Y)),(N=-1<p?_[p]:null)&&Dr(N))}function Dr(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[de])Qe(_.i,p);else{var N=p.type,V=p.proxy;_.removeEventListener?_.removeEventListener(N,V,p.capture):_.detachEvent?_.detachEvent(Mr(N),V):_.addListener&&_.removeListener&&_.removeListener(V),(N=li(_))?(Qe(N,p),N.h==0&&(N.src=null,_[Ot]=null)):Oe(p)}}}function Mr(p){return p in Jn?Jn[p]:Jn[p]="on"+p}function no(p,_){if(p.da)p=!0;else{_=new Re(_,this);var N=p.listener,V=p.ha||p.src;p.fa&&Dr(p),p=N.call(V,_)}return p}function li(p){return p=p[Ot],p instanceof Ye?p:null}var ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function ro(p){return typeof p=="function"?p:(p[ci]||(p[ci]=function(_){return p.handleEvent(_)}),p[ci])}function zt(){re.call(this),this.i=new Ye(this),this.M=this,this.F=null}T(zt,re),zt.prototype[de]=!0,zt.prototype.removeEventListener=function(p,_,N,V){er(this,p,_,N,V)};function $t(p,_){var N,V=p.F;if(V)for(N=[];V;V=V.F)N.push(V);if(p=p.M,V=_.type||_,typeof _=="string")_=new me(_,p);else if(_ instanceof me)_.target=_.target||p;else{var Y=_;_=new me(V,p),O(_,Y)}if(Y=!0,N)for(var ie=N.length-1;0<=ie;ie--){var ge=_.g=N[ie];Y=te(ge,V,!0,_)&&Y}if(ge=_.g=p,Y=te(ge,V,!0,_)&&Y,Y=te(ge,V,!1,_)&&Y,N)for(ie=0;ie<N.length;ie++)ge=_.g=N[ie],Y=te(ge,V,!1,_)&&Y}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var N=p.g[_],V=0;V<N.length;V++)Oe(N[V]);delete p.g[_],p.h--}}this.F=null},zt.prototype.K=function(p,_,N,V){return this.i.add(String(p),_,!1,N,V)},zt.prototype.L=function(p,_,N,V){return this.i.add(String(p),_,!0,N,V)};function te(p,_,N,V){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,ie=0;ie<_.length;++ie){var ge=_[ie];if(ge&&!ge.da&&ge.capture==N){var xt=ge.listener,ln=ge.ha||ge.src;ge.fa&&Qe(p.i,ge),Y=xt.call(ln,V)!==!1&&Y}}return Y&&!V.defaultPrevented}function Se(p,_,N){if(typeof p=="function")N&&(p=v(p,N));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(p,_||0)}function ve(p){p.g=Se(()=>{p.g=null,p.i&&(p.i=!1,ve(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Ze extends re{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ve(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(p){re.call(this),this.h=p,this.g={}}T(dt,re);var tr=[];function so(p){U(p.g,function(_,N){this.g.hasOwnProperty(N)&&Dr(_)},p),p.g={}}dt.prototype.N=function(){dt.aa.N.call(this),so(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=c.JSON.stringify,oo=c.JSON.parse,Bu=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function wa(){}wa.prototype.h=null;function Ol(p){return p.h||(p.h=p.i())}function Ll(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Is(){me.call(this,"d")}T(Is,me);function Fl(){me.call(this,"c")}T(Fl,me);var Ps={},Uu=null;function ba(){return Uu=Uu||new zt}Ps.La="serverreachability";function zu(p){me.call(this,Ps.La,p)}T(zu,me);function ui(p){const _=ba();$t(_,new zu(_))}Ps.STAT_EVENT="statevent";function $u(p,_){me.call(this,Ps.STAT_EVENT,p),this.stat=_}T($u,me);function Gt(p){const _=ba();$t(_,new $u(_,p))}Ps.Ma="timingevent";function Vl(p,_){me.call(this,Ps.Ma,p),this.size=_}T(Vl,me);function Jr(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},_)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function Sa(p,_,N,V,Y,ie){p.info(function(){if(p.g)if(ie)for(var ge="",xt=ie.split("&"),ln=0;ln<xt.length;ln++){var ht=xt[ln].split("=");if(1<ht.length){var pn=ht[0];ht=ht[1];var en=pn.split("_");ge=2<=en.length&&en[1]=="type"?ge+(pn+"="+ht+"&"):ge+(pn+"=redacted&")}}else ge=null;else ge=ie;return"XMLHTTP REQ ("+V+") [attempt "+Y+"]: "+_+`
`+N+`
`+ge})}function Bl(p,_,N,V,Y,ie,ge){p.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+Y+"]: "+_+`
`+N+`
`+ie+" "+ge})}function Zr(p,_,N,V){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+hy(p,N)+(V?" "+V:"")})}function qu(p,_){p.info(function(){return"TIMEOUT: "+_})}_a.prototype.info=function(){};function hy(p,_){if(!p.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(p=0;p<N.length;p++)if(Array.isArray(N[p])){var V=N[p];if(!(2>V.length)){var Y=V[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return io(N)}catch{return _}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},es;function Ea(){}T(Ea,wa),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},es=new Ea;function ts(p,_,N,V){this.j=p,this.i=_,this.l=N,this.R=V||1,this.U=new dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bf}function bf(){this.i=null,this.g="",this.h=!1}var Wu={},zl={};function $l(p,_,N){p.L=1,p.v=ho(Sr(_)),p.m=N,p.P=!0,Hu(p,null)}function Hu(p,_){p.F=Date.now(),Ct(p),p.A=Sr(p.v);var N=p.A,V=p.R;Array.isArray(V)||(V=[String(V)]),mo(N.i,"t",V),p.C=0,N=p.j.J,p.h=new bf,p.g=Vf(p.j,N?_:null,!p.m),0<p.O&&(p.M=new Ze(v(p.Y,p,p.g),p.O)),_=p.U,N=p.g,V=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(tr[0]=Y.toString()),Y=tr);for(var ie=0;ie<Y.length;ie++){var ge=Zn(N,Y[ie],V||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=p.H?k(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),ui(),Sa(p.i,p.u,p.A,p.l,p.R,p.m)}ts.prototype.ca=function(p){p=p.target;const _=this.M;_&&rr(p)==3?_.j():this.Y(p)},ts.prototype.Y=function(p){try{if(p==this.g)e:{const en=rr(this.g);var _=this.g.Ba();const Vr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||en!=4||_==7||(_==8||0>=Vr?ui(3):ui(2)),Ca(this);var N=this.g.Z();this.X=N;t:if(_f(this)){var V=Ju(this.g);p="";var Y=V.length,ie=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),ao(this);var ge="";break t}this.h.i=new c.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,p+=this.h.i.decode(V[_],{stream:!(ie&&_==Y-1)});V.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=N==200,Bl(this.i,this.u,this.A,this.l,this.R,en,N),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,ln=this.g;if((xt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(xt)){var ht=xt;break t}}ht=null}if(N=ht)Zr(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gu(this,N);else{this.o=!1,this.s=3,Gt(12),Lr(this),ao(this);break e}}if(this.P){N=!0;let Cr;for(;!this.J&&this.C<ge.length;)if(Cr=fy(this,ge),Cr==zl){en==4&&(this.s=4,Gt(14),N=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==Wu){this.s=4,Gt(15),Zr(this.i,this.l,ge,"[Invalid Chunk]"),N=!1;break}else Zr(this.i,this.l,Cr,null),Gu(this,Cr);if(_f(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),N=!1),this.o=this.o&&N,!N)Zr(this.i,this.l,ge,"[Invalid Chunked Response]"),Lr(this),ao(this);else if(0<ge.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ed(pn),pn.M=!0,Gt(11))}}else Zr(this.i,this.l,ge,null),Gu(this,ge);en==4&&Lr(this),this.o&&!this.J&&(en==4?ec(this.j,this):(this.o=!1,Ct(this)))}else Yl(this.g),N==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),Lr(this),ao(this)}}}catch{}finally{}};function _f(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function fy(p,_){var N=p.C,V=_.indexOf(`
`,N);return V==-1?zl:(N=Number(_.substring(N,V)),isNaN(N)?Wu:(V+=1,V+N>_.length?zl:(_=_.slice(V,V+N),p.C=V+N,_)))}ts.prototype.cancel=function(){this.J=!0,Lr(this)};function Ct(p){p.S=Date.now()+p.I,Sf(p,p.I)}function Sf(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Jr(v(p.ba,p),_)}function Ca(p){p.B&&(c.clearTimeout(p.B),p.B=null)}ts.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(qu(this.i,this.A),this.L!=2&&(ui(),Gt(17)),Lr(this),this.s=2,ao(this)):Sf(this,this.S-p)};function ao(p){p.j.G==0||p.J||ec(p.j,p)}function Lr(p){Ca(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,so(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function Gu(p,_){try{var N=p.j;if(N.G!=0&&(N.g==p||Un(N.h,p))){if(!p.K&&Un(N.h,p)&&N.G==3){try{var V=N.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var Y=V;if(Y[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<p.F)Zl(N),os(N);else break e;Jl(N),Gt(18)}}else N.za=Y[1],0<N.za-N.T&&37500>Y[2]&&N.F&&N.v==0&&!N.C&&(N.C=Jr(v(N.Za,N),6e3));if(1>=Cf(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else pi(N,11)}else if((p.K||N.g==p)&&Zl(N),!A(_))for(Y=N.Da.g.parse(_),_=0;_<Y.length;_++){let ht=Y[_];if(N.T=ht[0],ht=ht[1],N.G==2)if(ht[0]=="c"){N.K=ht[1],N.ia=ht[2];const pn=ht[3];pn!=null&&(N.la=pn,N.j.info("VER="+N.la));const en=ht[4];en!=null&&(N.Aa=en,N.j.info("SVER="+N.Aa));const Vr=ht[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(V=1.5*Vr,N.L=V,N.j.info("backChannelRequestTimeoutMs_="+V)),V=N;const Cr=p.g;if(Cr){const Ra=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var ie=V.h;ie.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Ku(ie,ie.h),ie.h=null))}if(V.D){const nc=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;nc&&(V.ya=nc,St(V.I,V.D,nc))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-p.F,N.j.info("Handshake RTT: "+N.R+"ms")),V=N;var ge=p;if(V.qa=Ff(V,V.J?V.ia:null,V.W),ge.K){Tf(V.h,ge);var xt=ge,ln=V.L;ln&&(xt.I=ln),xt.B&&(Ca(xt),Ct(xt)),V.g=ge}else Aa(V);0<N.i.length&&Ds(N)}else ht[0]!="stop"&&ht[0]!="close"||pi(N,7);else N.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?pi(N,7):Sn(N):ht[0]!="noop"&&N.l&&N.l.ta(ht),N.v=0)}}ui(4)}catch{}}var Ef=class{constructor(p,_){this.g=p,this.map=_}};function Ta(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _r(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Cf(p){return p.h?1:p.g?p.g.size:0}function Un(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function Ku(p,_){p.g?p.g.add(_):p.h=_}function Tf(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}Ta.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function kf(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const N of p.g.values())_=_.concat(N.D);return _}return C(p.i)}function ql(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var _=[],N=p.length,V=0;V<N;V++)_.push(p[V]);return _}_=[],N=0;for(V in p)_[N++]=p[V];return _}function Wl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var _=[];p=p.length;for(var N=0;N<p;N++)_.push(N);return _}_=[],N=0;for(const V in p)_[N++]=V;return _}}}function lo(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var N=Wl(p),V=ql(p),Y=V.length,ie=0;ie<Y;ie++)_.call(void 0,V[ie],N&&N[ie],p)}var ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function my(p,_){if(p){p=p.split("&");for(var N=0;N<p.length;N++){var V=p[N].indexOf("="),Y=null;if(0<=V){var ie=p[N].substring(0,V);Y=p[N].substring(V+1)}else ie=p[N];_(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function di(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof di){this.h=p.h,Na(this,p.j),this.o=p.o,this.g=p.g,co(this,p.s),this.l=p.l;var _=p.i,N=new As;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),uo(this,N),this.m=p.m}else p&&(_=String(p).match(ka))?(this.h=!1,Na(this,_[1]||"",!0),this.o=lt(_[2]||""),this.g=lt(_[3]||"",!0),co(this,_[4]),this.l=lt(_[5]||"",!0),uo(this,_[6]||"",!0),this.m=lt(_[7]||"")):(this.h=!1,this.i=new As(null,this.h))}di.prototype.toString=function(){var p=[],_=this.j;_&&p.push(fo(_,Hl,!0),":");var N=this.g;return(N||_=="file")&&(p.push("//"),(_=this.o)&&p.push(fo(_,Hl,!0),"@"),p.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&p.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&p.push("/"),p.push(fo(N,N.charAt(0)=="/"?Pf:If,!0))),(N=this.i.toString())&&p.push("?",N),(N=this.m)&&p.push("#",fo(N,Yu)),p.join("")};function Sr(p){return new di(p)}function Na(p,_,N){p.j=N?lt(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function co(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function uo(p,_,N){_ instanceof As?(p.i=_,Rs(p.i,p.h)):(N||(_=fo(_,Af)),p.i=new As(_,p.h))}function St(p,_,N){p.i.set(_,N)}function ho(p){return St(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function lt(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function fo(p,_,N){return typeof p=="string"?(p=encodeURI(p).replace(_,Nf),N&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Nf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Hl=/[#\/\?@]/g,If=/[#\?:]/g,Pf=/[#\?]/g,Af=/[#\?@]/g,Yu=/#/g;function As(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function _n(p){p.g||(p.g=new Map,p.h=0,p.i&&my(p.i,function(_,N){p.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=As.prototype,t.add=function(p,_){_n(this),this.i=null,p=Fr(this,p);var N=this.g.get(p);return N||this.g.set(p,N=[]),N.push(_),this.h+=1,this};function ns(p,_){_n(p),_=Fr(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function rs(p,_){return _n(p),_=Fr(p,_),p.g.has(_)}t.forEach=function(p,_){_n(this),this.g.forEach(function(N,V){N.forEach(function(Y){p.call(_,Y,V,this)},this)},this)},t.na=function(){_n(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let V=0;V<_.length;V++){const Y=p[V];for(let ie=0;ie<Y.length;ie++)N.push(_[V])}return N},t.V=function(p){_n(this);let _=[];if(typeof p=="string")rs(this,p)&&(_=_.concat(this.g.get(Fr(this,p))));else{p=Array.from(this.g.values());for(let N=0;N<p.length;N++)_=_.concat(p[N])}return _},t.set=function(p,_){return _n(this),this.i=null,p=Fr(this,p),rs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function mo(p,_,N){ns(p,_),0<N.length&&(p.i=null,p.g.set(Fr(p,_),C(N)),p.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var V=_[N];const ie=encodeURIComponent(String(V)),ge=this.V(V);for(V=0;V<ge.length;V++){var Y=ie;ge[V]!==""&&(Y+="="+encodeURIComponent(String(ge[V]))),p.push(Y)}}return this.i=p.join("&")};function Fr(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Rs(p,_){_&&!p.j&&(_n(p),p.i=null,p.g.forEach(function(N,V){var Y=V.toLowerCase();V!=Y&&(ns(this,V),mo(this,Y,N))},p)),p.j=_}function py(p,_){const N=new _a;if(c.Image){const V=new Image;V.onload=b(nr,N,"TestLoadImage: loaded",!0,_,V),V.onerror=b(nr,N,"TestLoadImage: error",!1,_,V),V.onabort=b(nr,N,"TestLoadImage: abort",!1,_,V),V.ontimeout=b(nr,N,"TestLoadImage: timeout",!1,_,V),c.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=p}else _(!1)}function Rf(p,_){const N=new _a,V=new AbortController,Y=setTimeout(()=>{V.abort(),nr(N,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:V.signal}).then(ie=>{clearTimeout(Y),ie.ok?nr(N,"TestPingServer: ok",!0,_):nr(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),nr(N,"TestPingServer: error",!1,_)})}function nr(p,_,N,V,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),V(N)}catch{}}function gy(){this.g=new Bu}function jf(p,_,N){const V=N||"";try{lo(p,function(Y,ie){let ge=Y;f(Y)&&(ge=io(Y)),_.push(V+ie+"="+encodeURIComponent(ge))})}catch(Y){throw _.push(V+"type="+encodeURIComponent("_badmap")),Y}}function hi(p){this.l=p.Ub||null,this.j=p.eb||!1}T(hi,wa),hi.prototype.g=function(){return new Ia(this.l,this.j)},hi.prototype.i=(function(p){return function(){return p}})({});function Ia(p,_){zt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ia,zt),t=Ia.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,is(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ss(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Df(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Df(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?ss(this):is(this),this.readyState==3&&Df(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ss(this))},t.Qa=function(p){this.g&&(this.response=p,ss(this))},t.ga=function(){this.g&&ss(this)};function ss(p){p.readyState=4,p.l=null,p.j=null,p.v=null,is(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,p.push(N[0]+": "+N[1]),N=_.next();return p.join(`\r
`)};function is(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function fi(p){let _="";return U(p,function(N,V){_+=V,_+=":",_+=N,_+=`\r
`}),_}function po(p,_,N){e:{for(V in N){var V=!1;break e}V=!0}V||(N=fi(N),typeof p=="string"?N!=null&&encodeURIComponent(String(N)):St(p,_,N))}function Rt(p){zt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Rt,zt);var yy=/^https?$/i,Qu=["POST","PUT"];t=Rt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,N,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():es.g(),this.v=this.o?Ol(this.o):Ol(es),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(ie){Pa(this,ie);return}if(p=N||"",N=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var Y in V)N.set(Y,V[Y]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const ie of V.keys())N.set(ie,V.get(ie));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Qu,_,void 0))||V||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,ge]of N)this.g.setRequestHeader(ie,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kl(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){Pa(this,ie)}};function Pa(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Gl(p),Er(p)}function Gl(p){p.A||(p.A=!0,$t(p,"complete"),$t(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,$t(this,"complete"),$t(this,"abort"),Er(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xu(this):this.bb())},t.bb=function(){Xu(this)};function Xu(p){if(p.h&&typeof a<"u"&&(!p.v[1]||rr(p)!=4||p.Z()!=2)){if(p.u&&rr(p)==4)Se(p.Ea,0,p);else if($t(p,"readystatechange"),rr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var V;if(V=ge===0){var Y=String(p.D).match(ka)[1]||null;!Y&&c.self&&c.self.location&&(Y=c.self.location.protocol.slice(0,-1)),V=!yy.test(Y?Y.toLowerCase():"")}N=V}if(N)$t(p,"complete"),$t(p,"success");else{p.m=6;try{var ie=2<rr(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",Gl(p)}}finally{Er(p)}}}}function Er(p,_){if(p.g){Kl(p);const N=p.g,V=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||$t(p,"ready");try{N.onreadystatechange=V}catch{}}}function Kl(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function rr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),oo(_)}};function Ju(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Yl(p){const _={};p=(p.g&&2<=rr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<p.length;V++){if(A(p[V]))continue;var N=L(p[V]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=_[Y]||[];_[Y]=ie,ie.push(N)}P(_,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(p,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[p]||_}function Zu(p){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,p),this.cb=js("retryDelaySeedMs",1e4,p),this.Wa=js("forwardChannelMaxRetries",2,p),this.wa=js("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ta(p&&p.concurrentRequestLimit),this.Da=new gy,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zu.prototype,t.la=8,t.G=1,t.connect=function(p,_,N,V){Gt(0),this.W=p,this.H=_||{},N&&V!==void 0&&(this.H.OSID=N,this.H.OAID=V),this.F=this.X,this.I=Ff(this,null,this.W),Ds(this)};function Sn(p){if(Ql(p),p.G==3){var _=p.U++,N=Sr(p.I);if(St(N,"SID",p.K),St(N,"RID",_),St(N,"TYPE","terminate"),mi(p,N),_=new ts(p,p.j,_),_.L=2,_.v=ho(Sr(N)),N=!1,c.navigator&&c.navigator.sendBeacon)try{N=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!N&&c.Image&&(new Image().src=_.v,N=!0),N||(_.g=Vf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ct(_)}Lf(p)}function os(p){p.g&&(ed(p),p.g.cancel(),p.g=null)}function Ql(p){os(p),p.u&&(c.clearTimeout(p.u),p.u=null),Zl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Ds(p){if(!_r(p.h)&&!p.s){p.s=!0;var _=p.Ga;Z||se(),$||(Z(),$=!0),X.add(_,p),p.B=0}}function vy(p,_){return Cf(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Jr(v(p.Ga,p,_),Of(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new ts(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=k(ie),O(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var V=this.i[N];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=go(this,Y,_),N=Sr(this.I),St(N,"RID",p),St(N,"CVER",22),this.D&&St(N,"X-HTTP-Session-Id",this.D),mi(this,N),ie&&(this.O?_="headers="+encodeURIComponent(String(fi(ie)))+"&"+_:this.m&&po(N,this.m,ie)),Ku(this.h,Y),this.Ua&&St(N,"TYPE","init"),this.P?(St(N,"$req",_),St(N,"SID","null"),Y.T=!0,$l(Y,N,null)):$l(Y,N,_),this.G=2}}else this.G==3&&(p?Xl(this,p):this.i.length==0||_r(this.h)||Xl(this))};function Xl(p,_){var N;_?N=_.l:N=p.U++;const V=Sr(p.I);St(V,"SID",p.K),St(V,"RID",N),St(V,"AID",p.T),mi(p,V),p.m&&p.o&&po(V,p.m,p.o),N=new ts(p,p.j,N,p.B+1),p.m===null&&(N.H=p.o),_&&(p.i=_.D.concat(p.i)),_=go(p,N,1e3),N.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ku(p.h,N),$l(N,V,_)}function mi(p,_){p.H&&U(p.H,function(N,V){St(_,V,N)}),p.l&&lo({},function(N,V){St(_,V,N)})}function go(p,_,N){N=Math.min(p.i.length,N);var V=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let ie=-1;for(;;){const ge=["count="+N];ie==-1?0<N?(ie=Y[0].g,ge.push("ofs="+ie)):ie=0:ge.push("ofs="+ie);let xt=!0;for(let ln=0;ln<N;ln++){let ht=Y[ln].g;const pn=Y[ln].map;if(ht-=ie,0>ht)ie=Math.max(0,Y[ln].g-100),xt=!1;else try{jf(pn,ge,"req"+ht+"_")}catch{V&&V(pn)}}if(xt){V=ge.join("&");break e}}}return p=p.i.splice(0,N),_.D=p,V}function Aa(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;Z||se(),$||(Z(),$=!0),X.add(_,p),p.v=0}}function Jl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Jr(v(p.Fa,p),Of(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Mf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Jr(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),os(this),Mf(this))};function ed(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Mf(p){p.g=new ts(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Sr(p.qa);St(_,"RID","rpc"),St(_,"SID",p.K),St(_,"AID",p.T),St(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&St(_,"TO",p.ja),St(_,"TYPE","xmlhttp"),mi(p,_),p.m&&p.o&&po(_,p.m,p.o),p.L&&(p.g.I=p.L);var N=p.g;p=p.ia,N.L=1,N.v=ho(Sr(_)),N.m=null,N.P=!0,Hu(N,p)}t.Za=function(){this.C!=null&&(this.C=null,os(this),Jl(this),Gt(19))};function Zl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function ec(p,_){var N=null;if(p.g==_){Zl(p),ed(p),p.g=null;var V=2}else if(Un(p.h,_))N=_.D,Tf(p.h,_),V=1;else return;if(p.G!=0){if(_.o)if(V==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var Y=p.B;V=ba(),$t(V,new Vl(V,N)),Ds(p)}else Aa(p);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(V==1&&vy(p,_)||V==2&&Jl(p)))switch(N&&0<N.length&&(_=p.h,_.i=_.i.concat(N)),Y){case 1:pi(p,5);break;case 4:pi(p,10);break;case 3:pi(p,6);break;default:pi(p,2)}}}function Of(p,_){let N=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(N*=2),N*_}function pi(p,_){if(p.j.info("Error code "+_),_==2){var N=v(p.fb,p),V=p.Xa;const Y=!V;V=new di(V||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Na(V,"https"),ho(V),Y?py(V.toString(),N):Rf(V.toString(),N)}else Gt(2);p.G=0,p.l&&p.l.sa(_),Lf(p),Ql(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Lf(p){if(p.G=0,p.ka=[],p.l){const _=kf(p.h);(_.length!=0||p.i.length!=0)&&(S(p.ka,_),S(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function Ff(p,_,N){var V=N instanceof di?Sr(N):new di(N);if(V.g!="")_&&(V.g=_+"."+V.g),co(V,V.s);else{var Y=c.location;V=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new di(null);V&&Na(ie,V),_&&(ie.g=_),Y&&co(ie,Y),N&&(ie.l=N),V=ie}return N=p.D,_=p.ya,N&&_&&St(V,N,_),St(V,"VER",p.la),mi(p,V),V}function Vf(p,_,N){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Rt(new hi({eb:N})):new Rt(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function td(){}t=td.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tc(){}tc.prototype.g=function(p,_){return new zn(p,_)};function zn(p,_){zt.call(this),this.g=new Zu(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!A(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!A(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Ms(this)}T(zn,zt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Sn(this.g)},zn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var N={};N.__data__=p,p=N}else this.u&&(N={},N.__data__=io(p),p=N);_.i.push(new Ef(_.Ya++,p)),_.G==3&&Ds(_)},zn.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,zn.aa.N.call(this)};function Bf(p){Is.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const N in _){p=N;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}T(Bf,Is);function Uf(){Fl.call(this),this.status=1}T(Uf,Fl);function Ms(p){this.g=p}T(Ms,td),Ms.prototype.ua=function(){$t(this.g,"a")},Ms.prototype.ta=function(p){$t(this.g,new Bf(p))},Ms.prototype.sa=function(p){$t(this.g,new Uf)},Ms.prototype.ra=function(){$t(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,fP=function(){return new tc},hP=function(){return ba()},dP=Ps,l0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,cp=Ul,wf.COMPLETE="complete",uP=wf,Ll.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Od=Ll,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,cP=Rt}).apply(typeof Fm<"u"?Fm:typeof self<"u"?self:typeof window<"u"?window:{});const fC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new $w("@firebase/firestore");function kd(){return bl.logLevel}function Pe(t,...e){if(bl.logLevel<=ut.DEBUG){const n=e.map(tb);bl.debug(`Firestore (${Cu}): ${t}`,...n)}}function Wi(t,...e){if(bl.logLevel<=ut.ERROR){const n=e.map(tb);bl.error(`Firestore (${Cu}): ${t}`,...n)}}function ah(t,...e){if(bl.logLevel<=ut.WARN){const n=e.map(tb);bl.warn(`Firestore (${Cu}): ${t}`,...n)}}function tb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+t;throw Wi(e),new Error(e)}function bt(t,e){t||Ke()}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends to{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class W5{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Li,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Li)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string"),new $5(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new hr(e)}}class H5{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G5{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H5(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){bt(this.o===void 0);const r=i=>{i.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,Pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bt(typeof n.token=="string"),this.R=n.token,new K5(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Q5(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function yt(t,e){return t<e?-1:t>e?1:0}function au(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yt(this.nanoseconds,e.nanoseconds):yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new mn(0,0))}static max(){return new Xe(new mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ke(),r===void 0?r=e.length-n:r>e.length-n&&Ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lh?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class At extends lh{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const X5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends lh{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return X5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new _e(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new _e(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(At.fromString(e))}static fromName(e){return new Me(At.fromString(e).popFirst(5))}static empty(){return new Me(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new At(e.slice()))}}function J5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Xe.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new ia(s,Me.empty(),e)}function Z5(t){return new ia(t.readTime,t.key,-1)}class ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ia(Xe.min(),Me.empty(),-1)}static max(){return new ia(Xe.max(),Me.empty(),-1)}}function e6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==t6)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let s=0,i=0,a=!1;e.forEach((c=>{++s,c.next((()=>{++i,a&&i===s&&n()}),(d=>r(d)))})),a=!0,i===s&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((s=>s?ue.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let d=0;d<i;d++){const f=d;n(e[f]).next((m=>{a[f]=m,++c,c===i&&r(a)}),(m=>s(m)))}}))}static doWhile(e,n){return new ue(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function r6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nb.oe=-1;function Tg(t){return t==null}function Op(t){return t===0&&1/t==-1/0}function s6(t){return typeof t=="number"&&Number.isInteger(t)&&!Op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vm(this.root,e,this.comparator,!0)}}class Vm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??kn.RED,this.left=s??kn.EMPTY,this.right=i??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new kn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,n,r,s,i){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pC(this.data.getIterator())}getIteratorFrom(e){return new pC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new In(this.comparator);return n.data=e,n}}class pC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new In(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gP("Invalid base64 string: "+i):i}})(e);return new Pn(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const i6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(bt(!!t),typeof t=="string"){let e=0;const n=i6.exec(t);if(bt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _l(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sb(t){const e=t.mapValue.fields.__previous_value__;return rb(e)?sb(e):e}function ch(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n,r,s,i,a,c,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f}}class uh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm={mapValue:{}};function Sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rb(t)?4:l6(t)?9007199254740991:a6(t)?10:11:Ke()}function ni(t,e){if(t===e)return!0;const n=Sl(t);if(n!==Sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ch(t).isEqual(ch(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=oa(s.timestampValue),c=oa(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return _l(s.bytesValue).isEqual(_l(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Qt(s.geoPointValue.latitude)===Qt(i.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Qt(s.integerValue)===Qt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Qt(s.doubleValue),c=Qt(i.doubleValue);return a===c?Op(a)===Op(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(mC(a)!==mC(c))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!ni(a[d],c[d])))return!1;return!0})(t,e);default:return Ke()}}function dh(t,e){return(t.values||[]).find((n=>ni(n,e)))!==void 0}function lu(t,e){if(t===e)return 0;const n=Sl(t),r=Sl(e);if(n!==r)return yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yt(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const c=Qt(i.integerValue||i.doubleValue),d=Qt(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return gC(t.timestampValue,e.timestampValue);case 4:return gC(ch(t),ch(e));case 5:return yt(t.stringValue,e.stringValue);case 6:return(function(i,a){const c=_l(i),d=_l(a);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const c=i.split("/"),d=a.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=yt(c[f],d[f]);if(m!==0)return m}return yt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const c=yt(Qt(i.latitude),Qt(a.latitude));return c!==0?c:yt(Qt(i.longitude),Qt(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yC(t.arrayValue,e.arrayValue);case 10:return(function(i,a){var c,d,f,m;const y=i.fields||{},v=a.fields||{},b=(c=y.value)===null||c===void 0?void 0:c.arrayValue,T=(d=v.value)===null||d===void 0?void 0:d.arrayValue,C=yt(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:yC(b,T)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Bm.mapValue&&a===Bm.mapValue)return 0;if(i===Bm.mapValue)return 1;if(a===Bm.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),f=a.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const v=yt(d[y],m[y]);if(v!==0)return v;const b=lu(c[d[y]],f[m[y]]);if(b!==0)return b}return yt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Ke()}}function gC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yt(t,e);const n=oa(t),r=oa(e),s=yt(n.seconds,r.seconds);return s!==0?s:yt(n.nanos,r.nanos)}function yC(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=lu(n[s],r[s]);if(i)return i}return yt(n.length,r.length)}function cu(t){return c0(t)}function c0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=oa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _l(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=c0(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${c0(n.fields[a])}`;return s+"}"})(t.mapValue):Ke()}function vC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function u0(t){return!!t&&"integerValue"in t}function ib(t){return!!t&&"arrayValue"in t}function xC(t){return!!t&&"nullValue"in t}function wC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function up(t){return!!t&&"mapValue"in t}function a6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Dl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!up(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wd(n)}setAll(e){let n=Nn.emptyPath(),r={},s=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=Wd(a):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());up(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];up(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Dl(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new fr(Wd(this.value))}}function yP(t){const e=[];return Dl(t.fields,((n,r)=>{const s=new Nn([n]);if(up(r)){const i=yP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new On(e,0,Xe.min(),Xe.min(),Xe.min(),fr.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,Xe.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,Xe.min(),Xe.min(),fr.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,Xe.min(),Xe.min(),fr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.position=e,this.inclusive=n}}function bC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Me.comparator(Me.fromName(a.referenceValue),n.key):r=lu(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function _C(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n="asc"){this.field=e,this.dir=n}}function c6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{}class on extends vP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d6(e,n,r):n==="array-contains"?new m6(e,r):n==="in"?new p6(e,r):n==="not-in"?new g6(e,r):n==="array-contains-any"?new y6(e,r):new on(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h6(e,r):new f6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lu(n,this.value)):n!==null&&Sl(this.value)===Sl(n)&&this.matchesComparison(lu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bs extends vP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bs(e,n)}matches(e){return xP(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xP(t){return t.op==="and"}function wP(t){return u6(t)&&xP(t)}function u6(t){for(const e of t.filters)if(e instanceof bs)return!1;return!0}function d0(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+cu(t.value);if(wP(t))return t.filters.map((e=>d0(e))).join(",");{const e=t.filters.map((n=>d0(n))).join(",");return`${t.op}(${e})`}}function bP(t,e){return t instanceof on?(function(r,s){return s instanceof on&&r.op===s.op&&r.field.isEqual(s.field)&&ni(r.value,s.value)})(t,e):t instanceof bs?(function(r,s){return s instanceof bs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,c)=>i&&bP(a,s.filters[c])),!0):!1})(t,e):void Ke()}function _P(t){return t instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${cu(n.value)}`})(t):t instanceof bs?(function(n){return n.op.toString()+" {"+n.getFilters().map(_P).join(" ,")+"}"})(t):"Filter"}class d6 extends on{constructor(e,n,r){super(e,n,r),this.key=Me.fromName(r.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class h6 extends on{constructor(e,n){super(e,"in",n),this.keys=SP("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class f6 extends on{constructor(e,n){super(e,"not-in",n),this.keys=SP("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Me.fromName(r.referenceValue)))}class m6 extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ib(n)&&dh(n.arrayValue,this.value)}}class p6 extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dh(this.value.arrayValue,n)}}class g6 extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dh(this.value.arrayValue,n)}}class y6 extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ib(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>dh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.ue=null}}function SC(t,e=null,n=[],r=[],s=null,i=null,a=null){return new v6(t,e,n,r,s,i,a)}function ob(t){const e=Je(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>d0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>cu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>cu(r))).join(",")),e.ue=n}return e.ue}function ab(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_C(t.startAt,e.startAt)&&_C(t.endAt,e.endAt)}function h0(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n=null,r=[],s=[],i=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function x6(t,e,n,r,s,i,a,c){return new Wh(t,e,n,r,s,i,a,c)}function lb(t){return new Wh(t)}function EC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EP(t){return t.collectionGroup!==null}function Hd(t){const e=Je(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new In(Nn.comparator);return a.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Fp(i,r))})),n.has(Nn.keyField().canonicalString())||e.ce.push(new Fp(Nn.keyField(),r))}return e.ce}function Xs(t){const e=Je(t);return e.le||(e.le=w6(e,Hd(t))),e.le}function w6(t,e){if(t.limitType==="F")return SC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Fp(s.field,i)}));const n=t.endAt?new Lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lp(t.startAt.position,t.startAt.inclusive):null;return SC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f0(t,e){const n=t.filters.concat([e]);return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vp(t,e,n){return new Wh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kg(t,e){return ab(Xs(t),Xs(e))&&t.limitType===e.limitType}function CP(t){return`${ob(Xs(t))}|lt:${t.limitType}`}function Nc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>_P(s))).join(", ")}]`),Tg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>cu(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>cu(s))).join(",")),`Target(${r})`})(Xs(t))}; limitType=${t.limitType})`}function Ng(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Me.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Hd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,c,d){const f=bC(a,c,d);return a.inclusive?f<=0:f<0})(r.startAt,Hd(r),s)||r.endAt&&!(function(a,c,d){const f=bC(a,c,d);return a.inclusive?f>=0:f>0})(r.endAt,Hd(r),s))})(t,e)}function b6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TP(t){return(e,n)=>{let r=!1;for(const s of Hd(t)){const i=_6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _6(t,e,n){const r=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(i,a,c){const d=a.data.field(i),f=c.data.field(i);return d!==null&&f!==null?lu(d,f):Ke()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Dl(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return pP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new Bt(Me.comparator);function Hi(){return S6}const kP=new Bt(Me.comparator);function Ld(...t){let e=kP;for(const n of t)e=e.insert(n.key,n);return e}function NP(t){let e=kP;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Za(){return Gd()}function IP(){return Gd()}function Gd(){return new Tu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const E6=new Bt(Me.comparator),C6=new In(Me.comparator);function at(...t){let e=C6;for(const n of t)e=e.add(n);return e}const T6=new In(yt);function k6(){return T6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function PP(t){return{integerValue:""+t}}function N6(t,e){return s6(e)?PP(e):cb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this._=void 0}}function I6(t,e,n){return t instanceof hh?(function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&rb(i)&&(i=sb(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}})(n,e):t instanceof fh?RP(t,e):t instanceof mh?jP(t,e):(function(s,i){const a=AP(s,i),c=CC(a)+CC(s.Pe);return u0(a)&&u0(s.Pe)?PP(c):cb(s.serializer,c)})(t,e)}function P6(t,e,n){return t instanceof fh?RP(t,e):t instanceof mh?jP(t,e):n}function AP(t,e){return t instanceof Bp?(function(r){return u0(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class hh extends Ig{}class fh extends Ig{constructor(e){super(),this.elements=e}}function RP(t,e){const n=DP(e);for(const r of t.elements)n.some((s=>ni(s,r)))||n.push(r);return{arrayValue:{values:n}}}class mh extends Ig{constructor(e){super(),this.elements=e}}function jP(t,e){let n=DP(e);for(const r of t.elements)n=n.filter((s=>!ni(s,r)));return{arrayValue:{values:n}}}class Bp extends Ig{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function CC(t){return Qt(t.integerValue||t.doubleValue)}function DP(t){return ib(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.field=e,this.transform=n}}function R6(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof fh&&s instanceof fh||r instanceof mh&&s instanceof mh?au(r.elements,s.elements,ni):r instanceof Bp&&s instanceof Bp?ni(r.Pe,s.Pe):r instanceof hh&&s instanceof hh})(t.transform,e.transform)}class j6{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Pg=class{};function MP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ag(t.key,Qn.none()):new Hh(t.key,t.data,Qn.none());{const n=t.data,r=fr.empty();let s=new In(Nn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new pa(t.key,r,new Pr(s.toArray()),Qn.none())}}function D6(t,e,n){t instanceof Hh?(function(s,i,a){const c=s.value.clone(),d=kC(s.fieldTransforms,i,a.transformResults);c.setAll(d),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof pa?(function(s,i,a){if(!dp(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=kC(s.fieldTransforms,i,a.transformResults),d=i.data;d.setAll(OP(s)),d.setAll(c),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Kd(t,e,n,r){return t instanceof Hh?(function(i,a,c,d){if(!dp(i.precondition,a))return c;const f=i.value.clone(),m=NC(i.fieldTransforms,d,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof pa?(function(i,a,c,d){if(!dp(i.precondition,a))return c;const f=NC(i.fieldTransforms,d,a),m=a.data;return m.setAll(OP(i)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(i,a,c){return dp(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function M6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=AP(r.transform,s||null);i!=null&&(n===null&&(n=fr.empty()),n.set(r.field,i))}return n||null}function TC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&au(r,s,((i,a)=>R6(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hh extends Pg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pa extends Pg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function OP(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function kC(t,e,n){const r=new Map;bt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,P6(a,c,n[s]))}return r}function NC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,I6(i,a,e))}return r}class Ag extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O6 extends Pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&D6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IP();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(s.key)?null:c;const d=MP(a,c);d!==null&&r.set(s.key,d),a.isValidDocument()||a.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,((n,r)=>TC(n,r)))&&au(this.baseMutations,e.baseMutations,((n,r)=>TC(n,r)))}}class ub{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){bt(e.mutations.length===r.length);let s=(function(){return E6})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new ub(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,ft;function B6(t){switch(t){default:return Ke();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function LP(t){if(t===void 0)return Wi("GRPC error has no .code"),ae.UNKNOWN;switch(t){case nn.OK:return ae.OK;case nn.CANCELLED:return ae.CANCELLED;case nn.UNKNOWN:return ae.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ae.INTERNAL;case nn.UNAVAILABLE:return ae.UNAVAILABLE;case nn.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case nn.NOT_FOUND:return ae.NOT_FOUND;case nn.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case nn.ABORTED:return ae.ABORTED;case nn.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case nn.DATA_LOSS:return ae.DATA_LOSS;default:return Ke()}}(ft=nn||(nn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=new ml([4294967295,4294967295],0);function IC(t){const e=U6().encode(t),n=new lP;return n.update(e),new Uint8Array(n.digest())}function PC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ml([n,r],0),new ml([s,i],0)]}class db{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fd(`Invalid padding: ${n}`);if(r<0)throw new Fd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ml.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ml.fromNumber(r)));return s.compare(z6)===1&&(s=new ml([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=IC(e),[r,s]=PC(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new db(i,s,n);return r.forEach((c=>a.insert(c))),a}insert(e){if(this.Ie===0)return;const n=IC(e),[r,s]=PC(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rg(Xe.min(),s,new Bt(yt),Hi(),at())}}class Gh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gh(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class FP{constructor(e,n){this.targetId=e,this.me=n}}class VP{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class AC{constructor(){this.fe=0,this.ge=jC(),this.pe=Pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=at(),n=at(),r=at();return this.ge.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ke()}})),new Gh(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hi(),this.qe=RC(),this.Qe=new Bt(yt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ke()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,s)=>{this.ze(s)&&n(s)}))}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(h0(i))if(r===0){const a=new Me(i.path);this.Ue(n,a,On.newNoDocument(a,Xe.min()))}else bt(r===1);else{const a=this.Ye(n);if(a!==r){const c=this.Ze(e),d=c?this.Xe(c,e,a):1;if(d!==0){this.je(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,c;try{a=_l(r).toUint8Array()}catch(d){if(d instanceof gP)return ah("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new db(a,s,i)}catch(d){return ah(d instanceof Fd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,i,null),s++)})),s}rt(e){const n=new Map;this.Be.forEach(((i,a)=>{const c=this.Je(a);if(c){if(i.current&&h0(c.target)){const d=new Me(c.target.path);this.ke.get(d)!==null||this.it(a,d)||this.Ue(a,d,On.newNoDocument(d,e))}i.be&&(n.set(a,i.ve()),i.Ce())}}));let r=at();this.qe.forEach(((i,a)=>{let c=!0;a.forEachWhile((d=>{const f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.ke.forEach(((i,a)=>a.setReadTime(e)));const s=new Rg(e,n,this.Qe,this.ke,r);return this.ke=Hi(),this.qe=RC(),this.Qe=new Bt(yt),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new AC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new In(yt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new AC),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function RC(){return new Bt(Me.comparator)}function jC(){return new Bt(Me.comparator)}const q6={asc:"ASCENDING",desc:"DESCENDING"},W6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H6={and:"AND",or:"OR"};class G6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m0(t,e){return t.useProto3Json||Tg(e)?e:{value:e}}function Up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K6(t,e){return Up(t,e.toTimestamp())}function Js(t){return bt(!!t),Xe.fromTimestamp((function(n){const r=oa(n);return new mn(r.seconds,r.nanos)})(t))}function hb(t,e){return p0(t,e).canonicalString()}function p0(t,e){const n=(function(s){return new At(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function UP(t){const e=At.fromString(t);return bt(HP(e)),e}function g0(t,e){return hb(t.databaseId,e.path)}function ex(t,e){const n=UP(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me($P(n))}function zP(t,e){return hb(t.databaseId,e)}function Y6(t){const e=UP(t);return e.length===4?At.emptyPath():$P(e)}function y0(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $P(t){return bt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DC(t,e,n){return{name:g0(t,e),fields:n.value.mapValue.fields}}function Q6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(f,m){return f.useProto3Json?(bt(m===void 0||typeof m=="string"),Pn.fromBase64String(m||"")):(bt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Pn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(f){const m=f.code===void 0?ae.UNKNOWN:LP(f.code);return new _e(m,f.message||"")})(a);n=new VP(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ex(t,r.document.name),i=Js(r.document.updateTime),a=r.document.createTime?Js(r.document.createTime):Xe.min(),c=new fr({mapValue:{fields:r.document.fields}}),d=On.newFoundDocument(s,i,a,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new hp(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ex(t,r.document),i=r.readTime?Js(r.readTime):Xe.min(),a=On.newNoDocument(s,i),c=r.removedTargetIds||[];n=new hp([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ex(t,r.document),i=r.removedTargetIds||[];n=new hp([],i,s,null)}else{if(!("filter"in e))return Ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new V6(s,i),c=r.targetId;n=new FP(c,a)}}return n}function X6(t,e){let n;if(e instanceof Hh)n={update:DC(t,e.key,e.value)};else if(e instanceof Ag)n={delete:g0(t,e.key)};else if(e instanceof pa)n={update:DC(t,e.key,e.data),updateMask:oB(e.fieldMask)};else{if(!(e instanceof O6))return Ke();n={verify:g0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const c=a.transform;if(c instanceof hh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof mh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Bp)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw Ke()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:K6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ke()})(t,e.precondition)),n}function J6(t,e){return t&&t.length>0?(bt(e!==void 0),t.map((n=>(function(s,i){let a=s.updateTime?Js(s.updateTime):Js(i);return a.isEqual(Xe.min())&&(a=Js(i)),new j6(a,s.transformResults||[])})(n,e)))):[]}function Z6(t,e){return{documents:[zP(t,e.path)]}}function eB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zP(t,s);const i=(function(f){if(f.length!==0)return WP(bs.create(f,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(f){if(f.length!==0)return f.map((m=>(function(v){return{field:Ic(v.field),direction:rB(v.dir)}})(m)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=m0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:n,parent:s}}function tB(t){let e=Y6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){bt(r===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(y){const v=qP(y);return v instanceof bs&&wP(v)?v.getFilters():[v]})(n.where));let a=[];n.orderBy&&(a=(function(y){return y.map((v=>(function(T){return new Fp(Pc(T.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let v;return v=typeof y=="object"?y.value:y,Tg(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(y){const v=!!y.before,b=y.values||[];return new Lp(b,v)})(n.startAt));let f=null;return n.endAt&&(f=(function(y){const v=!y.before,b=y.values||[];return new Lp(b,v)})(n.endAt)),x6(e,s,a,i,c,"F",d,f)}function nB(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Pc(n.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Pc(n.unaryFilter.field);return on.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Pc(n.unaryFilter.field);return on.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Pc(n.unaryFilter.field);return on.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}})(t):t.fieldFilter!==void 0?(function(n){return on.create(Pc(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return bs.create(n.compositeFilter.filters.map((r=>qP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ke()}})(n.compositeFilter.op))})(t):Ke()}function rB(t){return q6[t]}function sB(t){return W6[t]}function iB(t){return H6[t]}function Ic(t){return{fieldPath:t.canonicalString()}}function Pc(t){return Nn.fromServerFormat(t.fieldPath)}function WP(t){return t instanceof on?(function(n){if(n.op==="=="){if(wC(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NAN"}};if(xC(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wC(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NAN"}};if(xC(n.value))return{unaryFilter:{field:Ic(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(n.field),op:sB(n.op),value:n.value}}})(t):t instanceof bs?(function(n){const r=n.getFilters().map((s=>WP(s)));return r.length===1?r[0]:{compositeFilter:{op:iB(n.op),filters:r}}})(t):Ke()}function oB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,s,i=Xe.min(),a=Xe.min(),c=Pn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Qo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.ct=e}}function lB(t){const e=tB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(){this.un=new uB}addToCollectionParentIndex(e,n){return this.un.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ia.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class uB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new In(At.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new In(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new uu(0)}static kn(){return new uu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.changes=new Tu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Kd(r.mutation,s,Pr.empty(),mn.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const s=Za();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=Ld();return i.forEach(((c,d)=>{a=a.insert(c,d.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Za();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,r,s){let i=Hi();const a=Gd(),c=(function(){return Gd()})();return n.forEach(((d,f)=>{const m=r.get(f.key);s.has(f.key)&&(m===void 0||m.mutation instanceof pa)?i=i.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),Kd(m.mutation,f,m.mutation.getFieldMask(),mn.now())):a.set(f.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((f,m)=>a.set(f,m))),n.forEach(((f,m)=>{var y;return c.set(f,new hB(m,(y=a.get(f))!==null&&y!==void 0?y:null))})),c)))}recalculateAndSaveOverlays(e,n){const r=Gd();let s=new Bt(((a,c)=>a-c)),i=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const c of a)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let m=r.get(d)||Pr.empty();m=c.applyToLocalView(f,m),r.set(d,m);const y=(s.get(c.batchId)||at()).add(d);s=s.insert(c.batchId,y)}))})).next((()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,m=d.value,y=IP();m.forEach((v=>{if(!i.has(v)){const b=MP(n.get(v),r.get(v));b!==null&&y.set(v,b),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return ue.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return Me.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ue.resolve(Za());let c=-1,d=i;return a.next((f=>ue.forEach(f,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),i.get(m)?ue.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,d,f,at()))).next((m=>({batchId:c,changes:NP(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((r=>{let s=Ld();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Ld();return this.indexManager.getCollectionParents(e,i).next((c=>ue.forEach(c,(d=>{const f=(function(y,v){return new Wh(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((m=>{m.forEach(((y,v)=>{a=a.insert(y,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((d,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,On.newInvalidDocument(m)))}));let c=Ld();return a.forEach(((d,f)=>{const m=i.get(d);m!==void 0&&Kd(m.mutation,f,Pr.empty(),mn.now()),Ng(n,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ue.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Js(s.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(s){return{name:s.name,query:lB(s.bundledQuery),readTime:Js(s.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.overlays=new Bt(Me.comparator),this.Ir=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Za();return ue.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.ht(e,n,i)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Ir.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const s=Za(),i=n.length+1,a=new Me(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ue.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Bt(((f,m)=>f-m));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=i.get(f.largestBatchId);m===null&&(m=Za(),i=i.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const c=Za(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,m)=>c.set(f,m))),!(c.size()>=s)););return ue.resolve(c)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new F6(n,r));let i=this.Ir.get(n);i===void 0&&(i=at(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.Tr=new In(bn.Er),this.dr=new In(bn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new bn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Me(new At([])),r=new bn(n,e),s=new bn(n,e+1),i=[];return this.dr.forEachInRange([r,s],(a=>{this.Vr(a),i.push(a.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Me(new At([])),r=new bn(n,e),s=new bn(n,e+1);let i=at();return this.dr.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new bn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Me.comparator(e.key,n.key)||yt(e.wr,n.wr)}static Ar(e,n){return yt(e.wr,n.wr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new In(bn.Er)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new L6(i,n,r,s);this.mutationQueue.push(a);for(const c of s)this.br=this.br.add(new bn(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ue.resolve(a)}lookupMutationBatch(e,n){return ue.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return ue.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),s=new bn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],(a=>{const c=this.Dr(a.wr);i.push(c)})),ue.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new In(yt);return n.forEach((s=>{const i=new bn(s,0),a=new bn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],(c=>{r=r.add(c.wr)}))})),ue.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Me.isDocumentKey(i)||(i=i.child(""));const a=new bn(new Me(i),0);let c=new In(yt);return this.br.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.wr)),!0)}),a),ue.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach((r=>{const s=this.Dr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ue.forEach(n.mutations,(s=>{const i=new bn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new bn(n,0),s=this.br.firstAfterOrEqual(r);return ue.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e){this.Mr=e,this.docs=(function(){return new Bt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=Hi();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():On.newInvalidDocument(s))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hi();const a=n.path,c=new Me(a.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||e6(Z5(m),r)<=0||(s.has(m.key)||Ng(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ke()}Or(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new xB(this)}getSize(e){return ue.resolve(this.size)}}class xB extends dB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.persistence=e,this.Nr=new Tu((n=>ob(n)),ab),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fb,this.targetCount=0,this.kr=uu.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,s)=>n(s))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ue.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new uu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Kn(n),ue.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach(((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),ue.waitFor(i).next((()=>s))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),ue.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nb(0),this.Kr=!1,this.Kr=!0,this.$r=new gB,this.referenceDelegate=e(this),this.Ur=new wB(this),this.indexManager=new cB,this.remoteDocumentCache=(function(s){return new vB(s)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new aB(n),this.Gr=new mB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const s=new _B(this.Qr.next());return this.referenceDelegate.zr(),r(s).next((i=>this.referenceDelegate.jr(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Hr(e,n){return ue.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class _B extends n6{constructor(e){super(),this.currentSequenceNumber=e}}class mb{constructor(e){this.persistence=e,this.Jr=new fb,this.Yr=null}static Zr(e){return new mb(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((s=>this.Xr.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.Xr.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Xr,(r=>{const s=Me.fromPath(r);return this.ei(e,s).next((i=>{i||n.removeEntry(s,Xe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ue.or([()=>ue.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=at(),s=at();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new pb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return d3()?8:r6(Vn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.Zi(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new SB;return this.Xi(e,n,a).next((c=>{if(i.result=c,this.zi)return this.es(e,n,a,c.size)}))})).next((()=>i.result))}es(e,n,r,s){return r.documentReadCount<this.ji?(kd()<=ut.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Nc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ue.resolve()):(kd()<=ut.DEBUG&&Pe("QueryEngine","Query:",Nc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(kd()<=ut.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Nc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(n))):ue.resolve())}Yi(e,n){if(EC(n))return ue.resolve(null);let r=Xs(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Vp(n,null,"F"),r=Xs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=at(...i);return this.Ji.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.ts(n,c);return this.ns(n,f,a,d.readTime)?this.Yi(e,Vp(n,null,"F")):this.rs(e,f,n,d)}))))})))))}Zi(e,n,r,s){return EC(n)||s.isEqual(Xe.min())?ue.resolve(null):this.Ji.getDocuments(e,r).next((i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?ue.resolve(null):(kd()<=ut.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nc(n)),this.rs(e,a,n,J5(s,-1)).next((c=>c)))}))}ts(e,n){let r=new In(TP(e));return n.forEach(((s,i)=>{Ng(e,i)&&(r=r.add(i))})),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return kd()<=ut.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.Ji.getDocumentsMatchingQuery(e,n,ia.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Bt(yt),this._s=new Tu((i=>ob(i)),ab),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function TB(t,e,n,r){return new CB(t,e,n,r)}async function GP(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],c=[];let d=at();for(const f of s){a.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of i){c.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((f=>({hs:f,removedBatchIds:a,addedBatchIds:c})))}))}))}function kB(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,m){const y=f.batch,v=y.keys();let b=ue.resolve();return v.forEach((T=>{b=b.next((()=>m.getEntry(d,T))).next((C=>{const S=f.docVersions.get(T);bt(S!==null),C.version.compareTo(S)<0&&(y.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),m.addEntry(C)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=at();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function KP(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function NB(t,e){const n=Je(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach(((m,y)=>{const v=s.get(y);if(!v)return;c.push(n.Ur.removeMatchingKeys(i,m.removedDocuments,y).next((()=>n.Ur.addMatchingKeys(i,m.addedDocuments,y))));let b=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(Pn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),s=s.insert(y,b),(function(C,S,I){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,b,m)&&c.push(n.Ur.updateTargetData(i,b))}));let d=Hi(),f=at();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),c.push(IB(i,a,e.documentUpdates).next((m=>{d=m.Ps,f=m.Is}))),!r.isEqual(Xe.min())){const m=n.Ur.getLastRemoteSnapshotVersion(i).next((y=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(m)}return ue.waitFor(c).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,d,f))).next((()=>d))})).then((i=>(n.os=s,i)))}function IB(t,e,n){let r=at(),s=at();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=Hi();return n.forEach(((c,d)=>{const f=i.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Xe.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):Pe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{Ps:a,Is:s}}))}function PB(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function AB(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Ur.getTargetData(r,e).next((i=>i?(s=i,ue.resolve(s)):n.Ur.allocateTargetId(r).next((a=>(s=new Qo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function v0(t,e,n){const r=Je(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!qh(a))throw a;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function MC(t,e,n){const r=Je(t);let s=Xe.min(),i=at();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(d,f,m){const y=Je(d),v=y._s.get(m);return v!==void 0?ue.resolve(y.os.get(v)):y.Ur.getTargetData(f,m)})(r,a,Xs(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,c.targetId).next((d=>{i=d}))})).next((()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:Xe.min(),n?i:at()))).next((c=>(RB(r,b6(e),c),{documents:c,Ts:i})))))}function RB(t,e,n){let r=t.us.get(e)||Xe.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.us.set(e,r)}class OC{constructor(){this.activeTargetIds=k6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jB{constructor(){this.so=new OC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new OC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um=null;function tx(){return Um===null?Um=(function(){return 268435456+Math.round(2147483648*Math.random())})():Um++,"0x"+Um.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class LB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const c=tx(),d=this.xo(n,r.toUriEncodedString());Pe("RestConnection",`Sending RPC '${n}' ${c}:`,d,s);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,i,a),this.No(n,d,f,s).then((m=>(Pe("RestConnection",`Received RPC '${n}' ${c}: `,m),m)),(m=>{throw ah("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",d,"request:",s),m}))}Lo(n,r,s,i,a,c){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cu})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>n[a]=i)),s&&s.headers.forEach(((i,a)=>n[a]=i))}xo(n,r){const s=MB[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=tx();return new Promise(((a,c)=>{const d=new cP;d.setWithCredentials(!0),d.listenOnce(uP.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case cp.NO_ERROR:const m=d.getResponseJson();Pe(Mn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(m)),a(m);break;case cp.TIMEOUT:Pe(Mn,`RPC '${e}' ${i} timed out`),c(new _e(ae.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const y=d.getStatus();if(Pe(Mn,`RPC '${e}' ${i} failed with status:`,y,"response text:",d.getResponseText()),y>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const T=(function(S){const I=S.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(I)>=0?I:ae.UNKNOWN})(b.status);c(new _e(T,b.message))}else c(new _e(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new _e(ae.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Pe(Mn,`RPC '${e}' ${i} completed.`)}}));const f=JSON.stringify(s);Pe(Mn,`RPC '${e}' ${i} sending request:`,s),d.send(n,"POST",f,r,15)}))}Bo(e,n,r){const s=tx(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=fP(),c=hP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=i.join("");Pe(Mn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=a.createWebChannel(m,d);let v=!1,b=!1;const T=new OB({Io:S=>{b?Pe(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(v||(Pe(Mn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),v=!0),Pe(Mn,`RPC '${e}' stream ${s} sending:`,S),y.send(S))},To:()=>y.close()}),C=(S,I,A)=>{S.listen(I,(R=>{try{A(R)}catch(B){setTimeout((()=>{throw B}),0)}}))};return C(y,Od.EventType.OPEN,(()=>{b||(Pe(Mn,`RPC '${e}' stream ${s} transport opened.`),T.yo())})),C(y,Od.EventType.CLOSE,(()=>{b||(b=!0,Pe(Mn,`RPC '${e}' stream ${s} transport closed`),T.So())})),C(y,Od.EventType.ERROR,(S=>{b||(b=!0,ah(Mn,`RPC '${e}' stream ${s} transport errored:`,S),T.So(new _e(ae.UNAVAILABLE,"The operation could not be completed")))})),C(y,Od.EventType.MESSAGE,(S=>{var I;if(!b){const A=S.data[0];bt(!!A);const R=A,B=R.error||((I=R[0])===null||I===void 0?void 0:I.error);if(B){Pe(Mn,`RPC '${e}' stream ${s} received error:`,B);const F=B.status;let U=(function(D){const O=nn[D];if(O!==void 0)return LP(O)})(F),P=B.message;U===void 0&&(U=ae.INTERNAL,P="Unknown error status: "+F+" with message "+B.message),b=!0,T.So(new _e(U,P)),y.close()}else Pe(Mn,`RPC '${e}' stream ${s} received:`,A),T.bo(A)}})),C(c,dP.STAT_EVENT,(S=>{S.stat===l0.PROXY?Pe(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===l0.NOPROXY&&Pe(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function nx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return new G6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,r,s,i,a,c,d){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YP(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.Yo===n&&this.P_(r,s)}),(r=>{e((()=>{const s=new _e(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((s=>{r((()=>this.I_(s)))})),this.stream.onMessage((s=>{r((()=>++this.e_==1?this.E_(s):this.onNext(s)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FB extends QP{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Q6(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Xe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Xe.min():a.readTime?Js(a.readTime):Xe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=y0(this.serializer),n.addTarget=(function(i,a){let c;const d=a.target;if(c=h0(d)?{documents:Z6(i,d)}:{query:eB(i,d)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=BP(i,a.resumeToken);const f=m0(i,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Xe.min())>0){c.readTime=Up(i,a.snapshotVersion.toTimestamp());const f=m0(i,a.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=nB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=y0(this.serializer),n.removeTarget=e,this.a_(n)}}class VB extends QP{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return bt(!!e.streamToken),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=J6(e.writeResults,e.commitTime),r=Js(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=y0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>X6(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Mo(e,p0(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(ae.UNKNOWN,i.toString())}))}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Lo(e,p0(n,r),s,a,c,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ae.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class UB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wi(n),this.D_=!1):Pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((a=>{r.enqueueAndForget((async()=>{Ml(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await(async function(d){const f=Je(d);f.L_.add(4),await Kh(f),f.q_.set("Unknown"),f.L_.delete(4),await Dg(f)})(this))}))})),this.q_=new UB(r,s)}}async function Dg(t){if(Ml(t))for(const e of t.B_)await e(!0)}async function Kh(t){for(const e of t.B_)await e(!1)}function XP(t,e){const n=Je(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xb(n)?vb(n):ku(n).r_()&&yb(n,e))}function gb(t,e){const n=Je(t),r=ku(n);n.N_.delete(e),r.r_()&&JP(n,e),n.N_.size===0&&(r.r_()?r.o_():Ml(n)&&n.q_.set("Unknown"))}function yb(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ku(t).A_(e)}function JP(t,e){t.Q_.xe(e),ku(t).R_(e)}function vb(t){t.Q_=new $6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ku(t).start(),t.q_.v_()}function xb(t){return Ml(t)&&!ku(t).n_()&&t.N_.size>0}function Ml(t){return Je(t).L_.size===0}function ZP(t){t.Q_=void 0}async function $B(t){t.q_.set("Online")}async function qB(t){t.N_.forEach(((e,n)=>{yb(t,e)}))}async function WB(t,e){ZP(t),xb(t)?(t.q_.M_(e),vb(t)):t.q_.set("Unknown")}async function HB(t,e,n){if(t.q_.set("Online"),e instanceof VP&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const c of i.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.N_.delete(c),s.Q_.removeTarget(c))})(t,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zp(t,r)}else if(e instanceof hp?t.Q_.Ke(e):e instanceof FP?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Xe.min()))try{const r=await KP(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const c=i.Q_.rt(a);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=i.N_.get(f);m&&i.N_.set(f,m.withResumeToken(d.resumeToken,a))}})),c.targetMismatches.forEach(((d,f)=>{const m=i.N_.get(d);if(!m)return;i.N_.set(d,m.withResumeToken(Pn.EMPTY_BYTE_STRING,m.snapshotVersion)),JP(i,d);const y=new Qo(m.target,d,f,m.sequenceNumber);yb(i,y)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),await zp(t,r)}}async function zp(t,e,n){if(!qh(e))throw e;t.L_.add(1),await Kh(t),t.q_.set("Offline"),n||(n=()=>KP(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Dg(t)}))}function eA(t,e){return e().catch((n=>zp(t,n,e)))}async function Mg(t){const e=Je(t),n=aa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GB(e);)try{const s=await PB(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,KB(e,s)}catch(s){await zp(e,s)}tA(e)&&nA(e)}function GB(t){return Ml(t)&&t.O_.length<10}function KB(t,e){t.O_.push(e);const n=aa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function tA(t){return Ml(t)&&!aa(t).n_()&&t.O_.length>0}function nA(t){aa(t).start()}async function YB(t){aa(t).p_()}async function QB(t){const e=aa(t);for(const n of t.O_)e.m_(n.mutations)}async function XB(t,e,n){const r=t.O_.shift(),s=ub.from(r,e,n);await eA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Mg(t)}async function JB(t,e){e&&aa(t).V_&&await(async function(r,s){if((function(a){return B6(a)&&a!==ae.ABORTED})(s.code)){const i=r.O_.shift();aa(r).s_(),await eA(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Mg(r)}})(t,e),tA(t)&&nA(t)}async function FC(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Ml(n);n.L_.add(3),await Kh(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dg(n)}async function ZB(t,e){const n=Je(t);e?(n.L_.delete(2),await Dg(n)):e||(n.L_.add(2),await Kh(n),n.q_.set("Unknown"))}function ku(t){return t.K_||(t.K_=(function(n,r,s){const i=Je(n);return i.w_(),new FB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Eo:$B.bind(null,t),Ro:qB.bind(null,t),mo:WB.bind(null,t),d_:HB.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),xb(t)?vb(t):t.q_.set("Unknown")):(await t.K_.stop(),ZP(t))}))),t.K_}function aa(t){return t.U_||(t.U_=(function(n,r,s){const i=Je(n);return i.w_(),new VB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:YB.bind(null,t),mo:JB.bind(null,t),f_:QB.bind(null,t),g_:XB.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Mg(t)):(await t.U_.stop(),t.O_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,c=new wb(e,n,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bb(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),qh(t))return new _e(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Me.comparator(n.key,r.key):(n,r)=>Me.comparator(n.key,r.key),this.keyedMap=Ld(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new Uc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.W_=new Bt(Me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class du{constructor(e,n,r,s,i,a,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new du(e,n,Uc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class tU{constructor(){this.queries=BC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Je(n),i=s.queries;s.queries=BC(),i.forEach(((a,c)=>{for(const d of c.j_)d.onError(r)}))})(this,new _e(ae.ABORTED,"Firestore shutting down"))}}function BC(){return new Tu((t=>CP(t)),kg)}async function rA(t,e){const n=Je(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new eU,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=bb(a,`Initialization of query '${Nc(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&_b(n)}async function sA(t,e){const n=Je(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nU(t,e){const n=Je(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const c of a.j_)c.X_(s)&&(r=!0);a.z_=s}}r&&_b(n)}function rU(t,e,n){const r=Je(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function _b(t){t.Y_.forEach((e=>{e.next()}))}var x0,UC;(UC=x0||(x0={})).ea="default",UC.Cache="cache";class iA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==x0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class sU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=at(),this.mutatedKeys=at(),this.Aa=TP(e),this.Ra=new Uc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new VC,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,y)=>{const v=s.get(m),b=Ng(this.query,y)?y:null,T=!!v&&this.mutatedKeys.has(v.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let S=!1;v&&b?v.data.isEqual(b.data)?T!==C&&(r.track({type:3,doc:b}),S=!0):this.ga(v,b)||(r.track({type:2,doc:b}),S=!0,(d&&this.Aa(b,d)>0||f&&this.Aa(b,f)<0)&&(c=!0)):!v&&b?(r.track({type:0,doc:b}),S=!0):v&&!b&&(r.track({type:1,doc:v}),S=!0,(d||f)&&(c=!0)),S&&(b?(a=a.add(b),i=C?i.add(m):i.delete(m)):(a=a.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{Ra:a,fa:r,ns:c,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((m,y)=>(function(b,T){const C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return C(b)-C(T)})(m.type,y.type)||this.Aa(m.doc,y.doc))),this.pa(r),s=s!=null&&s;const c=n&&!s?this.ya():[],d=this.da.size===0&&this.current&&!s?1:0,f=d!==this.Ea;return this.Ea=d,a.length!==0||f?{snapshot:new du(this.query,e.Ra,i,a,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new VC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=at(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new aA(r))})),this.da.forEach((r=>{e.has(r)||n.push(new oA(r))})),n}ba(e){this.Ta=e.Ts,this.da=at();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return du.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oU{constructor(e){this.key=e,this.va=!1}}class aU{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Tu((c=>CP(c)),kg),this.Ma=new Map,this.xa=new Set,this.Oa=new Bt(Me.comparator),this.Na=new Map,this.La=new fb,this.Ba={},this.ka=new Map,this.qa=uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lU(t,e,n=!0){const r=fA(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await lA(r,e,n,!0),s}async function cU(t,e){const n=fA(t);await lA(n,e,!0,!1)}async function lA(t,e,n,r){const s=await AB(t.localStore,Xs(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await uU(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&XP(t.remoteStore,s),c}async function uU(t,e,n,r,s){t.Ka=(y,v,b)=>(async function(C,S,I,A){let R=S.view.ma(I);R.ns&&(R=await MC(C.localStore,S.query,!1).then((({documents:P})=>S.view.ma(P,R))));const B=A&&A.targetChanges.get(S.targetId),F=A&&A.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(R,C.isPrimaryClient,B,F);return $C(C,S.targetId,U.wa),U.snapshot})(t,y,v,b);const i=await MC(t.localStore,e,!0),a=new sU(e,i.Ts),c=a.ma(i.documents),d=Gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=a.applyChanges(c,t.isPrimaryClient,d);$C(t,n,f.wa);const m=new iU(e,n,a);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function dU(t,e,n){const r=Je(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter((a=>!kg(a,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await v0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gb(r.remoteStore,s.targetId),w0(r,s.targetId)})).catch($h)):(w0(r,s.targetId),await v0(r.localStore,s.targetId,!0))}async function hU(t,e){const n=Je(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gb(n.remoteStore,r.targetId))}async function fU(t,e,n){const r=wU(t);try{const s=await(function(a,c){const d=Je(a),f=mn.now(),m=c.reduce(((b,T)=>b.add(T.key)),at());let y,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=Hi(),C=at();return d.cs.getEntries(b,m).next((S=>{T=S,T.forEach(((I,A)=>{A.isValidDocument()||(C=C.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,T))).next((S=>{y=S;const I=[];for(const A of c){const R=M6(A,y.get(A.key).overlayedDocument);R!=null&&I.push(new pa(A.key,R,yP(R.value.mapValue),Qn.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,I,c)})).next((S=>{v=S;const I=S.applyToLocalDocumentSet(y,C);return d.documentOverlayCache.saveOverlays(b,S.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:NP(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,c,d){let f=a.Ba[a.currentUser.toKey()];f||(f=new Bt(yt)),f=f.insert(c,d),a.Ba[a.currentUser.toKey()]=f})(r,s.batchId,n),await Yh(r,s.changes),await Mg(r.remoteStore)}catch(s){const i=bb(s,"Failed to persist write");n.reject(i)}}async function cA(t,e){const n=Je(t);try{const r=await NB(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Na.get(i);a&&(bt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?bt(a.va):s.removedDocuments.size>0&&(bt(a.va),a.va=!1))})),await Yh(n,r,e)}catch(r){await $h(r)}}function zC(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach(((i,a)=>{const c=a.view.Z_(e);c.snapshot&&s.push(c.snapshot)})),(function(a,c){const d=Je(a);d.onlineState=c;let f=!1;d.queries.forEach(((m,y)=>{for(const v of y.j_)v.Z_(c)&&(f=!0)})),f&&_b(d)})(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mU(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new Bt(Me.comparator);a=a.insert(i,On.newNoDocument(i,Xe.min()));const c=at().add(i),d=new Rg(Xe.min(),new Map,new Bt(yt),a,c);await cA(r,d),r.Oa=r.Oa.remove(i),r.Na.delete(e),Sb(r)}else await v0(r.localStore,e,!1).then((()=>w0(r,e,n))).catch($h)}async function pU(t,e){const n=Je(t),r=e.batch.batchId;try{const s=await kB(n.localStore,e);dA(n,r,null),uA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yh(n,s)}catch(s){await $h(s)}}async function gU(t,e,n){const r=Je(t);try{const s=await(function(a,c){const d=Je(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next((y=>(bt(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>d.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);dA(r,e,n),uA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yh(r,s)}catch(s){await $h(s)}}function uA(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function dA(t,e,n){const r=Je(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function w0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||hA(t,r)}))}function hA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(gb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Sb(t))}function $C(t,e,n){for(const r of n)r instanceof oA?(t.La.addReference(r.key,e),yU(t,r)):r instanceof aA?(Pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hA(t,r.key)):Ke()}function yU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Sb(t))}function Sb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Me(At.fromString(e)),r=t.qa.next();t.Na.set(r,new oU(n)),t.Oa=t.Oa.insert(n,r),XP(t.remoteStore,new Qo(Xs(lb(n.path)),r,"TargetPurposeLimboResolution",nb.oe))}}async function Yh(t,e,n){const r=Je(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((c,d)=>{a.push(r.Ka(d,e,n).then((f=>{var m;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){s.push(f);const y=pb.Wi(d.targetId,f);i.push(y)}})))})),await Promise.all(a),r.Ca.d_(s),await(async function(d,f){const m=Je(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ue.forEach(f,(v=>ue.forEach(v.$i,(b=>m.persistence.referenceDelegate.addReference(y,v.targetId,b))).next((()=>ue.forEach(v.Ui,(b=>m.persistence.referenceDelegate.removeReference(y,v.targetId,b)))))))))}catch(y){if(!qh(y))throw y;Pe("LocalStore","Failed to update sequence numbers: "+y)}for(const y of f){const v=y.targetId;if(!y.fromCache){const b=m.os.get(v),T=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(T);m.os=m.os.insert(v,C)}}})(r.localStore,i))}async function vU(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=await GP(n.localStore,e);n.currentUser=e,(function(i,a){i.ka.forEach((c=>{c.forEach((d=>{d.reject(new _e(ae.CANCELLED,a))}))})),i.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yh(n,r.hs)}}function xU(t,e){const n=Je(t),r=n.Na.get(e);if(r&&r.va)return at().add(r.key);{let s=at();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const c=n.Fa.get(a);s=s.unionWith(c.view.Va)}return s}}function fA(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mU.bind(null,e),e.Ca.d_=nU.bind(null,e.eventManager),e.Ca.$a=rU.bind(null,e.eventManager),e}function wU(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gU.bind(null,e),e}class $p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return TB(this.persistence,new EB,e.initialUser,this.serializer)}Ga(e){return new bB(mb.Zr,this.serializer)}Wa(e){return new jB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$p.provider={build:()=>new $p};class b0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vU.bind(null,this.syncEngine),await ZB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tU})()}createDatastore(e){const n=jg(e.databaseInfo.databaseId),r=(function(i){return new LB(i)})(e.databaseInfo);return(function(i,a,c,d){return new BB(i,a,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,c){return new zB(r,s,i,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>zC(this.syncEngine,n,0)),(function(){return LC.D()?new LC:new DB})())}createSyncEngine(e,n){return(function(s,i,a,c,d,f,m){const y=new aU(s,i,a,c,d,f);return m&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=Je(s);Pe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Kh(i),i.k_.shutdown(),i.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}b0.provider={build:()=>new b0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=hr.UNAUTHENTICATED,this.clientId=mP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{Pe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Pe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rx(t,e){t.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await GP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _U(t);Pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>FC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>FC(e.remoteStore,s))),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await rx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;ah("Error using user provided cache. Falling back to memory cache: "+n),await rx(t,new $p)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),await rx(t,new $p);return t._offlineComponents}async function pA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),await qC(t,t._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),await qC(t,new b0))),t._onlineComponents}function SU(t){return pA(t).then((e=>e.syncEngine))}async function gA(t){const e=await pA(t),n=e.eventManager;return n.onListen=lU.bind(null,e.syncEngine),n.onUnlisten=dU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hU.bind(null,e.syncEngine),n}function EU(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,d,f){const m=new mA({next:v=>{m.Za(),a.enqueueAndForget((()=>sA(i,y)));const b=v.docs.has(c);!b&&v.fromCache?f.reject(new _e(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?f.reject(new _e(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new iA(lb(c.path),m,{includeMetadataChanges:!0,_a:!0});return rA(i,y)})(await gA(t),t.asyncQueue,e,n,r))),r.promise}function CU(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,d,f){const m=new mA({next:v=>{m.Za(),a.enqueueAndForget((()=>sA(i,y))),v.fromCache&&d.source==="server"?f.reject(new _e(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),y=new iA(c,m,{includeMetadataChanges:!0,_a:!0});return rA(i,y)})(await gA(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e,n){if(!n)throw new _e(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TU(t,e,n,r){if(e===!0&&r===!0)throw new _e(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HC(t){if(!Me.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GC(t){if(Me.isDocumentKey(t))throw new _e(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function _s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Og(t);throw new _e(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eb{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KC(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new q5;switch(r.type){case"firstParty":return new G5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=WC.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),WC.delete(n),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=class xA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xA(this.firestore,e,this._query)}};class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class ea extends Qh{constructor(e,n,r){super(e,n,lb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Me(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=Jt(t),vA("collection","path",e),t instanceof Eb){const r=At.fromString(e,...n);return GC(r),new ea(t,null,r)}{if(!(t instanceof Xn||t instanceof ea))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return GC(r),new ea(t.firestore,null,r)}}function Xt(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=mP.newId()),vA("doc","path",e),t instanceof Eb){const r=At.fromString(e,...n);return HC(r),new Xn(t,null,new Me(r))}{if(!(t instanceof Xn||t instanceof ea))throw new _e(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return HC(r),new Xn(t.firestore,t instanceof ea?t.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YP(this,"async_queue_retry"),this.Vu=()=>{const r=nx();r&&Pe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=nx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=nx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Li;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qh(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const s=(function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c})(r);throw Wi("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=wb.createAndSchedule(this,e,n,r,(i=>this.yu(i)));return this.Tu.push(s),s}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ga extends Eb{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new YC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YC(e),this._firestoreClient=void 0,await e}}}function kU(t,e,n){n||(n="(default)");const r=Ww(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),i=r.getOptions(n);if(nh(i,e))return s;throw new _e(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new _e(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Lg(t){if(t._terminated)throw new _e(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NU(t),t._firestoreClient}function NU(t){var e,n,r;const s=t._freezeSettings(),i=(function(c,d,f,m){return new o6(c,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,yA(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new bU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hu(Pn.fromBase64String(e))}catch(n){throw new _e(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hu(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yt(this._lat,e._lat)||yt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=/^__.*__$/;class PU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hh(e,this.data,n,this.fieldTransforms)}}class wA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class kb{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return qp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bA(this.Cu)&&IU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jg(e)}Qu(e,n,r,s=!1){return new kb({Cu:e,methodName:n,qu:r,path:Nn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(t){const e=t._freezeSettings(),n=jg(t._databaseId);return new AU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nb(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Pb("Data must be an object, but it was:",a,r);const c=EA(r,a);let d,f;if(i.merge)d=new Pr(a.fieldMask),f=a.fieldTransforms;else if(i.mergeFields){const m=[];for(const y of i.mergeFields){const v=_0(e,y,n);if(!a.contains(v))throw new _e(ae.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);TA(m,v)||m.push(v)}d=new Pr(m),f=a.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=a.fieldTransforms;return new PU(new fr(c),d,f)}class Vg extends Fg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vg}}class Ib extends Fg{_toFieldTransform(e){return new A6(e.path,new hh)}isEqual(e){return e instanceof Ib}}function _A(t,e,n,r){const s=t.Qu(1,e,n);Pb("Data must be an object, but it was:",s,r);const i=[],a=fr.empty();Dl(r,((d,f)=>{const m=Ab(e,d,n);f=Jt(f);const y=s.Nu(m);if(f instanceof Vg)i.push(m);else{const v=Zh(f,y);v!=null&&(i.push(m),a.set(m,v))}}));const c=new Pr(i);return new wA(a,c,s.fieldTransforms)}function SA(t,e,n,r,s,i){const a=t.Qu(1,e,n),c=[_0(e,r,n)],d=[s];if(i.length%2!=0)throw new _e(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)c.push(_0(e,i[v])),d.push(i[v+1]);const f=[],m=fr.empty();for(let v=c.length-1;v>=0;--v)if(!TA(f,c[v])){const b=c[v];let T=d[v];T=Jt(T);const C=a.Nu(b);if(T instanceof Vg)f.push(b);else{const S=Zh(T,C);S!=null&&(f.push(b),m.set(b,S))}}const y=new Pr(f);return new wA(m,y,a.fieldTransforms)}function RU(t,e,n,r=!1){return Zh(n,t.Qu(r?4:3,e))}function Zh(t,e){if(CA(t=Jt(t)))return Pb("Unsupported field value:",e,t),EA(t,e);if(t instanceof Fg)return(function(r,s){if(!bA(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const c of r){let d=Zh(c,s.Lu(a));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=mn.fromDate(r);return{timestampValue:Up(s.serializer,i)}}if(r instanceof mn){const i=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Up(s.serializer,i)}}if(r instanceof Cb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hu)return{bytesValue:BP(s.serializer,r._byteString)};if(r instanceof Xn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tb)return(function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return cb(c.serializer,d)}))}}}}}})(r,s);throw s.Bu(`Unsupported field value: ${Og(r)}`)})(t,e)}function EA(t,e){const n={};return pP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dl(t,((r,s)=>{const i=Zh(s,e.Mu(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function CA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof Cb||t instanceof hu||t instanceof Xn||t instanceof Fg||t instanceof Tb)}function Pb(t,e,n){if(!CA(n)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(n)){const r=Og(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _0(t,e,n){if((e=Jt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Ab(t,e);throw qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const jU=new RegExp("[~\\*/\\[\\]]");function Ab(t,e,n){if(e.search(jU)>=0)throw qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qp(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||a)&&(d+=" (found",i&&(d+=` in field ${r}`),a&&(d+=` in document ${s}`),d+=")"),new _e(ae.INVALID_ARGUMENT,c+t+d)}function TA(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DU extends kA{data(){return super.data()}}function Rb(t,e){return typeof e=="string"?Ab(t,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jb{}class NA extends jb{}function Wp(t,e,...n){let r=[];e instanceof jb&&r.push(e),r=r.concat(n),(function(i){const a=i.filter((d=>d instanceof Db)).length,c=i.filter((d=>d instanceof Bg)).length;if(a>1||a>0&&c>0)throw new _e(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Bg extends NA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bg(e,n,r)}_apply(e){const n=this._parse(e);return IA(e._query,n),new Qh(e.firestore,e.converter,f0(e._query,n))}_parse(e){const n=Jh(e.firestore);return(function(i,a,c,d,f,m,y){let v;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){JC(y,m);const b=[];for(const T of y)b.push(XC(d,i,T));v={arrayValue:{values:b}}}else v=XC(d,i,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||JC(y,m),v=RU(c,a,y,m==="in"||m==="not-in");return on.create(f,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zc(t,e,n){const r=e,s=Rb("where",t);return Bg._create(s,r,n)}class Db extends jb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Db(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:bs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let a=s;const c=i.getFlattenedFilters();for(const d of c)IA(a,d),a=f0(a,d)})(e._query,n),new Qh(e.firestore,e.converter,f0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mb extends NA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Mb(e,n,r)}_apply(e){return new Qh(e.firestore,e.converter,Vp(e._query,this._limit,this._limitType))}}function QC(t){return Mb._create("limit",t,"F")}function XC(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new _e(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EP(e)&&n.indexOf("/")!==-1)throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!Me.isDocumentKey(r))throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vC(t,new Me(r))}if(n instanceof Xn)return vC(t,n._key);throw new _e(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Og(n)}.`)}function JC(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IA(t,e){const n=(function(s,i){for(const a of s)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OU{convertValue(e,n="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Dl(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map((a=>Qt(a.doubleValue)));return new Tb(i)}convertGeoPoint(e){return new Cb(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const n=oa(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);bt(HP(r));const s=new uh(r.get(1),r.get(3)),i=new Me(r.popFirst(5));return s.isEqual(n)||Wi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PA extends kA{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fp extends PA{data(e={}){return super.data(e)}}class LU{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new fp(this._firestore,this._userDataWriter,r.key,r,new Vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((c=>{const d=new fp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Vd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const d=new fp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Vd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,m=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:FU(c.type),doc:d,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){t=_s(t,Xn);const e=_s(t.firestore,ga);return EU(Lg(e),t._key).then((n=>zU(e,t,n)))}class AA extends OU{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function ph(t){t=_s(t,Qh);const e=_s(t.firestore,ga),n=Lg(e),r=new AA(e);return MU(t._query),CU(n,t._query).then((s=>new LU(e,r,t,s)))}function VU(t,e,n){t=_s(t,Xn);const r=_s(t.firestore,ga),s=Ob(t.converter,e,n);return ef(r,[Nb(Jh(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qn.none())])}function Hp(t,e,n,...r){t=_s(t,Xn);const s=_s(t.firestore,ga),i=Jh(s);let a;return a=typeof(e=Jt(e))=="string"||e instanceof Xh?SA(i,"updateDoc",t._key,e,n,r):_A(i,"updateDoc",t._key,e),ef(s,[a.toMutation(t._key,Qn.exists(!0))])}function BU(t){return ef(_s(t.firestore,ga),[new Ag(t._key,Qn.none())])}function UU(t,e){const n=_s(t.firestore,ga),r=Xt(t),s=Ob(t.converter,e);return ef(n,[Nb(Jh(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function ef(t,e){return(function(r,s){const i=new Li;return r.asyncQueue.enqueueAndForget((async()=>fU(await SU(r),s,i))),i.promise})(Lg(t),e)}function zU(t,e,n){const r=n.docs.get(e._key),s=new AA(t);return new PA(t,s,e._key,r,new Vd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jh(e)}set(e,n,r){this._verifyNotCommitted();const s=sx(e,this._firestore),i=Ob(s.converter,n,r),a=Nb(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,Qn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=sx(e,this._firestore);let a;return a=typeof(n=Jt(n))=="string"||n instanceof Xh?SA(this._dataReader,"WriteBatch.update",i._key,n,r,s):_A(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,Qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=sx(e,this._firestore);return this._mutations=this._mutations.concat(new Ag(n._key,Qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sx(t,e){if((t=Jt(t)).firestore!==e)throw new _e(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gp(){return new Ib("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){return Lg(t=_s(t,ga)),new $U(t,(e=>ef(t,e)))}(function(e,n=!0){(function(s){Cu=s})(Su),ou(new vl("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new ga(new W5(r.getProvider("auth-internal")),new Y5(r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new _e(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uh(f.options.projectId,m)})(a,s),a);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),Zo(fC,"4.7.3",e),Zo(fC,"4.7.3","esm2017")})();const qU={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},RA=Hw(qU),Ws=aP(RA);NV(Ws,JI).catch(t=>{console.error("Auth persistence error:",t)});const st=kU(RA,{experimentalForceLongPolling:!0,useFetchStreams:!1});function WU(t,e=6e3){return Promise.race([t,new Promise((n,r)=>setTimeout(()=>r(new Error(`Firestore read timed out after ${e}ms`)),e))])}async function jA(t){if(!t)return null;try{const e=Xt(st,"teachers",t),n=await WU(Fi(e),6e3);return n.exists()?n.data():null}catch(e){return console.warn("getTeacherProfile failed:",(e==null?void 0:e.message)||e),null}}const HU="benhpritchard2024@gmail.com";function ZC({allow:t=[],children:e}){const[n,r]=w.useState({status:"loading",reason:""}),s=w.useRef(!1);return w.useEffect(()=>{s.current=!1;const i=d=>{s.current||(s.current=!0,r(d))},a=YI(Ws,async d=>{if(!d){i({status:"noauth",reason:""});return}const f=localStorage.getItem("finnquest_teacher")||localStorage.getItem("finquest_teacher"),m=localStorage.getItem("finnquest_role")||"teacher";if(t.includes(m)){i({status:"ok",reason:"cached"});return}if((d.email||"").toLowerCase()===HU.toLowerCase()){if(localStorage.setItem("finnquest_role","main_admin"),f)try{const v=JSON.parse(f);v.role="main_admin",localStorage.setItem("finnquest_teacher",JSON.stringify(v)),localStorage.setItem("finquest_teacher",JSON.stringify(v))}catch{}i({status:t.includes("main_admin")?"ok":"forbidden",reason:"main-admin-email"});return}try{const v=await jA(d.uid),b=(v==null?void 0:v.role)||"teacher";localStorage.setItem("finnquest_role",b),t.includes(b)?i({status:"ok",reason:"firestore"}):i({status:"forbidden",reason:"role"})}catch{const v=t.length===1&&t[0]==="main_admin";i(v?{status:"forbidden",reason:"firestore-blocked"}:{status:"ok",reason:"firestore-blocked-fallback"})}}),c=setTimeout(()=>{if(!s.current){const d=t.length===1&&t[0]==="main_admin";i({status:d?"forbidden":"ok",reason:"timeout-fallback"})}},3500);return()=>{clearTimeout(c),a()}},[t]),n.status==="loading"?u.jsxs("div",{className:"pt-32 text-center",children:[u.jsx("div",{className:"font-semibold",children:"Loading"}),u.jsx("div",{className:"text-xs opacity-70 mt-2",children:n.reason})]}):n.status==="noauth"?u.jsx(ME,{to:"/login",replace:!0}):n.status==="forbidden"?u.jsx(ME,{to:"/",replace:!0}):e}function GU({children:t}){return u.jsx("div",{children:t})}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},d)=>w.createElement("svg",{ref:d,...YU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DA("lucide",s),...c},[...a.map(([f,m])=>w.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(QU,{ref:i,iconNode:e,className:DA(`lucide-${KU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],JU=De("Accessibility",XU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vs=De("ArrowLeft",ZU);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],E0=De("ArrowRight",e8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kp=De("BookOpen",t8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],MA=De("Brain",n8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],s8=De("Briefcase",r8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],o8=De("Building2",i8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mp=De("Calendar",a8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],OA=De("Check",l8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lb=De("ChevronDown",c8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LA=De("ChevronLeft",u8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],FA=De("ChevronRight",d8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],f8=De("ChevronUp",h8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p8=De("CircleCheckBig",m8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ix=De("CircleCheck",g8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],v8=De("ClipboardList",y8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eT=De("CreditCard",x8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],b8=De("Facebook",w8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],S8=De("FileText",_8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ug=De("Gamepad2",E8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],VA=De("Globe",C8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Yp=De("GraduationCap",T8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],BA=De("House",k8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],I8=De("Instagram",N8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A8=De("LayoutDashboard",P8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],UA=De("Lightbulb",R8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],tT=De("ListChecks",j8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],M8=De("LockOpen",D8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tf=De("Lock",O8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],gh=De("LogOut",L8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],V8=De("Mail",F8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],U8=De("Menu",B8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],$8=De("Monitor",z8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],pp=De("Pencil",q8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],H8=De("Phone",W8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fb=De("Plus",G8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]],Y8=De("Presentation",K8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zA=De("Printer",Q8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],J8=De("Quote",X8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],e9=De("RotateCcw",Z8);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nd=De("Save",t9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Vb=De("School",n9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],s9=De("Search",r9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],o9=De("Send",i9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],l9=De("Sparkles",a9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u9=De("Star",c9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qp=De("Target",d9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$A=De("Trash2",h9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],C0=De("TrendingUp",f9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],p9=De("TriangleAlert",m9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],y9=De("UserCheck",g9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],x9=De("UserPlus",v9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ac=De("User",w9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fu=De("Users",b9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$c=De("X",_9);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],E9=De("Zap",S9);function ot(t){return"/"+t.toLowerCase().replace(/ /g,"-")}function nT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nu(...t){return e=>{let n=!1;const r=t.map(s=>{const i=nT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():nT(t[s],null)}}}}function Ut(...t){return w.useCallback(Nu(...t),t)}var C9=Symbol.for("react.lazy"),Xp=Mw[" use ".trim().toString()];function T9(t){return typeof t=="object"&&t!==null&&"then"in t}function qA(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===C9&&"_payload"in t&&T9(t._payload)}function WA(t){const e=N9(t),n=w.forwardRef((r,s)=>{let{children:i,...a}=r;qA(i)&&typeof Xp=="function"&&(i=Xp(i._payload));const c=w.Children.toArray(i),d=c.find(P9);if(d){const f=d.props.children,m=c.map(y=>y===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:y);return u.jsx(e,{...a,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var k9=WA("Slot");function N9(t){const e=w.forwardRef((n,r)=>{let{children:s,...i}=n;if(qA(s)&&typeof Xp=="function"&&(s=Xp(s._payload)),w.isValidElement(s)){const a=R9(s),c=A9(i,s.props);return s.type!==w.Fragment&&(c.ref=r?Nu(r,a):a),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var I9=Symbol("radix.slottable");function P9(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===I9}function A9(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function R9(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function HA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=HA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function GA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=HA(t))&&(r&&(r+=" "),r+=e);return r}const rT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sT=GA,zg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(f=>{const m=n==null?void 0:n[f],y=i==null?void 0:i[f];if(m===null)return null;const v=rT(m)||rT(y);return s[f][v]}),c=n&&Object.entries(n).reduce((f,m)=>{let[y,v]=m;return v===void 0||(f[y]=v),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,m)=>{let{class:y,className:v,...b}=m;return Object.entries(b).every(T=>{let[C,S]=T;return Array.isArray(S)?S.includes({...i,...c}[C]):{...i,...c}[C]===S})?[...f,y,v]:f},[]);return sT(t,a,d,n==null?void 0:n.class,n==null?void 0:n.className)},j9=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},D9=(t,e)=>({classGroupId:t,validator:e}),KA=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Jp="-",iT=[],M9="arbitrary..",O9=t=>{const e=F9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return L9(a);const c=a.split(Jp),d=c[0]===""&&c.length>1?1:0;return YA(c,d,e)},getConflictingClassGroupIds:(a,c)=>{if(c){const d=r[a],f=n[a];return d?f?j9(f,d):d:f||iT}return n[a]||iT}}},YA=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const f=YA(t,e+1,i);if(f)return f}const a=n.validators;if(a===null)return;const c=e===0?t.join(Jp):t.slice(e).join(Jp),d=a.length;for(let f=0;f<d;f++){const m=a[f];if(m.validator(c))return m.classGroupId}},L9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?M9+r:void 0})(),F9=t=>{const{theme:e,classGroups:n}=t;return V9(n,e)},V9=(t,e)=>{const n=KA();for(const r in t){const s=t[r];Bb(s,n,r,e)}return n},Bb=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const a=t[i];B9(a,e,n,r)}},B9=(t,e,n,r)=>{if(typeof t=="string"){U9(t,e,n);return}if(typeof t=="function"){z9(t,e,n,r);return}$9(t,e,n,r)},U9=(t,e,n)=>{const r=t===""?e:QA(e,t);r.classGroupId=n},z9=(t,e,n,r)=>{if(q9(t)){Bb(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(D9(n,t))},$9=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let a=0;a<i;a++){const[c,d]=s[a];Bb(d,QA(e,c),n,r)}},QA=(t,e)=>{let n=t;const r=e.split(Jp),s=r.length;for(let i=0;i<s;i++){const a=r[i];let c=n.nextPart.get(a);c||(c=KA(),n.nextPart.set(a,c)),n=c}return n},q9=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,W9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,a)=>{n[i]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let a=n[i];if(a!==void 0)return a;if((a=r[i])!==void 0)return s(i,a),a},set(i,a){i in n?n[i]=a:s(i,a)}}},T0="!",oT=":",H9=[],aT=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),G9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,c=0,d=0,f;const m=s.length;for(let C=0;C<m;C++){const S=s[C];if(a===0&&c===0){if(S===oT){i.push(s.slice(d,C)),d=C+1;continue}if(S==="/"){f=C;continue}}S==="["?a++:S==="]"?a--:S==="("?c++:S===")"&&c--}const y=i.length===0?s:s.slice(d);let v=y,b=!1;y.endsWith(T0)?(v=y.slice(0,-1),b=!0):y.startsWith(T0)&&(v=y.slice(1),b=!0);const T=f&&f>d?f-d:void 0;return aT(i,b,v,T)};if(e){const s=e+oT,i=r;r=a=>a.startsWith(s)?i(a.slice(s.length)):aT(H9,!1,a,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},K9=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const a=n[i],c=a[0]==="[",d=e.has(a);c||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(a)):s.push(a)}return s.length>0&&(s.sort(),r.push(...s)),r}},Y9=t=>({cache:W9(t.cacheSize),parseClassName:G9(t),sortModifiers:K9(t),...O9(t)}),Q9=/\s+/,X9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],c=t.trim().split(Q9);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:y,modifiers:v,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:C}=n(m);if(y){d=m+(d.length>0?" "+d:d);continue}let S=!!C,I=r(S?T.substring(0,C):T);if(!I){if(!S){d=m+(d.length>0?" "+d:d);continue}if(I=r(T),!I){d=m+(d.length>0?" "+d:d);continue}S=!1}const A=v.length===0?"":v.length===1?v[0]:i(v).join(":"),R=b?A+T0:A,B=R+I;if(a.indexOf(B)>-1)continue;a.push(B);const F=s(I,S);for(let U=0;U<F.length;++U){const P=F[U];a.push(R+P)}d=m+(d.length>0?" "+d:d)}return d},J9=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=XA(n))&&(s&&(s+=" "),s+=r);return s},XA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=XA(t[r]))&&(n&&(n+=" "),n+=e);return n},Z9=(t,...e)=>{let n,r,s,i;const a=d=>{const f=e.reduce((m,y)=>y(m),t());return n=Y9(f),r=n.cache.get,s=n.cache.set,i=c,c(d)},c=d=>{const f=r(d);if(f)return f;const m=X9(d,n);return s(d,m),m};return i=a,(...d)=>i(J9(...d))},ez=[],dn=t=>{const e=n=>n[t]||ez;return e.isThemeGetter=!0,e},JA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ZA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tz=/^\d+\/\d+$/,nz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sc=t=>tz.test(t),nt=t=>!!t&&!Number.isNaN(Number(t)),Ro=t=>!!t&&Number.isInteger(Number(t)),ox=t=>t.endsWith("%")&&nt(t.slice(0,-1)),Ei=t=>nz.test(t),az=()=>!0,lz=t=>rz.test(t)&&!sz.test(t),eR=()=>!1,cz=t=>iz.test(t),uz=t=>oz.test(t),dz=t=>!Te(t)&&!ke(t),hz=t=>Iu(t,rR,eR),Te=t=>JA.test(t),Wa=t=>Iu(t,sR,lz),ax=t=>Iu(t,yz,nt),lT=t=>Iu(t,tR,eR),fz=t=>Iu(t,nR,uz),zm=t=>Iu(t,iR,cz),ke=t=>ZA.test(t),Id=t=>Pu(t,sR),mz=t=>Pu(t,vz),cT=t=>Pu(t,tR),pz=t=>Pu(t,rR),gz=t=>Pu(t,nR),$m=t=>Pu(t,iR,!0),Iu=(t,e,n)=>{const r=JA.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Pu=(t,e,n=!1)=>{const r=ZA.exec(t);return r?r[1]?e(r[1]):n:!1},tR=t=>t==="position"||t==="percentage",nR=t=>t==="image"||t==="url",rR=t=>t==="length"||t==="size"||t==="bg-size",sR=t=>t==="length",yz=t=>t==="number",vz=t=>t==="family-name",iR=t=>t==="shadow",xz=()=>{const t=dn("color"),e=dn("font"),n=dn("text"),r=dn("font-weight"),s=dn("tracking"),i=dn("leading"),a=dn("breakpoint"),c=dn("container"),d=dn("spacing"),f=dn("radius"),m=dn("shadow"),y=dn("inset-shadow"),v=dn("text-shadow"),b=dn("drop-shadow"),T=dn("blur"),C=dn("perspective"),S=dn("aspect"),I=dn("ease"),A=dn("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...B(),ke,Te],U=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],k=()=>[ke,Te,d],D=()=>[Sc,"full","auto",...k()],O=()=>[Ro,"none","subgrid",ke,Te],L=()=>["auto",{span:["full",Ro,ke,Te]},Ro,ke,Te],z=()=>[Ro,"auto",ke,Te],M=()=>["auto","min","max","fr",ke,Te],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...k()],Z=()=>[Sc,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],$=()=>[t,ke,Te],X=()=>[...B(),cT,lT,{position:[ke,Te]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",pz,hz,{size:[ke,Te]}],re=()=>[ox,Id,Wa],me=()=>["","none","full",f,ke,Te],we=()=>["",nt,Id,Wa],Re=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[nt,ox,cT,lT],Ne=()=>["","none",T,ke,Te],Ve=()=>["none",nt,ke,Te],Oe=()=>["none",nt,ke,Te],Ye=()=>[nt,ke,Te],Qe=()=>[Sc,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ei],breakpoint:[Ei],color:[az],container:[Ei],"drop-shadow":[Ei],ease:["in","out","in-out"],font:[dz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ei],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ei],shadow:[Ei],spacing:["px",nt],text:[Ei],"text-shadow":[Ei],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Sc,Te,ke,S]}],container:["container"],columns:[{columns:[nt,Te,ke,c]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Ro,"auto",ke,Te]}],basis:[{basis:[Sc,"full","auto",c,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,Sc,"auto","initial","none",Te]}],grow:[{grow:["",nt,ke,Te]}],shrink:[{shrink:["",nt,ke,Te]}],order:[{order:[Ro,"first","last","none",ke,Te]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":M()}],"auto-rows":[{"auto-rows":M()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[c,"screen",...Z()]}],"min-w":[{"min-w":[c,"screen","none",...Z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Id,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ke,ax]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ox,Te]}],"font-family":[{font:[mz,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ke,Te]}],"line-clamp":[{"line-clamp":[nt,"none",ke,ax]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",ke,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",ke,Wa]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[nt,"auto",ke,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ro,ke,Te],radial:["",ke,Te],conic:[Ro,ke,Te]},gz,fz]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,ke,Te]}],"outline-w":[{outline:["",nt,Id,Wa]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",m,$m,zm]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",y,$m,zm]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[nt,Wa]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,$m,zm]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[nt,ke,Te]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ke,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Te]}],filter:[{filter:["","none",ke,Te]}],blur:[{blur:Ne()}],brightness:[{brightness:[nt,ke,Te]}],contrast:[{contrast:[nt,ke,Te]}],"drop-shadow":[{"drop-shadow":["","none",b,$m,zm]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",nt,ke,Te]}],"hue-rotate":[{"hue-rotate":[nt,ke,Te]}],invert:[{invert:["",nt,ke,Te]}],saturate:[{saturate:[nt,ke,Te]}],sepia:[{sepia:["",nt,ke,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Te]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[nt,ke,Te]}],"backdrop-contrast":[{"backdrop-contrast":[nt,ke,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,ke,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,ke,Te]}],"backdrop-invert":[{"backdrop-invert":["",nt,ke,Te]}],"backdrop-opacity":[{"backdrop-opacity":[nt,ke,Te]}],"backdrop-saturate":[{"backdrop-saturate":[nt,ke,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,ke,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",ke,Te]}],ease:[{ease:["linear","initial",I,ke,Te]}],delay:[{delay:[nt,ke,Te]}],animate:[{animate:["none",A,ke,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ke,Te]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:Ve()}],"rotate-x":[{"rotate-x":Ve()}],"rotate-y":[{"rotate-y":Ve()}],"rotate-z":[{"rotate-z":Ve()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[ke,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Te]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[nt,Id,Wa,ax]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wz=Z9(xz);function it(...t){return wz(GA(t))}const k0=zg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ge=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?k9:"button";return u.jsx(a,{className:it(k0({variant:e,size:n,className:t})),ref:i,...s})});Ge.displayName="Button";function xr(){const t=wg(),[e,n]=w.useState(!1),[r,s]=w.useState(!1),[i,a]=w.useState(null);w.useEffect(()=>{const f=()=>n(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),w.useEffect(()=>{const f=YI(Ws,m=>{a(m?{email:m.email,uid:m.uid}:null)});return()=>f()},[]);const c=async()=>{try{await o0(Ws)}finally{localStorage.removeItem("finnquest_teacher"),localStorage.removeItem("finnquest_student"),localStorage.removeItem("finquest_teacher"),localStorage.removeItem("finquest_student"),a(null),t(ot("Home"))}},d=[{name:"Home",page:"Home"},{name:"About",page:"About"},{name:"Games",page:"ExploreGames"},{name:"Schools",page:"ViewResources"},{name:"CPD",page:"CPD"},{name:"Contact",page:"Contact"}];return u.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${e?"shadow-lg":"shadow-md"}`,style:{backgroundColor:"#3448C5"},children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-1",children:u.jsx("div",{className:"bg-white rounded-full p-2",children:u.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/8a8ccc245_Gemini_Generated_Image_3z9ysf3z9ysf3z9y.png",alt:"FinnQuest Logo",className:"h-8 md:h-10 w-auto rounded-full"})})}),u.jsx("span",{className:"text-white font-bold text-xl md:text-2xl",children:"FinnQuest"})]}),u.jsx("nav",{className:"hidden md:flex items-center gap-8",children:d.map(f=>u.jsx(Yt,{to:ot(f.page),className:"text-white font-medium hover:text-[#35D0BA] transition-colors duration-200 text-sm lg:text-base",children:f.name},f.name))}),u.jsx("div",{className:"hidden md:flex items-center gap-3",children:i?u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"text-white text-sm font-medium px-3 py-1 bg-white/10 rounded-full",children:[u.jsx(Ac,{className:"w-4 h-4 inline mr-1"}),i.email]}),u.jsx(Yt,{to:ot("AdminDashboard"),children:u.jsxs(Ge,{variant:"outline",size:"sm",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 hover:text-white gap-2",children:[u.jsx(Ac,{className:"w-4 h-4"})," Admin Page"]})}),u.jsxs(Ge,{variant:"outline",size:"sm",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 hover:text-white gap-2",onClick:c,children:[u.jsx(gh,{className:"w-4 h-4"})," Logout"]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Yt,{to:ot("AdminLogin"),children:u.jsxs(Ge,{variant:"outline",size:"sm",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 hover:text-white gap-2",children:[u.jsx(Ac,{className:"w-4 h-4"})," Admin"]})}),u.jsx(Yt,{to:ot("StudentLogin"),children:u.jsxs(Ge,{size:"sm",className:"bg-[#35D0BA] hover:bg-[#2bb8a4] text-white gap-2",children:[u.jsx(Yp,{className:"w-4 h-4"})," Student"]})})]})}),u.jsx("button",{className:"md:hidden text-white p-2",onClick:()=>s(!r),children:r?u.jsx($c,{className:"w-6 h-6"}):u.jsx(U8,{className:"w-6 h-6"})})]}),r&&u.jsxs("nav",{className:"md:hidden pb-4 space-y-2",children:[d.map(f=>u.jsx(Yt,{to:ot(f.page),className:"block text-white font-medium hover:text-[#35D0BA] transition-colors duration-200 py-2",onClick:()=>s(!1),children:f.name},f.name)),u.jsx("div",{className:"pt-4 border-t border-white/20 space-y-2",children:i?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center gap-2 text-white font-medium py-2",children:[u.jsx(Ac,{className:"w-4 h-4"})," ",i.email]}),u.jsxs(Yt,{to:ot("AdminDashboard"),className:"flex items-center gap-2 text-white font-medium hover:text-[#35D0BA] transition-colors duration-200 py-2",onClick:()=>s(!1),children:[u.jsx(A8,{className:"w-4 h-4"})," Admin Page"]}),u.jsxs("button",{onClick:async()=>{await c(),s(!1)},className:"flex items-center gap-2 text-white font-medium hover:text-[#35D0BA] transition-colors duration-200 py-2",children:[u.jsx(gh,{className:"w-4 h-4"})," Logout"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs(Yt,{to:ot("AdminLogin"),className:"flex items-center gap-2 text-white font-medium hover:text-[#35D0BA] transition-colors duration-200 py-2",onClick:()=>s(!1),children:[u.jsx(Ac,{className:"w-4 h-4"})," Admin Login"]}),u.jsxs(Yt,{to:ot("StudentLogin"),className:"flex items-center gap-2 text-white font-medium hover:text-[#35D0BA] transition-colors duration-200 py-2",onClick:()=>s(!1),children:[u.jsx(Yp,{className:"w-4 h-4"})," Student Login"]})]})})]})]})})}function bz(){return u.jsxs("section",{className:"relative pt-32 pb-20 md:pt-40 md:pb-32 overflow-hidden",style:{background:"linear-gradient(135deg, #3448C5 0%, #35D0BA 100%)"},children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-10",children:[u.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 rounded-full bg-white"}),u.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 rounded-full bg-white"}),u.jsx("div",{className:"absolute top-1/2 right-1/3 w-24 h-24 rounded-full bg-white"})]}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-8",children:u.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-6 shadow-xl",children:u.jsx("div",{className:"bg-white rounded-full p-6",children:u.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/8a8ccc245_Gemini_Generated_Image_3z9ysf3z9ysf3z9y.png",alt:"FinnQuest Logo",className:"w-24 h-24 md:w-32 md:h-32 rounded-full"})})})}),u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6 leading-tight",children:"From Classroom to Boardroom"}),u.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/95 mb-12 max-w-4xl mx-auto font-medium",children:"Making financial literacy the most engaging lesson of the week."}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-16",children:[u.jsx(Yt,{to:ot("ExploreGames"),children:u.jsx(Ge,{size:"lg",className:"rounded-full px-8 py-6 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",style:{backgroundColor:"#FFB68B",color:"#1a1a1a"},children:"Explore Games"})}),u.jsx(Yt,{to:ot("ViewResources"),children:u.jsx(Ge,{size:"lg",className:"rounded-full px-8 py-6 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",style:{backgroundColor:"#FFB68B",color:"#1a1a1a"},children:"View Resources"})}),u.jsx(Ge,{size:"lg",className:"rounded-full px-8 py-6 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",style:{backgroundColor:"#FFB68B",color:"#1a1a1a"},children:"About FinnQuest"})]}),u.jsx("div",{className:"relative max-w-5xl mx-auto",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:[u.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white rounded-3xl p-8 shadow-xl transform hover:scale-105 transition-all",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#3448C5"},children:u.jsx(fu,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),u.jsx("span",{className:"font-bold text-lg",style:{color:"#3448C5"},children:"Students"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white rounded-3xl p-8 shadow-xl transform hover:scale-105 transition-all",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#3448C5"},children:u.jsx(C0,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),u.jsx("span",{className:"font-bold text-lg",style:{color:"#3448C5"},children:"Growth"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white rounded-3xl p-8 shadow-xl transform hover:scale-105 transition-all",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#3448C5"},children:u.jsx(l9,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),u.jsx("span",{className:"font-bold text-lg",style:{color:"#3448C5"},children:"Engagement"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-4 bg-white rounded-3xl p-8 shadow-xl transform hover:scale-105 transition-all",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#3448C5"},children:u.jsx(E9,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),u.jsx("span",{className:"font-bold text-lg",style:{color:"#3448C5"},children:"Learning"})]})]})})]})})]})}const Be=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Be.displayName="Card";const Vi=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("flex flex-col space-y-1.5 p-6",t),...e}));Vi.displayName="CardHeader";const Bi=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("font-semibold leading-none tracking-tight",t),...e}));Bi.displayName="CardTitle";const _z=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("text-sm text-muted-foreground",t),...e}));_z.displayName="CardDescription";const He=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("p-6 pt-0",t),...e}));He.displayName="CardContent";const Sz=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("flex items-center p-6 pt-0",t),...e}));Sz.displayName="CardFooter";function Ez(){const t=[{icon:Qp,title:"Curriculum-Aligned",description:"Every game and lesson connects directly to national education standards"},{icon:Ug,title:"Game-Based",description:"Turn complex financial concepts into interactive, engaging experiences"},{icon:UA,title:"Teacher-Led",description:"Designed by educators who understand classroom dynamics and needs"},{icon:VA,title:"Real-World Skills",description:"Prepare students for actual financial decisions they'll face in life"}];return u.jsx("section",{className:"py-20 md:py-28 bg-white",id:"about",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"Why FinnQuest Exists"}),u.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-700 max-w-4xl mx-auto leading-relaxed",children:"FinnQuest turns money lessons into game-based adventures. Built by educators, for educators  every experience connects financial literacy, entrepreneurship, and real-world decision-making."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:t.map((e,n)=>u.jsx(Be,{className:"rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-0",style:{backgroundColor:"#FAF7F0"},children:u.jsxs(He,{className:"p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center shadow-md",style:{backgroundColor:"#35D0BA"},children:u.jsx(e.icon,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:"#3448C5"},children:e.title}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]})},n))})]})})}function Cz(){const t=[{icon:Vb,title:"Schools",description:"CPD, competitions, innovation projects"},{icon:y9,title:"Teachers",description:"Lesson packs & worksheets"},{icon:Yp,title:"Tutors",description:"Small-group resources"},{icon:fu,title:"Parents & Students",description:"Home-learning support"}];return u.jsx("section",{className:"py-20 md:py-28",style:{backgroundColor:"#FAF7F0"},id:"schools",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"text-center mb-16",children:u.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold",style:{color:"#3448C5"},children:"Who We're For"})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:t.map((e,n)=>u.jsx(Be,{className:"rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-0 bg-white",children:u.jsxs(He,{className:"p-8 text-center",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full flex items-center justify-center shadow-md",style:{backgroundColor:"#FFB68B"},children:u.jsx(e.icon,{className:"w-10 h-10 text-white",strokeWidth:2.5})}),u.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"#3448C5"},children:e.title}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:e.description})]})},n))})]})})}function Tz(){const t=[{emoji:"",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_b5rg38b5rg38b5rg.png?raw=true",title:"Moneyball FC",description:"Football finance simulator where students manage budgets, transfers, and team economics",gradient:"from-green-400 to-blue-500"},{emoji:"",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_ns6ytcns6ytcns6y.png?raw=true",title:"Pizzeria Tycoon",description:"Price & profit decision-making through running a virtual pizza restaurant business",gradient:"from-red-400 to-orange-500"},{emoji:"",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_2rxm7j2rxm7j2rxm.png?raw=true",title:"Coffee Shop Challenge",description:"Entrepreneurship & creativity combined as students build their own coffee shop empire",gradient:"from-amber-400 to-yellow-500"}];return u.jsx("section",{className:"py-20 md:py-28 bg-white",id:"games",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"text-center mb-16",children:u.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold",style:{color:"#3448C5"},children:"A Wide Variety of Games"})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10",children:t.map((e,n)=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden group",children:[u.jsxs("div",{className:"h-48 w-full overflow-hidden relative",children:[u.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.gradient} opacity-20`}),u.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"})]}),u.jsxs(He,{className:"p-8",style:{backgroundColor:"#FAF7F0"},children:[u.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"#3448C5"},children:e.title}),u.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:e.description})]})]},n))})]})})}function kz(){const t=[{quote:"FinnQuest transformed how my students engage with money topics. They actually look forward to financial literacy lessons now!",name:"Sarah Mitchell",school:"Riverside Academy"},{quote:"The game-based approach makes complex concepts accessible. My Year 9 class went from disengaged to asking for extra time to play.",name:"James Thompson",school:"Oakwood Secondary"},{quote:"As a CPD lead, I love how FinnQuest supports teachers with ready-made resources that actually work in real classrooms.",name:"Priya Sharma",school:"Greenfield High School"}];return u.jsx("section",{className:"py-20 md:py-28",style:{backgroundColor:"#FAF7F0"},children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("div",{className:"text-center mb-16",children:u.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold",style:{color:"#3448C5"},children:"What Educators Say"})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10",children:t.map((e,n)=>u.jsx(Be,{className:"rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 border-0 bg-white relative",children:u.jsxs(He,{className:"p-8",children:[u.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full flex items-center justify-center shadow-lg",style:{backgroundColor:"#35D0BA"},children:u.jsx(J8,{className:"w-6 h-6 text-white"})}),u.jsxs("p",{className:"text-gray-700 text-lg leading-relaxed mb-6 mt-4",children:['"',e.quote,'"']}),u.jsxs("div",{className:"border-t pt-4",style:{borderColor:"#35D0BA"},children:[u.jsx("p",{className:"font-bold text-lg",style:{color:"#3448C5"},children:e.name}),u.jsx("p",{className:"text-gray-600 mt-1",children:e.school})]})]})},n))})]})})}function Nz(){return u.jsx("section",{className:"py-20 md:py-28",style:{backgroundColor:"#3448C5"},id:"contact",children:u.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[u.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",children:"Join the FinnQuest Movement"}),u.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/95 mb-12 font-medium",children:"Start engaging your students with game-based financial literacy today."}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6",children:[u.jsx(Yt,{to:ot("ExploreGames"),children:u.jsxs(Ge,{size:"lg",className:"rounded-full px-10 py-6 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 flex items-center gap-3",style:{backgroundColor:"#FFB68B",color:"#1a1a1a"},children:["Get Started",u.jsx(E0,{className:"w-5 h-5"})]})}),u.jsx(Yt,{to:ot("Contact"),children:u.jsxs(Ge,{size:"lg",className:"rounded-full px-10 py-6 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 flex items-center gap-3",style:{backgroundColor:"#FFB68B",color:"#1a1a1a"},children:["Book a Demo",u.jsx(mp,{className:"w-5 h-5"})]})})]}),u.jsxs("div",{className:"mt-16 flex justify-center gap-8 opacity-50",children:[u.jsx("span",{className:"text-5xl",children:""}),u.jsx("span",{className:"text-5xl",children:""}),u.jsx("span",{className:"text-5xl",children:""})]})]})})}function wr(){const t=[{name:"Home",page:"Home"},{name:"About",page:"About"},{name:"Games",page:"ExploreGames"},{name:"CPD",page:"CPD"},{name:"Contact",page:"Contact"}];return u.jsx("footer",{className:"py-12",style:{backgroundColor:"#1a2744"},children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsx("nav",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-8 mb-8",children:t.map((e,n)=>u.jsxs(sn.Fragment,{children:[e.page?u.jsx(Yt,{to:ot(e.page),className:"text-white hover:text-[#35D0BA] transition-colors duration-200 text-sm md:text-base font-medium",children:e.name}):u.jsx("a",{href:e.hash,className:"text-white hover:text-[#35D0BA] transition-colors duration-200 text-sm md:text-base font-medium",children:e.name}),n<t.length-1&&u.jsx("span",{className:"text-white/30",children:""})]},e.name))}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-white/80 text-lg md:text-xl font-medium",children:"Practical. Engaging. Built for Classrooms."}),u.jsx("p",{className:"text-white/50 text-sm mt-4",children:" 2024 FinnQuest. All rights reserved."})]})]})})}function N0(){return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx(bz,{}),u.jsx(Ez,{}),u.jsx(Cz,{}),u.jsx(Tz,{}),u.jsx(kz,{}),u.jsx(Nz,{}),u.jsx(wr,{})]})}var Au=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Iz={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Uo,Rw,FN,Pz=(FN=class{constructor(){je(this,Uo,Iz);je(this,Rw,!1)}setTimeoutProvider(t){xe(this,Uo,t)}setTimeout(t,e){return W(this,Uo).setTimeout(t,e)}clearTimeout(t){W(this,Uo).clearTimeout(t)}setInterval(t,e){return W(this,Uo).setInterval(t,e)}clearInterval(t){W(this,Uo).clearInterval(t)}},Uo=new WeakMap,Rw=new WeakMap,FN),el=new Pz;function Az(t){setTimeout(t,0)}var El=typeof window>"u"||"Deno"in globalThis;function Gn(){}function Rz(t,e){return typeof t=="function"?t(e):t}function I0(t){return typeof t=="number"&&t>=0&&t!==1/0}function oR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function na(t,e){return typeof t=="function"?t(e):t}function Kr(t,e){return typeof t=="function"?t(e):t}function uT(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==Ub(a,e.options))return!1}else if(!yh(e.queryKey,a))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function dT(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Cl(e.options.mutationKey)!==Cl(i))return!1}else if(!yh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Ub(t,e){return((e==null?void 0:e.queryKeyHashFn)||Cl)(t)}function Cl(t){return JSON.stringify(t,(e,n)=>P0(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function yh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>yh(t[n],e[n])):!1}var jz=Object.prototype.hasOwnProperty;function aR(t,e){if(t===e)return t;const n=hT(t)&&hT(e);if(!n&&!(P0(t)&&P0(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),a=i.length,c=n?new Array(a):{};let d=0;for(let f=0;f<a;f++){const m=n?f:i[f],y=t[m],v=e[m];if(y===v){c[m]=y,(n?f<s:jz.call(t,m))&&d++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){c[m]=v;continue}const b=aR(y,v);c[m]=b,b===y&&d++}return s===a&&d===s?t:c}function Zp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function P0(t){if(!fT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dz(t){return new Promise(e=>{el.setTimeout(e,t)})}function A0(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?aR(t,e):e}function Mz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Oz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zb=Symbol();function lR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function cR(t,e){return typeof t=="function"?t(...e):!!t}var il,zo,Kc,VN,Lz=(VN=class extends Au{constructor(){super();je(this,il);je(this,zo);je(this,Kc);xe(this,Kc,e=>{if(!El&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,zo)||this.setEventListener(W(this,Kc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,zo))==null||e.call(this),xe(this,zo,void 0))}setEventListener(e){var n;xe(this,Kc,e),(n=W(this,zo))==null||n.call(this),xe(this,zo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){W(this,il)!==e&&(xe(this,il,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof W(this,il)=="boolean"?W(this,il):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},il=new WeakMap,zo=new WeakMap,Kc=new WeakMap,VN),$b=new Lz;function R0(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var Fz=Az;function Vz(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=Fz;const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var fn=Vz(),Yc,$o,Qc,BN,Bz=(BN=class extends Au{constructor(){super();je(this,Yc,!0);je(this,$o);je(this,Qc);xe(this,Qc,e=>{if(!El&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,$o)||this.setEventListener(W(this,Qc))}onUnsubscribe(){var e;this.hasListeners()||((e=W(this,$o))==null||e.call(this),xe(this,$o,void 0))}setEventListener(e){var n;xe(this,Qc,e),(n=W(this,$o))==null||n.call(this),xe(this,$o,e(this.setOnline.bind(this)))}setOnline(e){W(this,Yc)!==e&&(xe(this,Yc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return W(this,Yc)}},Yc=new WeakMap,$o=new WeakMap,Qc=new WeakMap,BN),eg=new Bz;function Uz(t){return Math.min(1e3*2**t,3e4)}function uR(t){return(t??"online")==="online"?eg.isOnline():!0}var j0=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dR(t){let e=!1,n=0,r;const s=R0(),i=()=>s.status!=="pending",a=C=>{var S;if(!i()){const I=new j0(C);v(I),(S=t.onCancel)==null||S.call(t,I)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>$b.isFocused()&&(t.networkMode==="always"||eg.isOnline())&&t.canRun(),m=()=>uR(t.networkMode)&&t.canRun(),y=C=>{i()||(r==null||r(),s.resolve(C))},v=C=>{i()||(r==null||r(),s.reject(C))},b=()=>new Promise(C=>{var S;r=I=>{(i()||f())&&C(I)},(S=t.onPause)==null||S.call(t)}).then(()=>{var C;r=void 0,i()||(C=t.onContinue)==null||C.call(t)}),T=()=>{if(i())return;let C;const S=n===0?t.initialPromise:void 0;try{C=S??t.fn()}catch(I){C=Promise.reject(I)}Promise.resolve(C).then(y).catch(I=>{var U;if(i())return;const A=t.retry??(El?0:3),R=t.retryDelay??Uz,B=typeof R=="function"?R(n,I):R,F=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,I);if(e||!F){v(I);return}n++,(U=t.onFail)==null||U.call(t,n,I),Dz(B).then(()=>f()?void 0:b()).then(()=>{e?v(I):T()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?T():b().then(T),s)}}var ol,UN,hR=(UN=class{constructor(){je(this,ol)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I0(this.gcTime)&&xe(this,ol,el.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(El?1/0:300*1e3))}clearGcTimeout(){W(this,ol)&&(el.clearTimeout(W(this,ol)),xe(this,ol,void 0))}},ol=new WeakMap,UN),al,Xc,Gr,ll,wn,Nh,cl,gs,Ti,zN,zz=(zN=class extends hR{constructor(e){super();je(this,gs);je(this,al);je(this,Xc);je(this,Gr);je(this,ll);je(this,wn);je(this,Nh);je(this,cl);xe(this,cl,!1),xe(this,Nh,e.defaultOptions),this.setOptions(e.options),this.observers=[],xe(this,ll,e.client),xe(this,Gr,W(this,ll).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xe(this,al,pT(this.options)),this.state=e.state??W(this,al),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=W(this,wn))==null?void 0:e.promise}setOptions(e){if(this.options={...W(this,Nh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=pT(this.options);n.data!==void 0&&(this.setState(mT(n.data,n.dataUpdatedAt)),xe(this,al,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Gr).remove(this)}setData(e,n){const r=A0(this.state.data,e,this.options);return tt(this,gs,Ti).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){tt(this,gs,Ti).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=W(this,wn))==null?void 0:r.promise;return(s=W(this,wn))==null||s.cancel(e),n?n.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,al))}isActive(){return this.observers.some(e=>Kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>na(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!oR(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,wn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=W(this,wn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),W(this,Gr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(W(this,wn)&&(W(this,cl)?W(this,wn).cancel({revert:!0}):W(this,wn).cancelRetry()),this.scheduleGc()),W(this,Gr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,gs,Ti).call(this,{type:"invalidate"})}async fetch(e,n){var d,f,m,y,v,b,T,C,S,I,A,R;if(this.state.fetchStatus!=="idle"&&((d=W(this,wn))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,wn))return W(this,wn).continueRetry(),W(this,wn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const B=this.observers.find(F=>F.options.queryFn);B&&this.setOptions(B.options)}const r=new AbortController,s=B=>{Object.defineProperty(B,"signal",{enumerable:!0,get:()=>(xe(this,cl,!0),r.signal)})},i=()=>{const B=lR(this.options,n),U=(()=>{const P={client:W(this,ll),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return xe(this,cl,!1),this.options.persister?this.options.persister(B,U,this):B(U)},c=(()=>{const B={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,ll),state:this.state,fetchFn:i};return s(B),B})();(f=this.options.behavior)==null||f.onFetch(c,this),xe(this,Xc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&tt(this,gs,Ti).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta}),xe(this,wn,dR({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,onCancel:B=>{B instanceof j0&&B.revert&&this.setState({...W(this,Xc),fetchStatus:"idle"}),r.abort()},onFail:(B,F)=>{tt(this,gs,Ti).call(this,{type:"failed",failureCount:B,error:F})},onPause:()=>{tt(this,gs,Ti).call(this,{type:"pause"})},onContinue:()=>{tt(this,gs,Ti).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const B=await W(this,wn).start();if(B===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(B),(b=(v=W(this,Gr).config).onSuccess)==null||b.call(v,B,this),(C=(T=W(this,Gr).config).onSettled)==null||C.call(T,B,this.state.error,this),B}catch(B){if(B instanceof j0){if(B.silent)return W(this,wn).promise;if(B.revert){if(this.state.data===void 0)throw B;return this.state.data}}throw tt(this,gs,Ti).call(this,{type:"error",error:B}),(I=(S=W(this,Gr).config).onError)==null||I.call(S,B,this),(R=(A=W(this,Gr).config).onSettled)==null||R.call(A,this.state.data,B,this),B}finally{this.scheduleGc()}}},al=new WeakMap,Xc=new WeakMap,Gr=new WeakMap,ll=new WeakMap,wn=new WeakMap,Nh=new WeakMap,cl=new WeakMap,gs=new WeakSet,Ti=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fR(r.data,this.options),fetchMeta:e.meta??null};case"success":const s={...r,...mT(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return xe(this,Xc,e.manual?s:void 0),s;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Gr).notify({query:this,type:"updated",action:e})})},zN);function fR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mT(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ur,ct,Ih,Wn,ul,Jc,ki,qo,Ph,Zc,eu,dl,hl,Wo,tu,vt,Bd,D0,M0,O0,L0,F0,V0,B0,mR,$N,$z=($N=class extends Au{constructor(e,n){super();je(this,vt);je(this,ur);je(this,ct);je(this,Ih);je(this,Wn);je(this,ul);je(this,Jc);je(this,ki);je(this,qo);je(this,Ph);je(this,Zc);je(this,eu);je(this,dl);je(this,hl);je(this,Wo);je(this,tu,new Set);this.options=n,xe(this,ur,e),xe(this,qo,null),xe(this,ki,R0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,ct).addObserver(this),gT(W(this,ct),this.options)?tt(this,vt,Bd).call(this):this.updateResult(),tt(this,vt,L0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return U0(W(this,ct),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return U0(W(this,ct),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,vt,F0).call(this),tt(this,vt,V0).call(this),W(this,ct).removeObserver(this)}setOptions(e){const n=this.options,r=W(this,ct);if(this.options=W(this,ur).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Kr(this.options.enabled,W(this,ct))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,vt,B0).call(this),W(this,ct).setOptions(this.options),n._defaulted&&!Zp(this.options,n)&&W(this,ur).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,ct),observer:this});const s=this.hasListeners();s&&yT(W(this,ct),r,this.options,n)&&tt(this,vt,Bd).call(this),this.updateResult(),s&&(W(this,ct)!==r||Kr(this.options.enabled,W(this,ct))!==Kr(n.enabled,W(this,ct))||na(this.options.staleTime,W(this,ct))!==na(n.staleTime,W(this,ct)))&&tt(this,vt,D0).call(this);const i=tt(this,vt,M0).call(this);s&&(W(this,ct)!==r||Kr(this.options.enabled,W(this,ct))!==Kr(n.enabled,W(this,ct))||i!==W(this,Wo))&&tt(this,vt,O0).call(this,i)}getOptimisticResult(e){const n=W(this,ur).getQueryCache().build(W(this,ur),e),r=this.createResult(n,e);return Wz(this,r)&&(xe(this,Wn,r),xe(this,Jc,this.options),xe(this,ul,W(this,ct).state)),r}getCurrentResult(){return W(this,Wn)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,ki).status==="pending"&&W(this,ki).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){W(this,tu).add(e)}getCurrentQuery(){return W(this,ct)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=W(this,ur).defaultQueryOptions(e),r=W(this,ur).getQueryCache().build(W(this,ur),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return tt(this,vt,Bd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Wn)))}createResult(e,n){var D;const r=W(this,ct),s=this.options,i=W(this,Wn),a=W(this,ul),c=W(this,Jc),f=e!==r?e.state:W(this,Ih),{state:m}=e;let y={...m},v=!1,b;if(n._optimisticResults){const O=this.hasListeners(),L=!O&&gT(e,n),z=O&&yT(e,r,n,s);(L||z)&&(y={...y,...fR(m.data,e.options)}),n._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:T,errorUpdatedAt:C,status:S}=y;b=y.data;let I=!1;if(n.placeholderData!==void 0&&b===void 0&&S==="pending"){let O;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(O=i.data,I=!0):O=typeof n.placeholderData=="function"?n.placeholderData((D=W(this,eu))==null?void 0:D.state.data,W(this,eu)):n.placeholderData,O!==void 0&&(S="success",b=A0(i==null?void 0:i.data,O,n),v=!0)}if(n.select&&b!==void 0&&!I)if(i&&b===(a==null?void 0:a.data)&&n.select===W(this,Ph))b=W(this,Zc);else try{xe(this,Ph,n.select),b=n.select(b),b=A0(i==null?void 0:i.data,b,n),xe(this,Zc,b),xe(this,qo,null)}catch(O){xe(this,qo,O)}W(this,qo)&&(T=W(this,qo),b=W(this,Zc),C=Date.now(),S="error");const A=y.fetchStatus==="fetching",R=S==="pending",B=S==="error",F=R&&A,U=b!==void 0,k={status:S,fetchStatus:y.fetchStatus,isPending:R,isSuccess:S==="success",isError:B,isInitialLoading:F,isLoading:F,data:b,dataUpdatedAt:y.dataUpdatedAt,error:T,errorUpdatedAt:C,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>f.dataUpdateCount||y.errorUpdateCount>f.errorUpdateCount,isFetching:A,isRefetching:A&&!R,isLoadingError:B&&!U,isPaused:y.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:B&&U,isStale:qb(e,n),refetch:this.refetch,promise:W(this,ki),isEnabled:Kr(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=M=>{k.status==="error"?M.reject(k.error):k.data!==void 0&&M.resolve(k.data)},L=()=>{const M=xe(this,ki,k.promise=R0());O(M)},z=W(this,ki);switch(z.status){case"pending":e.queryHash===r.queryHash&&O(z);break;case"fulfilled":(k.status==="error"||k.data!==z.value)&&L();break;case"rejected":(k.status!=="error"||k.error!==z.reason)&&L();break}}return k}updateResult(){const e=W(this,Wn),n=this.createResult(W(this,ct),this.options);if(xe(this,ul,W(this,ct).state),xe(this,Jc,this.options),W(this,ul).data!==void 0&&xe(this,eu,W(this,ct)),Zp(n,e))return;xe(this,Wn,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!W(this,tu).size)return!0;const a=new Set(i??W(this,tu));return this.options.throwOnError&&a.add("error"),Object.keys(W(this,Wn)).some(c=>{const d=c;return W(this,Wn)[d]!==e[d]&&a.has(d)})};tt(this,vt,mR).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,vt,L0).call(this)}},ur=new WeakMap,ct=new WeakMap,Ih=new WeakMap,Wn=new WeakMap,ul=new WeakMap,Jc=new WeakMap,ki=new WeakMap,qo=new WeakMap,Ph=new WeakMap,Zc=new WeakMap,eu=new WeakMap,dl=new WeakMap,hl=new WeakMap,Wo=new WeakMap,tu=new WeakMap,vt=new WeakSet,Bd=function(e){tt(this,vt,B0).call(this);let n=W(this,ct).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Gn)),n},D0=function(){tt(this,vt,F0).call(this);const e=na(this.options.staleTime,W(this,ct));if(El||W(this,Wn).isStale||!I0(e))return;const r=oR(W(this,Wn).dataUpdatedAt,e)+1;xe(this,dl,el.setTimeout(()=>{W(this,Wn).isStale||this.updateResult()},r))},M0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,ct)):this.options.refetchInterval)??!1},O0=function(e){tt(this,vt,V0).call(this),xe(this,Wo,e),!(El||Kr(this.options.enabled,W(this,ct))===!1||!I0(W(this,Wo))||W(this,Wo)===0)&&xe(this,hl,el.setInterval(()=>{(this.options.refetchIntervalInBackground||$b.isFocused())&&tt(this,vt,Bd).call(this)},W(this,Wo)))},L0=function(){tt(this,vt,D0).call(this),tt(this,vt,O0).call(this,tt(this,vt,M0).call(this))},F0=function(){W(this,dl)&&(el.clearTimeout(W(this,dl)),xe(this,dl,void 0))},V0=function(){W(this,hl)&&(el.clearInterval(W(this,hl)),xe(this,hl,void 0))},B0=function(){const e=W(this,ur).getQueryCache().build(W(this,ur),this.options);if(e===W(this,ct))return;const n=W(this,ct);xe(this,ct,e),xe(this,Ih,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},mR=function(e){fn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(W(this,Wn))}),W(this,ur).getQueryCache().notify({query:W(this,ct),type:"observerResultsUpdated"})})},$N);function qz(t,e){return Kr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function gT(t,e){return qz(t,e)||t.state.data!==void 0&&U0(t,e,e.refetchOnMount)}function U0(t,e,n){if(Kr(e.enabled,t)!==!1&&na(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qb(t,e)}return!1}function yT(t,e,n,r){return(t!==e||Kr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qb(t,n)}function qb(t,e){return Kr(e.enabled,t)!==!1&&t.isStaleByTime(na(e.staleTime,t))}function Wz(t,e){return!Zp(t.getCurrentResult(),e)}function vT(t){return{onFetch:(e,n)=>{var m,y,v,b,T;const r=e.options,s=(v=(y=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:y.fetchMore)==null?void 0:v.direction,i=((b=e.state.data)==null?void 0:b.pages)||[],a=((T=e.state.data)==null?void 0:T.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let C=!1;const S=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?C=!0:e.signal.addEventListener("abort",()=>{C=!0}),e.signal)})},I=lR(e.options,e.fetchOptions),A=async(R,B,F)=>{if(C)return Promise.reject();if(B==null&&R.pages.length)return Promise.resolve(R);const P=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:B,direction:F?"backward":"forward",meta:e.options.meta};return S(L),L})(),k=await I(P),{maxPages:D}=e.options,O=F?Oz:Mz;return{pages:O(R.pages,k,D),pageParams:O(R.pageParams,B,D)}};if(s&&i.length){const R=s==="backward",B=R?Hz:xT,F={pages:i,pageParams:a},U=B(r,F);c=await A(F,U,R)}else{const R=t??i.length;do{const B=d===0?a[0]??r.initialPageParam:xT(r,c);if(d>0&&B==null)break;c=await A(c,B),d++}while(d<R)}return c};e.options.persister?e.fetchFn=()=>{var C,S;return(S=(C=e.options).persister)==null?void 0:S.call(C,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function xT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Hz(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ah,Us,Hn,fl,zs,Do,qN,Gz=(qN=class extends hR{constructor(e){super();je(this,zs);je(this,Ah);je(this,Us);je(this,Hn);je(this,fl);xe(this,Ah,e.client),this.mutationId=e.mutationId,xe(this,Hn,e.mutationCache),xe(this,Us,[]),this.state=e.state||pR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){W(this,Us).includes(e)||(W(this,Us).push(e),this.clearGcTimeout(),W(this,Hn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xe(this,Us,W(this,Us).filter(n=>n!==e)),this.scheduleGc(),W(this,Hn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){W(this,Us).length||(this.state.status==="pending"?this.scheduleGc():W(this,Hn).remove(this))}continue(){var e;return((e=W(this,fl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,c,d,f,m,y,v,b,T,C,S,I,A,R,B,F,U,P,k,D;const n=()=>{tt(this,zs,Do).call(this,{type:"continue"})},r={client:W(this,Ah),meta:this.options.meta,mutationKey:this.options.mutationKey};xe(this,fl,dR({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,L)=>{tt(this,zs,Do).call(this,{type:"failed",failureCount:O,error:L})},onPause:()=>{tt(this,zs,Do).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Hn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,fl).canStart();try{if(s)n();else{tt(this,zs,Do).call(this,{type:"pending",variables:e,isPaused:i}),await((c=(a=W(this,Hn).config).onMutate)==null?void 0:c.call(a,e,this,r));const L=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,e,r));L!==this.state.context&&tt(this,zs,Do).call(this,{type:"pending",context:L,variables:e,isPaused:i})}const O=await W(this,fl).start();return await((y=(m=W(this,Hn).config).onSuccess)==null?void 0:y.call(m,O,e,this.state.context,this,r)),await((b=(v=this.options).onSuccess)==null?void 0:b.call(v,O,e,this.state.context,r)),await((C=(T=W(this,Hn).config).onSettled)==null?void 0:C.call(T,O,null,this.state.variables,this.state.context,this,r)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,O,null,e,this.state.context,r)),tt(this,zs,Do).call(this,{type:"success",data:O}),O}catch(O){try{throw await((R=(A=W(this,Hn).config).onError)==null?void 0:R.call(A,O,e,this.state.context,this,r)),await((F=(B=this.options).onError)==null?void 0:F.call(B,O,e,this.state.context,r)),await((P=(U=W(this,Hn).config).onSettled)==null?void 0:P.call(U,void 0,O,this.state.variables,this.state.context,this,r)),await((D=(k=this.options).onSettled)==null?void 0:D.call(k,void 0,O,e,this.state.context,r)),O}finally{tt(this,zs,Do).call(this,{type:"error",error:O})}}finally{W(this,Hn).runNext(this)}}},Ah=new WeakMap,Us=new WeakMap,Hn=new WeakMap,fl=new WeakMap,zs=new WeakSet,Do=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),fn.batch(()=>{W(this,Us).forEach(r=>{r.onMutationUpdate(e)}),W(this,Hn).notify({mutation:this,type:"updated",action:e})})},qN);function pR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ni,ys,Rh,WN,Kz=(WN=class extends Au{constructor(e={}){super();je(this,Ni);je(this,ys);je(this,Rh);this.config=e,xe(this,Ni,new Set),xe(this,ys,new Map),xe(this,Rh,0)}build(e,n,r){const s=new Gz({client:e,mutationCache:this,mutationId:++Dm(this,Rh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){W(this,Ni).add(e);const n=qm(e);if(typeof n=="string"){const r=W(this,ys).get(n);r?r.push(e):W(this,ys).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(W(this,Ni).delete(e)){const n=qm(e);if(typeof n=="string"){const r=W(this,ys).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&W(this,ys).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=qm(e);if(typeof n=="string"){const r=W(this,ys).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=qm(e);if(typeof n=="string"){const s=(r=W(this,ys).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){fn.batch(()=>{W(this,Ni).forEach(e=>{this.notify({type:"removed",mutation:e})}),W(this,Ni).clear(),W(this,ys).clear()})}getAll(){return Array.from(W(this,Ni))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dT(n,r))}findAll(e={}){return this.getAll().filter(n=>dT(e,n))}notify(e){fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return fn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gn))))}},Ni=new WeakMap,ys=new WeakMap,Rh=new WeakMap,WN);function qm(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ii,Ho,dr,Pi,Ui,gp,z0,HN,Yz=(HN=class extends Au{constructor(n,r){super();je(this,Ui);je(this,Ii);je(this,Ho);je(this,dr);je(this,Pi);xe(this,Ii,n),this.setOptions(r),this.bindMethods(),tt(this,Ui,gp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=W(this,Ii).defaultMutationOptions(n),Zp(this.options,r)||W(this,Ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,dr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Cl(r.mutationKey)!==Cl(this.options.mutationKey)?this.reset():((s=W(this,dr))==null?void 0:s.state.status)==="pending"&&W(this,dr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=W(this,dr))==null||n.removeObserver(this)}onMutationUpdate(n){tt(this,Ui,gp).call(this),tt(this,Ui,z0).call(this,n)}getCurrentResult(){return W(this,Ho)}reset(){var n;(n=W(this,dr))==null||n.removeObserver(this),xe(this,dr,void 0),tt(this,Ui,gp).call(this),tt(this,Ui,z0).call(this)}mutate(n,r){var s;return xe(this,Pi,r),(s=W(this,dr))==null||s.removeObserver(this),xe(this,dr,W(this,Ii).getMutationCache().build(W(this,Ii),this.options)),W(this,dr).addObserver(this),W(this,dr).execute(n)}},Ii=new WeakMap,Ho=new WeakMap,dr=new WeakMap,Pi=new WeakMap,Ui=new WeakSet,gp=function(){var r;const n=((r=W(this,dr))==null?void 0:r.state)??pR();xe(this,Ho,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},z0=function(n){fn.batch(()=>{var r,s,i,a,c,d,f,m;if(W(this,Pi)&&this.hasListeners()){const y=W(this,Ho).variables,v=W(this,Ho).context,b={client:W(this,Ii),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=W(this,Pi)).onSuccess)==null||s.call(r,n.data,y,v,b),(a=(i=W(this,Pi)).onSettled)==null||a.call(i,n.data,null,y,v,b)):(n==null?void 0:n.type)==="error"&&((d=(c=W(this,Pi)).onError)==null||d.call(c,n.error,y,v,b),(m=(f=W(this,Pi)).onSettled)==null||m.call(f,void 0,n.error,y,v,b))}this.listeners.forEach(y=>{y(W(this,Ho))})})},HN),$s,GN,Qz=(GN=class extends Au{constructor(e={}){super();je(this,$s);this.config=e,xe(this,$s,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Ub(s,n);let a=this.get(i);return a||(a=new zz({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){W(this,$s).has(e.queryHash)||(W(this,$s).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=W(this,$s).get(e.queryHash);n&&(e.destroy(),n===e&&W(this,$s).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return W(this,$s).get(e)}getAll(){return[...W(this,$s).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>uT(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>uT(e,r)):n}notify(e){fn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$s=new WeakMap,GN),Wt,Go,Ko,nu,ru,Yo,su,iu,KN,Xz=(KN=class{constructor(t={}){je(this,Wt);je(this,Go);je(this,Ko);je(this,nu);je(this,ru);je(this,Yo);je(this,su);je(this,iu);xe(this,Wt,t.queryCache||new Qz),xe(this,Go,t.mutationCache||new Kz),xe(this,Ko,t.defaultOptions||{}),xe(this,nu,new Map),xe(this,ru,new Map),xe(this,Yo,0)}mount(){Dm(this,Yo)._++,W(this,Yo)===1&&(xe(this,su,$b.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Wt).onFocus())})),xe(this,iu,eg.subscribe(async t=>{t&&(await this.resumePausedMutations(),W(this,Wt).onOnline())})))}unmount(){var t,e;Dm(this,Yo)._--,W(this,Yo)===0&&((t=W(this,su))==null||t.call(this),xe(this,su,void 0),(e=W(this,iu))==null||e.call(this),xe(this,iu,void 0))}isFetching(t){return W(this,Wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return W(this,Go).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Wt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=W(this,Wt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(na(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return W(this,Wt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=W(this,Wt).get(r.queryHash),i=s==null?void 0:s.state.data,a=Rz(e,i);if(a!==void 0)return W(this,Wt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return fn.batch(()=>W(this,Wt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=W(this,Wt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=W(this,Wt);fn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=W(this,Wt);return fn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=fn.batch(()=>W(this,Wt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Gn).catch(Gn)}invalidateQueries(t,e={}){return fn.batch(()=>(W(this,Wt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=fn.batch(()=>W(this,Wt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Gn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Gn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=W(this,Wt).build(this,e);return n.isStaleByTime(na(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gn).catch(Gn)}fetchInfiniteQuery(t){return t.behavior=vT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gn).catch(Gn)}ensureInfiniteQueryData(t){return t.behavior=vT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eg.isOnline()?W(this,Go).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Wt)}getMutationCache(){return W(this,Go)}getDefaultOptions(){return W(this,Ko)}setDefaultOptions(t){xe(this,Ko,t)}setQueryDefaults(t,e){W(this,nu).set(Cl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...W(this,nu).values()],n={};return e.forEach(r=>{yh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){W(this,ru).set(Cl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...W(this,ru).values()],n={};return e.forEach(r=>{yh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...W(this,Ko).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ub(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zb&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...W(this,Ko).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){W(this,Wt).clear(),W(this,Go).clear()}},Wt=new WeakMap,Go=new WeakMap,Ko=new WeakMap,nu=new WeakMap,ru=new WeakMap,Yo=new WeakMap,su=new WeakMap,iu=new WeakMap,KN),gR=w.createContext(void 0),nf=t=>{const e=w.useContext(gR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Jz=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(gR.Provider,{value:t,children:e})),yR=w.createContext(!1),Zz=()=>w.useContext(yR);yR.Provider;function e$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var t$=w.createContext(e$()),n$=()=>w.useContext(t$),r$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},s$=t=>{w.useEffect(()=>{t.clearReset()},[t])},i$=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||cR(n,[t.error,r])),o$=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},a$=(t,e)=>t.isLoading&&t.isFetching&&!e,l$=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,wT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function c$(t,e,n){var y,v,b,T,C;const r=Zz(),s=n$(),i=nf(),a=i.defaultQueryOptions(t);(v=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||v.call(y,a),a._optimisticResults=r?"isRestoring":"optimistic",o$(a),r$(a,s),s$(s);const c=!i.getQueryCache().get(a.queryHash),[d]=w.useState(()=>new e(i,a)),f=d.getOptimisticResult(a),m=!r&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(S=>{const I=m?d.subscribe(fn.batchCalls(S)):Gn;return d.updateResult(),I},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),w.useEffect(()=>{d.setOptions(a)},[a,d]),l$(a,f))throw wT(a,d,s);if(i$({result:f,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;if((T=(b=i.getDefaultOptions().queries)==null?void 0:b._experimental_afterQuery)==null||T.call(b,a,f),a.experimental_prefetchInRender&&!El&&a$(f,r)){const S=c?wT(a,d,s):(C=i.getQueryCache().get(a.queryHash))==null?void 0:C.promise;S==null||S.catch(Gn).finally(()=>{d.updateResult()})}return a.notifyOnChangeProps?f:d.trackResult(f)}function ra(t,e){return c$(t,$z)}function Yd(t,e){const n=nf(),[r]=w.useState(()=>new Yz(n,t));w.useEffect(()=>{r.setOptions(t)},[r,t]);const s=w.useSyncExternalStore(w.useCallback(a=>r.subscribe(fn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=w.useCallback((a,c)=>{r.mutate(a,c).catch(Gn)},[r]);if(s.error&&cR(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function vR(t,e){return function(){return t.apply(e,arguments)}}const{toString:u$}=Object.prototype,{getPrototypeOf:Wb}=Object,{iterator:$g,toStringTag:xR}=Symbol,qg=(t=>e=>{const n=u$.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ks=t=>(t=t.toLowerCase(),e=>qg(e)===t),Wg=t=>e=>typeof e===t,{isArray:Ru}=Array,mu=Wg("undefined");function rf(t){return t!==null&&!mu(t)&&t.constructor!==null&&!mu(t.constructor)&&gr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wR=ks("ArrayBuffer");function d$(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wR(t.buffer),e}const h$=Wg("string"),gr=Wg("function"),bR=Wg("number"),sf=t=>t!==null&&typeof t=="object",f$=t=>t===!0||t===!1,yp=t=>{if(qg(t)!=="object")return!1;const e=Wb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xR in t)&&!($g in t)},m$=t=>{if(!sf(t)||rf(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},p$=ks("Date"),g$=ks("File"),y$=ks("Blob"),v$=ks("FileList"),x$=t=>sf(t)&&gr(t.pipe),w$=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gr(t.append)&&((e=qg(t))==="formdata"||e==="object"&&gr(t.toString)&&t.toString()==="[object FormData]"))},b$=ks("URLSearchParams"),[_$,S$,E$,C$]=["ReadableStream","Request","Response","Headers"].map(ks),T$=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function of(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ru(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(rf(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let c;for(r=0;r<a;r++)c=i[r],e.call(null,t[c],c,t)}}function _R(t,e){if(rf(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const tl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,SR=t=>!mu(t)&&t!==tl;function $0(){const{caseless:t,skipUndefined:e}=SR(this)&&this||{},n={},r=(s,i)=>{const a=t&&_R(n,i)||i;yp(n[a])&&yp(s)?n[a]=$0(n[a],s):yp(s)?n[a]=$0({},s):Ru(s)?n[a]=s.slice():(!e||!mu(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&of(arguments[s],r);return n}const k$=(t,e,n,{allOwnKeys:r}={})=>(of(e,(s,i)=>{n&&gr(s)?t[i]=vR(s,n):t[i]=s},{allOwnKeys:r}),t),N$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),I$=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},P$=(t,e,n,r)=>{let s,i,a;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&Wb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},A$=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},R$=t=>{if(!t)return null;if(Ru(t))return t;let e=t.length;if(!bR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},j$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Wb(Uint8Array)),D$=(t,e)=>{const r=(t&&t[$g]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},M$=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},O$=ks("HTMLFormElement"),L$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),bT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),F$=ks("RegExp"),ER=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};of(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},V$=t=>{ER(t,(e,n)=>{if(gr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(gr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},B$=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ru(t)?r(t):r(String(t).split(e)),n},U$=()=>{},z$=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $$(t){return!!(t&&gr(t.append)&&t[xR]==="FormData"&&t[$g])}const q$=t=>{const e=new Array(10),n=(r,s)=>{if(sf(r)){if(e.indexOf(r)>=0)return;if(rf(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Ru(r)?[]:{};return of(r,(a,c)=>{const d=n(a,s+1);!mu(d)&&(i[c]=d)}),e[s]=void 0,i}}return r};return n(t,0)},W$=ks("AsyncFunction"),H$=t=>t&&(sf(t)||gr(t))&&gr(t.then)&&gr(t.catch),CR=((t,e)=>t?setImmediate:e?((n,r)=>(tl.addEventListener("message",({source:s,data:i})=>{s===tl&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),tl.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gr(tl.postMessage)),G$=typeof queueMicrotask<"u"?queueMicrotask.bind(tl):typeof process<"u"&&process.nextTick||CR,K$=t=>t!=null&&gr(t[$g]),ne={isArray:Ru,isArrayBuffer:wR,isBuffer:rf,isFormData:w$,isArrayBufferView:d$,isString:h$,isNumber:bR,isBoolean:f$,isObject:sf,isPlainObject:yp,isEmptyObject:m$,isReadableStream:_$,isRequest:S$,isResponse:E$,isHeaders:C$,isUndefined:mu,isDate:p$,isFile:g$,isBlob:y$,isRegExp:F$,isFunction:gr,isStream:x$,isURLSearchParams:b$,isTypedArray:j$,isFileList:v$,forEach:of,merge:$0,extend:k$,trim:T$,stripBOM:N$,inherits:I$,toFlatObject:P$,kindOf:qg,kindOfTest:ks,endsWith:A$,toArray:R$,forEachEntry:D$,matchAll:M$,isHTMLForm:O$,hasOwnProperty:bT,hasOwnProp:bT,reduceDescriptors:ER,freezeMethods:V$,toObjectSet:B$,toCamelCase:L$,noop:U$,toFiniteNumber:z$,findKey:_R,global:tl,isContextDefined:SR,isSpecCompliantForm:$$,toJSONObject:q$,isAsyncFn:W$,isThenable:H$,setImmediate:CR,asap:G$,isIterable:K$};function et(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ne.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const TR=et.prototype,kR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kR[t]={value:t}});Object.defineProperties(et,kR);Object.defineProperty(TR,"isAxiosError",{value:!0});et.from=(t,e,n,r,s,i)=>{const a=Object.create(TR);ne.toFlatObject(t,a,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return et.call(a,c,d,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const Y$=null;function q0(t){return ne.isPlainObject(t)||ne.isArray(t)}function NR(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function _T(t,e,n){return t?t.concat(e).map(function(s,i){return s=NR(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Q$(t){return ne.isArray(t)&&!t.some(q0)}const X$=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function Hg(t,e,n){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!ne.isUndefined(S[C])});const r=n.metaTokens,s=n.visitor||m,i=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(s))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(ne.isDate(T))return T.toISOString();if(ne.isBoolean(T))return T.toString();if(!d&&ne.isBlob(T))throw new et("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(T)||ne.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function m(T,C,S){let I=T;if(T&&!S&&typeof T=="object"){if(ne.endsWith(C,"{}"))C=r?C:C.slice(0,-2),T=JSON.stringify(T);else if(ne.isArray(T)&&Q$(T)||(ne.isFileList(T)||ne.endsWith(C,"[]"))&&(I=ne.toArray(T)))return C=NR(C),I.forEach(function(R,B){!(ne.isUndefined(R)||R===null)&&e.append(a===!0?_T([C],B,i):a===null?C:C+"[]",f(R))}),!1}return q0(T)?!0:(e.append(_T(S,C,i),f(T)),!1)}const y=[],v=Object.assign(X$,{defaultVisitor:m,convertValue:f,isVisitable:q0});function b(T,C){if(!ne.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+C.join("."));y.push(T),ne.forEach(T,function(I,A){(!(ne.isUndefined(I)||I===null)&&s.call(e,I,ne.isString(A)?A.trim():A,C,v))===!0&&b(I,C?C.concat(A):[A])}),y.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return b(t),e}function ST(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Hb(t,e){this._pairs=[],t&&Hg(t,this,e)}const IR=Hb.prototype;IR.append=function(e,n){this._pairs.push([e,n])};IR.toString=function(e){const n=e?function(r){return e.call(this,r,ST)}:ST;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function J$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PR(t,e,n){if(!e)return t;const r=n&&n.encode||J$;ne.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=ne.isURLSearchParams(e)?e.toString():new Hb(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ET{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const AR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Z$=typeof URLSearchParams<"u"?URLSearchParams:Hb,e7=typeof FormData<"u"?FormData:null,t7=typeof Blob<"u"?Blob:null,n7={isBrowser:!0,classes:{URLSearchParams:Z$,FormData:e7,Blob:t7},protocols:["http","https","file","blob","url","data"]},Gb=typeof window<"u"&&typeof document<"u",W0=typeof navigator=="object"&&navigator||void 0,r7=Gb&&(!W0||["ReactNative","NativeScript","NS"].indexOf(W0.product)<0),s7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i7=Gb&&window.location.href||"http://localhost",o7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Gb,hasStandardBrowserEnv:r7,hasStandardBrowserWebWorkerEnv:s7,navigator:W0,origin:i7},Symbol.toStringTag,{value:"Module"})),Ln={...o7,...n7};function a7(t,e){return Hg(t,new Ln.classes.URLSearchParams,{visitor:function(n,r,s,i){return Ln.isNode&&ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function l7(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function c7(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function RR(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=i>=n.length;return a=!a&&ne.isArray(s)?s.length:a,d?(ne.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!ne.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&ne.isArray(s[a])&&(s[a]=c7(s[a])),!c)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const n={};return ne.forEachEntry(t,(r,s)=>{e(l7(r),s,n,0)}),n}return null}function u7(t,e,n){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const af={transitional:AR,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ne.isObject(e);if(i&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return s?JSON.stringify(RR(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return a7(e,this.formSerializer).toString();if((c=ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Hg(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),u7(e)):e}],transformResponse:[function(e){const n=this.transitional||af.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?et.from(c,et.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{af.headers[t]={}});const d7=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h7=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&d7[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},CT=Symbol("internals");function Pd(t){return t&&String(t).trim().toLowerCase()}function vp(t){return t===!1||t==null?t:ne.isArray(t)?t.map(vp):String(t)}function f7(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const m7=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function lx(t,e,n,r,s){if(ne.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!ne.isString(e)){if(ne.isString(r))return e.indexOf(r)!==-1;if(ne.isRegExp(r))return r.test(e)}}function p7(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function g7(t,e){const n=ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let yr=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(c,d,f){const m=Pd(d);if(!m)throw new Error("header name must be a non-empty string");const y=ne.findKey(s,m);(!y||s[y]===void 0||f===!0||f===void 0&&s[y]!==!1)&&(s[y||d]=vp(c))}const a=(c,d)=>ne.forEach(c,(f,m)=>i(f,m,d));if(ne.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(ne.isString(e)&&(e=e.trim())&&!m7(e))a(h7(e),n);else if(ne.isObject(e)&&ne.isIterable(e)){let c={},d,f;for(const m of e){if(!ne.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[f=m[0]]=(d=c[f])?ne.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}a(c,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Pd(e),e){const r=ne.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return f7(s);if(ne.isFunction(n))return n.call(this,s,r);if(ne.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Pd(e),e){const r=ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||lx(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=Pd(a),a){const c=ne.findKey(r,a);c&&(!n||lx(r,r[c],c,n))&&(delete r[c],s=!0)}}return ne.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||lx(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return ne.forEach(this,(s,i)=>{const a=ne.findKey(r,i);if(a){n[a]=vp(s),delete n[i];return}const c=e?p7(i):String(i).trim();c!==i&&delete n[i],n[c]=vp(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ne.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[CT]=this[CT]={accessors:{}}).accessors,s=this.prototype;function i(a){const c=Pd(a);r[c]||(g7(s,a),r[c]=!0)}return ne.isArray(e)?e.forEach(i):i(e),this}};yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(yr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ne.freezeMethods(yr);function cx(t,e){const n=this||af,r=e||n,s=yr.from(r.headers);let i=r.data;return ne.forEach(t,function(c){i=c.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function jR(t){return!!(t&&t.__CANCEL__)}function ju(t,e,n){et.call(this,t??"canceled",et.ERR_CANCELED,e,n),this.name="CanceledError"}ne.inherits(ju,et,{__CANCEL__:!0});function DR(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function y7(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function v7(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),m=r[i];a||(a=f),n[s]=d,r[s]=f;let y=i,v=0;for(;y!==s;)v+=n[y++],y=y%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),f-a<e)return;const b=m&&f-m;return b?Math.round(v*1e3/b):void 0}}function x7(t,e){let n=0,r=1e3/e,s,i;const a=(f,m=Date.now())=>{n=m,s=null,i&&(clearTimeout(i),i=null),t(...f)};return[(...f)=>{const m=Date.now(),y=m-n;y>=r?a(f,m):(s=f,i||(i=setTimeout(()=>{i=null,a(s)},r-y)))},()=>s&&a(s)]}const tg=(t,e,n=3)=>{let r=0;const s=v7(50,250);return x7(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,d=a-r,f=s(d),m=a<=c;r=a;const y={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&m?(c-a)/f:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(y)},n)},TT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},kT=t=>(...e)=>ne.asap(()=>t(...e)),w7=Ln.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ln.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,b7=Ln.hasStandardBrowserEnv?{write(t,e,n,r,s,i,a){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];ne.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),ne.isString(r)&&c.push(`path=${r}`),ne.isString(s)&&c.push(`domain=${s}`),i===!0&&c.push("secure"),ne.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _7(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function S7(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function MR(t,e,n){let r=!_7(e);return t&&(r||n==!1)?S7(t,e):e}const NT=t=>t instanceof yr?{...t}:t;function Tl(t,e){e=e||{};const n={};function r(f,m,y,v){return ne.isPlainObject(f)&&ne.isPlainObject(m)?ne.merge.call({caseless:v},f,m):ne.isPlainObject(m)?ne.merge({},m):ne.isArray(m)?m.slice():m}function s(f,m,y,v){if(ne.isUndefined(m)){if(!ne.isUndefined(f))return r(void 0,f,y,v)}else return r(f,m,y,v)}function i(f,m){if(!ne.isUndefined(m))return r(void 0,m)}function a(f,m){if(ne.isUndefined(m)){if(!ne.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function c(f,m,y){if(y in e)return r(f,m);if(y in t)return r(void 0,f)}const d={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,m,y)=>s(NT(f),NT(m),y,!0)};return ne.forEach(Object.keys({...t,...e}),function(m){const y=d[m]||s,v=y(t[m],e[m],m);ne.isUndefined(v)&&y!==c||(n[m]=v)}),n}const OR=t=>{const e=Tl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:c}=e;if(e.headers=a=yr.from(a),e.url=PR(MR(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ne.isFormData(n)){if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(ne.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,y])=>{f.includes(m.toLowerCase())&&a.set(m,y)})}}if(Ln.hasStandardBrowserEnv&&(r&&ne.isFunction(r)&&(r=r(e)),r||r!==!1&&w7(e.url))){const d=s&&i&&b7.read(i);d&&a.set(s,d)}return e},E7=typeof XMLHttpRequest<"u",C7=E7&&function(t){return new Promise(function(n,r){const s=OR(t);let i=s.data;const a=yr.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,m,y,v,b,T;function C(){b&&b(),T&&T(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function I(){if(!S)return;const R=yr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),F={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:R,config:t,request:S};DR(function(P){n(P),C()},function(P){r(P),C()},F),S=null}"onloadend"in S?S.onloadend=I:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(I)},S.onabort=function(){S&&(r(new et("Request aborted",et.ECONNABORTED,t,S)),S=null)},S.onerror=function(B){const F=B&&B.message?B.message:"Network Error",U=new et(F,et.ERR_NETWORK,t,S);U.event=B||null,r(U),S=null},S.ontimeout=function(){let B=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const F=s.transitional||AR;s.timeoutErrorMessage&&(B=s.timeoutErrorMessage),r(new et(B,F.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,t,S)),S=null},i===void 0&&a.setContentType(null),"setRequestHeader"in S&&ne.forEach(a.toJSON(),function(B,F){S.setRequestHeader(F,B)}),ne.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),c&&c!=="json"&&(S.responseType=s.responseType),f&&([v,T]=tg(f,!0),S.addEventListener("progress",v)),d&&S.upload&&([y,b]=tg(d),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(m=R=>{S&&(r(!R||R.type?new ju(null,t,S):R),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const A=y7(s.url);if(A&&Ln.protocols.indexOf(A)===-1){r(new et("Unsupported protocol "+A+":",et.ERR_BAD_REQUEST,t));return}S.send(i||null)})},T7=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(f){if(!s){s=!0,c();const m=f instanceof Error?f:this.reason;r.abort(m instanceof et?m:new ju(m instanceof Error?m.message:m))}};let a=e&&setTimeout(()=>{a=null,i(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>ne.asap(c),d}},k7=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},N7=async function*(t,e){for await(const n of I7(t))yield*k7(n,e)},I7=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},IT=(t,e,n,r)=>{const s=N7(t,e);let i=0,a,c=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await s.next();if(f){c(),d.close();return}let y=m.byteLength;if(n){let v=i+=y;n(v)}d.enqueue(new Uint8Array(m))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},PT=64*1024,{isFunction:Wm}=ne,P7=(({Request:t,Response:e})=>({Request:t,Response:e}))(ne.global),{ReadableStream:AT,TextEncoder:RT}=ne.global,jT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},A7=t=>{t=ne.merge.call({skipUndefined:!0},P7,t);const{fetch:e,Request:n,Response:r}=t,s=e?Wm(e):typeof fetch=="function",i=Wm(n),a=Wm(r);if(!s)return!1;const c=s&&Wm(AT),d=s&&(typeof RT=="function"?(T=>C=>T.encode(C))(new RT):async T=>new Uint8Array(await new n(T).arrayBuffer())),f=i&&c&&jT(()=>{let T=!1;const C=new n(Ln.origin,{body:new AT,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!C}),m=a&&c&&jT(()=>ne.isReadableStream(new r("").body)),y={stream:m&&(T=>T.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!y[T]&&(y[T]=(C,S)=>{let I=C&&C[T];if(I)return I.call(C);throw new et(`Response type '${T}' is not supported`,et.ERR_NOT_SUPPORT,S)})});const v=async T=>{if(T==null)return 0;if(ne.isBlob(T))return T.size;if(ne.isSpecCompliantForm(T))return(await new n(Ln.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(T)||ne.isArrayBuffer(T))return T.byteLength;if(ne.isURLSearchParams(T)&&(T=T+""),ne.isString(T))return(await d(T)).byteLength},b=async(T,C)=>{const S=ne.toFiniteNumber(T.getContentLength());return S??v(C)};return async T=>{let{url:C,method:S,data:I,signal:A,cancelToken:R,timeout:B,onDownloadProgress:F,onUploadProgress:U,responseType:P,headers:k,withCredentials:D="same-origin",fetchOptions:O}=OR(T),L=e||fetch;P=P?(P+"").toLowerCase():"text";let z=T7([A,R&&R.toAbortSignal()],B),M=null;const oe=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let ye;try{if(U&&f&&S!=="get"&&S!=="head"&&(ye=await b(k,I))!==0){let H=new n(C,{method:"POST",body:I,duplex:"half"}),re;if(ne.isFormData(I)&&(re=H.headers.get("content-type"))&&k.setContentType(re),H.body){const[me,we]=TT(ye,tg(kT(U)));I=IT(H.body,PT,me,we)}}ne.isString(D)||(D=D?"include":"omit");const he=i&&"credentials"in n.prototype,Z={...O,signal:z,method:S.toUpperCase(),headers:k.normalize().toJSON(),body:I,duplex:"half",credentials:he?D:void 0};M=i&&new n(C,Z);let $=await(i?L(M,O):L(C,Z));const X=m&&(P==="stream"||P==="response");if(m&&(F||X&&oe)){const H={};["status","statusText","headers"].forEach(Re=>{H[Re]=$[Re]});const re=ne.toFiniteNumber($.headers.get("content-length")),[me,we]=F&&TT(re,tg(kT(F),!0))||[];$=new r(IT($.body,PT,me,()=>{we&&we(),oe&&oe()}),H)}P=P||"text";let se=await y[ne.findKey(y,P)||"text"]($,T);return!X&&oe&&oe(),await new Promise((H,re)=>{DR(H,re,{data:se,headers:yr.from($.headers),status:$.status,statusText:$.statusText,config:T,request:M})})}catch(he){throw oe&&oe(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,T,M),{cause:he.cause||he}):et.from(he,he&&he.code,T,M)}}},R7=new Map,LR=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,c=a,d,f,m=R7;for(;c--;)d=i[c],f=m.get(d),f===void 0&&m.set(d,f=c?new Map:A7(e)),m=f;return f};LR();const Kb={http:Y$,xhr:C7,fetch:{get:LR}};ne.forEach(Kb,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const DT=t=>`- ${t}`,j7=t=>ne.isFunction(t)||t===null||t===!1;function D7(t,e){t=ne.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let c;if(s=r,!j7(r)&&(s=Kb[(c=String(r)).toLowerCase()],s===void 0))throw new et(`Unknown adapter '${c}'`);if(s&&(ne.isFunction(s)||(s=s.get(e))))break;i[c||"#"+a]=s}if(!s){const a=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(DT).join(`
`):" "+DT(a[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const FR={getAdapter:D7,adapters:Kb};function ux(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function MT(t){return ux(t),t.headers=yr.from(t.headers),t.data=cx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),FR.getAdapter(t.adapter||af.adapter,t)(t).then(function(r){return ux(t),r.data=cx.call(t,t.transformResponse,r),r.headers=yr.from(r.headers),r},function(r){return jR(r)||(ux(t),r&&r.response&&(r.response.data=cx.call(t,t.transformResponse,r.response),r.response.headers=yr.from(r.response.headers))),Promise.reject(r)})}const VR="1.13.2",Gg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Gg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const OT={};Gg.transitional=function(e,n,r){function s(i,a){return"[Axios v"+VR+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,c)=>{if(e===!1)throw new et(s(a," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!OT[a]&&(OT[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,c):!0}};Gg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function M7(t,e,n){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const c=t[i],d=c===void 0||a(c,i,t);if(d!==!0)throw new et("option "+i+" must be "+d,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+i,et.ERR_BAD_OPTION)}}const xp={assertOptions:M7,validators:Gg},Bs=xp.validators;let pl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ET,response:new ET}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Tl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&xp.assertOptions(r,{silentJSONParsing:Bs.transitional(Bs.boolean),forcedJSONParsing:Bs.transitional(Bs.boolean),clarifyTimeoutError:Bs.transitional(Bs.boolean)},!1),s!=null&&(ne.isFunction(s)?n.paramsSerializer={serialize:s}:xp.assertOptions(s,{encode:Bs.function,serialize:Bs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xp.assertOptions(n,{baseUrl:Bs.spelling("baseURL"),withXsrfToken:Bs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&ne.merge(i.common,i[n.method]);i&&ne.forEach(["delete","get","head","post","put","patch","common"],T=>{delete i[T]}),n.headers=yr.concat(a,i);const c=[];let d=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(d=d&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let m,y=0,v;if(!d){const T=[MT.bind(this),void 0];for(T.unshift(...c),T.push(...f),v=T.length,m=Promise.resolve(n);y<v;)m=m.then(T[y++],T[y++]);return m}v=c.length;let b=n;for(;y<v;){const T=c[y++],C=c[y++];try{b=T(b)}catch(S){C.call(this,S);break}}try{m=MT.call(this,b)}catch(T){return Promise.reject(T)}for(y=0,v=f.length;y<v;)m=m.then(f[y++],f[y++]);return m}getUri(e){e=Tl(this.defaults,e);const n=MR(e.baseURL,e.url,e.allowAbsoluteUrls);return PR(n,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){pl.prototype[e]=function(n,r){return this.request(Tl(r||{},{method:e,url:n,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function n(r){return function(i,a,c){return this.request(Tl(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}pl.prototype[e]=n(),pl.prototype[e+"Form"]=n(!0)});let O7=class BR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(c=>{r.subscribe(c),i=c}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,c){r.reason||(r.reason=new ju(i,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new BR(function(s){e=s}),cancel:e}}};function L7(t){return function(n){return t.apply(null,n)}}function F7(t){return ne.isObject(t)&&t.isAxiosError===!0}const H0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(H0).forEach(([t,e])=>{H0[e]=t});function UR(t){const e=new pl(t),n=vR(pl.prototype.request,e);return ne.extend(n,pl.prototype,e,{allOwnKeys:!0}),ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return UR(Tl(t,s))},n}const Zt=UR(af);Zt.Axios=pl;Zt.CanceledError=ju;Zt.CancelToken=O7;Zt.isCancel=jR;Zt.VERSION=VR;Zt.toFormData=Hg;Zt.AxiosError=et;Zt.Cancel=Zt.CanceledError;Zt.all=function(e){return Promise.all(e)};Zt.spread=L7;Zt.isAxiosError=F7;Zt.mergeConfig=Tl;Zt.AxiosHeaders=yr;Zt.formToJSON=t=>RR(ne.isHTMLForm(t)?new FormData(t):t);Zt.getAdapter=FR.getAdapter;Zt.HttpStatusCode=H0;Zt.default=Zt;const{Axios:Lne,AxiosError:Fne,CanceledError:Vne,isCancel:Bne,CancelToken:Une,VERSION:zne,all:$ne,Cancel:qne,isAxiosError:Wne,spread:Hne,toFormData:Gne,AxiosHeaders:Kne,HttpStatusCode:Yne,formToJSON:Qne,getAdapter:Xne,mergeConfig:Jne}=Zt;class V7 extends Error{constructor(e,n,r,s,i){super(e),this.name="Base44Error",this.status=n,this.code=r,this.data=s,this.originalError=i}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function B7(t){let{baseURL:e,headers:n={},token:r,requiresAuth:s=!1,appId:i,serverUrl:a}=t;const c=Zt.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return r&&(c.defaults.headers.common.Authorization=`Bearer ${r}`),c.interceptors.request.use((d=>(typeof window<"u"&&(d.headers={...d.headers,"X-Origin-URL":window.location.href}),d))),c.interceptors.response.use((d=>d.data),(d=>{var y,v,b,T,C,S,I,A,R,B;const f=((v=(y=d.response)==null?void 0:y.data)==null?void 0:v.message)||((T=(b=d.response)==null?void 0:b.data)==null?void 0:T.detail)||d.message,m=new V7(f,(C=d.response)==null?void 0:C.status,(I=(S=d.response)==null?void 0:S.data)==null?void 0:I.code,(A=d.response)==null?void 0:A.data,d);return console.log(s,(R=d.response)==null?void 0:R.status,typeof window<"u"),s&&((B=d.response)==null?void 0:B.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(F,U){if(typeof window>"u")return;const P=`${F}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${U}`;window.location.href=P})(a,i)}),100)),Promise.reject(m)})),c}function U7(t,e){return new Proxy({},{get(n,r){if(typeof r=="string"&&r!=="then"&&!r.startsWith("_"))return(function(s,i,a){const c=`/apps/${i}/entities/${a}`;return{async list(d,f,m,y){const v={};return d&&(v.sort=d),f&&(v.limit=f),m&&(v.skip=m),y&&(v.fields=Array.isArray(y)?y.join(","):y),s.get(c,{params:v})},async filter(d,f,m,y,v){const b={q:JSON.stringify(d)};return f&&(b.sort=f),m&&(b.limit=m),y&&(b.skip=y),v&&(b.fields=Array.isArray(v)?v.join(","):v),s.get(c,{params:b})},get:async d=>s.get(`${c}/${d}`),create:async d=>s.post(c,d),update:async(d,f)=>s.put(`${c}/${d}`,f),delete:async d=>s.delete(`${c}/${d}`),deleteMany:async d=>s.delete(c,{data:d}),bulkCreate:async d=>s.post(`${c}/bulk`,d),async importEntities(d){const f=new FormData;return f.append("file",d,d.name),s.post(`${c}/import`,f,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,r)}})}function z7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:r=!0,removeFromUrl:s=!0}=t;let i=null;if(typeof window<"u"&&window.location)try{const a=new URLSearchParams(window.location.search);if(i=a.get(n),i){if(r&&$7(i,{storageKey:e}),s){a.delete(n);const c=`${window.location.pathname}${a.toString()?`?${a.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,c)}return i}}catch(a){console.error("Error retrieving token from URL:",a)}if(typeof window<"u"&&window.localStorage)try{return i=window.localStorage.getItem(e),i}catch(a){console.error("Error retrieving token from localStorage:",a)}return null}function $7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(r){return console.error("Error saving token to localStorage:",r),!1}}function q7(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:r="prod",token:s,requiresAuth:i=!1}=t,a=B7({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":r},token:s,requiresAuth:i,appId:n,serverUrl:e}),c=U7(a,n),d=(function(m,y){return new Proxy({},{get(v,b){if(typeof b=="string"&&b!=="then"&&!b.startsWith("_"))return new Proxy({},{get(T,C){if(typeof C=="string"&&C!=="then"&&!C.startsWith("_"))return async S=>{if(typeof S=="string")throw new Error(`Integration ${C} must receive an object with named parameters, received: ${S}`);let I,A;return S instanceof FormData||S&&Object.values(S).some((R=>R instanceof File))?(I=new FormData,Object.keys(S).forEach((R=>{S[R]instanceof File?I.append(R,S[R],S[R].name):typeof S[R]=="object"&&S[R]!==null?I.append(R,JSON.stringify(S[R])):I.append(R,S[R])})),A="multipart/form-data"):(I=S,A="application/json"),b==="Core"?m.post(`/apps/${y}/integration-endpoints/Core/${C}`,I||S,{headers:{"Content-Type":A}}):m.post(`/apps/${y}/integration-endpoints/installable/${b}/integration-endpoints/${C}`,I||S,{headers:{"Content-Type":A}})}}})}})})(a,n),f=(function(m,y,v){return{me:async()=>m.get(`/apps/${y}/entities/User/me`),updateMe:async b=>m.put(`/apps/${y}/entities/User/me`,b),login(b){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const T=b||window.location.href,C=`${v}/login?from_url=${encodeURIComponent(T)}&app_id=${y}`;window.location.href=C},async logout(b){if(delete m.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(T){console.error("Failed to remove token from localStorage:",T)}return b&&typeof window<"u"&&(window.location.href=b),Promise.resolve()},setToken(b){let T=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(b&&(m.defaults.headers.common.Authorization=`Bearer ${b}`,T&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",b)}catch(C){console.error("Failed to save token to localStorage:",C)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(a,n,e);if(typeof window<"u"){const m=s||z7();m&&f.setToken(m)}return i&&typeof window<"u"&&setTimeout((async()=>{try{await f.isAuthenticated()||f.login(window.location.href)}catch(m){console.error("Authentication check failed:",m),f.login(window.location.href)}}),0),{entities:c,integrations:d,auth:f,setToken(m){f.setToken(m)},getConfig:()=>({serverUrl:e,appId:n,env:r,requiresAuth:i})}}const pu=q7({appId:"6922e5b0ed36c6ebd97761f8",requiresAuth:!1});function Et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function W7(t,e){const n=w.createContext(e),r=i=>{const{children:a,...c}=i,d=w.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:a})};r.displayName=t+"Provider";function s(i){const a=w.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function lf(t,e=[]){let n=[];function r(i,a){const c=w.createContext(a),d=n.length;n=[...n,a];const f=y=>{var I;const{scope:v,children:b,...T}=y,C=((I=v==null?void 0:v[t])==null?void 0:I[d])||c,S=w.useMemo(()=>T,Object.values(T));return u.jsx(C.Provider,{value:S,children:b})};f.displayName=i+"Provider";function m(y,v){var C;const b=((C=v==null?void 0:v[t])==null?void 0:C[d])||c,T=w.useContext(b);if(T)return T;if(a!==void 0)return a;throw new Error(`\`${y}\` must be used within \`${i}\``)}return[f,m]}const s=()=>{const i=n.map(a=>w.createContext(a));return function(c){const d=(c==null?void 0:c[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,H7(s,...e)]}function H7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:d,scopeName:f})=>{const y=d(i)[`__scope${f}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Bn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},G7=Mw[" useId ".trim().toString()]||(()=>{}),K7=0;function qc(t){const[e,n]=w.useState(G7());return Bn(()=>{n(r=>r??String(K7++))},[t]),e?`radix-${e}`:""}var Y7=Mw[" useInsertionEffect ".trim().toString()]||Bn;function ng({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=Q7({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const f=w.useCallback(m=>{var y;if(c){const v=X7(m)?m(t):m;v!==t&&((y=a.current)==null||y.call(a,v))}else i(m)},[c,t,i,a]);return[d,f]}function Q7({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return Y7(()=>{i.current=e},[e]),w.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function X7(t){return typeof t=="function"}function J7(t){const e=Z7(t),n=w.forwardRef((r,s)=>{const{children:i,...a}=r,c=w.Children.toArray(i),d=c.find(tq);if(d){const f=d.props.children,m=c.map(y=>y===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:y);return u.jsx(e,{...a,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Z7(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const a=rq(s),c=nq(i,s.props);return s.type!==w.Fragment&&(c.ref=r?Nu(r,a):a),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eq=Symbol("radix.slottable");function tq(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eq}function nq(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function rq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=sq.reduce((t,e)=>{const n=J7(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:a,...c}=s,d=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function iq(t,e){t&&Mh.flushSync(()=>t.dispatchEvent(e))}function kl(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function oq(t,e=globalThis==null?void 0:globalThis.document){const n=kl(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aq="DismissableLayer",G0="dismissableLayer.update",lq="dismissableLayer.pointerDownOutside",cq="dismissableLayer.focusOutside",LT,zR=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yb=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...d}=t,f=w.useContext(zR),[m,y]=w.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=w.useState({}),T=Ut(e,P=>y(P)),C=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),I=C.indexOf(S),A=m?C.indexOf(m):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,B=A>=I,F=hq(P=>{const k=P.target,D=[...f.branches].some(O=>O.contains(k));!B||D||(s==null||s(P),a==null||a(P),P.defaultPrevented||c==null||c())},v),U=fq(P=>{const k=P.target;[...f.branches].some(O=>O.contains(k))||(i==null||i(P),a==null||a(P),P.defaultPrevented||c==null||c())},v);return oq(P=>{A===f.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},v),w.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(LT=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),FT(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=LT)}},[m,v,n,f]),w.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),FT())},[m,f]),w.useEffect(()=>{const P=()=>b({});return document.addEventListener(G0,P),()=>document.removeEventListener(G0,P)},[]),u.jsx(_t.div,{...d,ref:T,style:{pointerEvents:R?B?"auto":"none":void 0,...t.style},onFocusCapture:Et(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Et(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Et(t.onPointerDownCapture,F.onPointerDownCapture)})});Yb.displayName=aq;var uq="DismissableLayerBranch",dq=w.forwardRef((t,e)=>{const n=w.useContext(zR),r=w.useRef(null),s=Ut(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(_t.div,{...t,ref:s})});dq.displayName=uq;function hq(t,e=globalThis==null?void 0:globalThis.document){const n=kl(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){$R(lq,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fq(t,e=globalThis==null?void 0:globalThis.document){const n=kl(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&$R(cq,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function FT(){const t=new CustomEvent(G0);document.dispatchEvent(t)}function $R(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?iq(s,i):s.dispatchEvent(i)}var dx="focusScope.autoFocusOnMount",hx="focusScope.autoFocusOnUnmount",VT={bubbles:!1,cancelable:!0},mq="FocusScope",Qb=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,d]=w.useState(null),f=kl(s),m=kl(i),y=w.useRef(null),v=Ut(e,C=>d(C)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let C=function(R){if(b.paused||!c)return;const B=R.target;c.contains(B)?y.current=B:Mo(y.current,{select:!0})},S=function(R){if(b.paused||!c)return;const B=R.relatedTarget;B!==null&&(c.contains(B)||Mo(y.current,{select:!0}))},I=function(R){if(document.activeElement===document.body)for(const F of R)F.removedNodes.length>0&&Mo(c)};document.addEventListener("focusin",C),document.addEventListener("focusout",S);const A=new MutationObserver(I);return c&&A.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",S),A.disconnect()}}},[r,c,b.paused]),w.useEffect(()=>{if(c){UT.add(b);const C=document.activeElement;if(!c.contains(C)){const I=new CustomEvent(dx,VT);c.addEventListener(dx,f),c.dispatchEvent(I),I.defaultPrevented||(pq(wq(qR(c)),{select:!0}),document.activeElement===C&&Mo(c))}return()=>{c.removeEventListener(dx,f),setTimeout(()=>{const I=new CustomEvent(hx,VT);c.addEventListener(hx,m),c.dispatchEvent(I),I.defaultPrevented||Mo(C??document.body,{select:!0}),c.removeEventListener(hx,m),UT.remove(b)},0)}}},[c,f,m,b]);const T=w.useCallback(C=>{if(!n&&!r||b.paused)return;const S=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,I=document.activeElement;if(S&&I){const A=C.currentTarget,[R,B]=gq(A);R&&B?!C.shiftKey&&I===B?(C.preventDefault(),n&&Mo(R,{select:!0})):C.shiftKey&&I===R&&(C.preventDefault(),n&&Mo(B,{select:!0})):I===A&&C.preventDefault()}},[n,r,b.paused]);return u.jsx(_t.div,{tabIndex:-1,...a,ref:v,onKeyDown:T})});Qb.displayName=mq;function pq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Mo(r,{select:e}),document.activeElement!==n)return}function gq(t){const e=qR(t),n=BT(e,t),r=BT(e.reverse(),t);return[n,r]}function qR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BT(t,e){for(const n of t)if(!yq(n,{upTo:e}))return n}function yq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vq(t){return t instanceof HTMLInputElement&&"select"in t}function Mo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vq(t)&&e&&t.select()}}var UT=xq();function xq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=zT(t,e),t.unshift(e)},remove(e){var n;t=zT(t,e),(n=t[0])==null||n.resume()}}}function zT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wq(t){return t.filter(e=>e.tagName!=="A")}var bq="Portal",Xb=w.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=w.useState(!1);Bn(()=>i(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?mI.createPortal(u.jsx(_t.div,{...r,ref:e}),a):null});Xb.displayName=bq;function _q(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var cf=t=>{const{present:e,children:n}=t,r=Sq(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=Ut(r.ref,Eq(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};cf.displayName="Presence";function Sq(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),a=t?"mounted":"unmounted",[c,d]=_q(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=Hm(r.current);i.current=c==="mounted"?f:"none"},[c]),Bn(()=>{const f=r.current,m=s.current;if(m!==t){const v=i.current,b=Hm(f);t?d("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(m&&v!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Bn(()=>{if(e){let f;const m=e.ownerDocument.defaultView??window,y=b=>{const C=Hm(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&C&&(d("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",f=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=b=>{b.target===e&&(i.current=Hm(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Hm(t){return(t==null?void 0:t.animationName)||"none"}function Eq(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fx=0;function WR(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$T()),document.body.insertAdjacentElement("beforeend",t[1]??$T()),fx++,()=>{fx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),fx--}},[])}function $T(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var wp="right-scroll-bar-position",bp="width-before-scroll-bar",Cq="with-scroll-bars-hidden",Tq="--removed-body-scroll-bar-size";function mx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kq(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Nq=typeof window<"u"?w.useLayoutEffect:w.useEffect,qT=new WeakMap;function Iq(t,e){var n=kq(null,function(r){return t.forEach(function(s){return mx(s,r)})});return Nq(function(){var r=qT.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||mx(c,null)}),i.forEach(function(c){s.has(c)||mx(c,a)})}qT.set(n,t)},[t]),n}function Pq(t){return t}function Aq(t,e){e===void 0&&(e=Pq);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var d=function(){var m=a;a=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(m){a.push(m),f()},filter:function(m){return a=a.filter(m),n}}}};return s}function Rq(t){t===void 0&&(t={});var e=Aq(null);return e.options=qs({async:!0,ssr:!1},t),e}var HR=function(t){var e=t.sideCar,n=Fh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,qs({},n))};HR.isSideCarExport=!0;function jq(t,e){return t.useMedium(e),HR}var GR=Rq(),px=function(){},Kg=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:px,onWheelCapture:px,onTouchMoveCapture:px}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,m=t.enabled,y=t.shards,v=t.sideCar,b=t.noRelative,T=t.noIsolation,C=t.inert,S=t.allowPinchZoom,I=t.as,A=I===void 0?"div":I,R=t.gapMode,B=Fh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=v,U=Iq([n,e]),P=qs(qs({},B),s);return w.createElement(w.Fragment,null,m&&w.createElement(F,{sideCar:GR,removeScrollBar:f,shards:y,noRelative:b,noIsolation:T,inert:C,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:R}),a?w.cloneElement(w.Children.only(c),qs(qs({},P),{ref:U})):w.createElement(A,qs({},P,{className:d,ref:U}),c))});Kg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kg.classNames={fullWidth:bp,zeroRight:wp};var Dq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Dq();return e&&t.setAttribute("nonce",e),t}function Oq(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lq(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fq=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mq())&&(Oq(e,n),Lq(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vq=function(){var t=Fq();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},KR=function(){var t=Vq(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Bq={left:0,top:0,right:0,gap:0},gx=function(t){return parseInt(t||"",10)||0},Uq=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[gx(n),gx(r),gx(s)]},zq=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Bq;var e=Uq(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$q=KR(),Wc="data-scroll-locked",qq=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Wc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(bp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(wp," .").concat(wp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bp," .").concat(bp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Wc,`] {
    `).concat(Tq,": ").concat(c,`px;
  }
`)},WT=function(){var t=parseInt(document.body.getAttribute(Wc)||"0",10);return isFinite(t)?t:0},Wq=function(){w.useEffect(function(){return document.body.setAttribute(Wc,(WT()+1).toString()),function(){var t=WT()-1;t<=0?document.body.removeAttribute(Wc):document.body.setAttribute(Wc,t.toString())}},[])},Hq=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Wq();var i=w.useMemo(function(){return zq(s)},[s]);return w.createElement($q,{styles:qq(i,!e,s,n?"":"!important")})},K0=!1;if(typeof window<"u")try{var Gm=Object.defineProperty({},"passive",{get:function(){return K0=!0,!0}});window.addEventListener("test",Gm,Gm),window.removeEventListener("test",Gm,Gm)}catch{K0=!1}var Ec=K0?{passive:!1}:!1,Gq=function(t){return t.tagName==="TEXTAREA"},YR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Gq(t)&&n[e]==="visible")},Kq=function(t){return YR(t,"overflowY")},Yq=function(t){return YR(t,"overflowX")},HT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QR(t,r);if(s){var i=XR(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qq=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Xq=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QR=function(t,e){return t==="v"?Kq(e):Yq(e)},XR=function(t,e){return t==="v"?Qq(e):Xq(e)},Jq=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zq=function(t,e,n,r,s){var i=Jq(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,d=e.contains(c),f=!1,m=a>0,y=0,v=0;do{if(!c)break;var b=XR(t,c),T=b[0],C=b[1],S=b[2],I=C-S-i*T;(T||I)&&QR(t,c)&&(y+=I,v+=T);var A=c.parentNode;c=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(v)<1)&&(f=!0),f},Km=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GT=function(t){return[t.deltaX,t.deltaY]},KT=function(t){return t&&"current"in t?t.current:t},eW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nW=0,Cc=[];function rW(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(nW++)[0],i=w.useState(KR)[0],a=w.useRef(t);w.useEffect(function(){a.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var C=PF([t.lockRef.current],(t.shards||[]).map(KT),!0).filter(Boolean);return C.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(C,S){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!a.current.allowPinchZoom;var I=Km(C),A=n.current,R="deltaX"in C?C.deltaX:A[0]-I[0],B="deltaY"in C?C.deltaY:A[1]-I[1],F,U=C.target,P=Math.abs(R)>Math.abs(B)?"h":"v";if("touches"in C&&P==="h"&&U.type==="range")return!1;var k=window.getSelection(),D=k&&k.anchorNode,O=D?D===U||D.contains(U):!1;if(O)return!1;var L=HT(P,U);if(!L)return!0;if(L?F=P:(F=P==="v"?"h":"v",L=HT(P,U)),!L)return!1;if(!r.current&&"changedTouches"in C&&(R||B)&&(r.current=F),!F)return!0;var z=r.current||F;return Zq(z,S,C,z==="h"?R:B)},[]),d=w.useCallback(function(C){var S=C;if(!(!Cc.length||Cc[Cc.length-1]!==i)){var I="deltaY"in S?GT(S):Km(S),A=e.current.filter(function(F){return F.name===S.type&&(F.target===S.target||S.target===F.shadowParent)&&eW(F.delta,I)})[0];if(A&&A.should){S.cancelable&&S.preventDefault();return}if(!A){var R=(a.current.shards||[]).map(KT).filter(Boolean).filter(function(F){return F.contains(S.target)}),B=R.length>0?c(S,R[0]):!a.current.noIsolation;B&&S.cancelable&&S.preventDefault()}}},[]),f=w.useCallback(function(C,S,I,A){var R={name:C,delta:S,target:I,should:A,shadowParent:sW(I)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(B){return B!==R})},1)},[]),m=w.useCallback(function(C){n.current=Km(C),r.current=void 0},[]),y=w.useCallback(function(C){f(C.type,GT(C),C.target,c(C,t.lockRef.current))},[]),v=w.useCallback(function(C){f(C.type,Km(C),C.target,c(C,t.lockRef.current))},[]);w.useEffect(function(){return Cc.push(i),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Ec),document.addEventListener("touchmove",d,Ec),document.addEventListener("touchstart",m,Ec),function(){Cc=Cc.filter(function(C){return C!==i}),document.removeEventListener("wheel",d,Ec),document.removeEventListener("touchmove",d,Ec),document.removeEventListener("touchstart",m,Ec)}},[]);var b=t.removeScrollBar,T=t.inert;return w.createElement(w.Fragment,null,T?w.createElement(i,{styles:tW(s)}):null,b?w.createElement(Hq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iW=jq(GR,rW);var Jb=w.forwardRef(function(t,e){return w.createElement(Kg,qs({},t,{ref:e,sideCar:iW}))});Jb.classNames=Kg.classNames;var oW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Tc=new WeakMap,Ym=new WeakMap,Qm={},yx=0,JR=function(t){return t&&(t.host||JR(t.parentNode))},aW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=JR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lW=function(t,e,n,r){var s=aW(e,Array.isArray(t)?t:[t]);Qm[n]||(Qm[n]=new WeakMap);var i=Qm[n],a=[],c=new Set,d=new Set(s),f=function(y){!y||c.has(y)||(c.add(y),f(y.parentNode))};s.forEach(f);var m=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(v){if(c.has(v))m(v);else try{var b=v.getAttribute(r),T=b!==null&&b!=="false",C=(Tc.get(v)||0)+1,S=(i.get(v)||0)+1;Tc.set(v,C),i.set(v,S),a.push(v),C===1&&T&&Ym.set(v,!0),S===1&&v.setAttribute(n,"true"),T||v.setAttribute(r,"true")}catch(I){console.error("aria-hidden: cannot operate on ",v,I)}})};return m(e),c.clear(),yx++,function(){a.forEach(function(y){var v=Tc.get(y)-1,b=i.get(y)-1;Tc.set(y,v),i.set(y,b),v||(Ym.has(y)||y.removeAttribute(r),Ym.delete(y)),b||y.removeAttribute(n)}),yx--,yx||(Tc=new WeakMap,Tc=new WeakMap,Ym=new WeakMap,Qm={})}},ZR=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=oW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),lW(r,s,n,"aria-hidden")):function(){return null}};function cW(t){const e=uW(t),n=w.forwardRef((r,s)=>{const{children:i,...a}=r,c=w.Children.toArray(i),d=c.find(hW);if(d){const f=d.props.children,m=c.map(y=>y===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:y);return u.jsx(e,{...a,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function uW(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const a=mW(s),c=fW(i,s.props);return s.type!==w.Fragment&&(c.ref=r?Nu(r,a):a),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dW=Symbol("radix.slottable");function hW(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dW}function fW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function mW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yg="Dialog",[e2]=lf(Yg),[pW,Ns]=e2(Yg),t2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,c=w.useRef(null),d=w.useRef(null),[f,m]=ng({prop:r,defaultProp:s??!1,onChange:i,caller:Yg});return u.jsx(pW,{scope:e,triggerRef:c,contentRef:d,contentId:qc(),titleId:qc(),descriptionId:qc(),open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(y=>!y),[m]),modal:a,children:n})};t2.displayName=Yg;var n2="DialogTrigger",r2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(n2,n),i=Ut(e,s.triggerRef);return u.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":t_(s.open),...r,ref:i,onClick:Et(t.onClick,s.onOpenToggle)})});r2.displayName=n2;var Zb="DialogPortal",[gW,s2]=e2(Zb,{forceMount:void 0}),i2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ns(Zb,e);return u.jsx(gW,{scope:e,forceMount:n,children:w.Children.map(r,a=>u.jsx(cf,{present:n||i.open,children:u.jsx(Xb,{asChild:!0,container:s,children:a})}))})};i2.displayName=Zb;var rg="DialogOverlay",o2=w.forwardRef((t,e)=>{const n=s2(rg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ns(rg,t.__scopeDialog);return i.modal?u.jsx(cf,{present:r||i.open,children:u.jsx(vW,{...s,ref:e})}):null});o2.displayName=rg;var yW=cW("DialogOverlay.RemoveScroll"),vW=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(rg,n);return u.jsx(Jb,{as:yW,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(_t.div,{"data-state":t_(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Nl="DialogContent",a2=w.forwardRef((t,e)=>{const n=s2(Nl,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ns(Nl,t.__scopeDialog);return u.jsx(cf,{present:r||i.open,children:i.modal?u.jsx(xW,{...s,ref:e}):u.jsx(wW,{...s,ref:e})})});a2.displayName=Nl;var xW=w.forwardRef((t,e)=>{const n=Ns(Nl,t.__scopeDialog),r=w.useRef(null),s=Ut(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return ZR(i)},[]),u.jsx(l2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Et(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Et(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:Et(t.onFocusOutside,i=>i.preventDefault())})}),wW=w.forwardRef((t,e)=>{const n=Ns(Nl,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return u.jsx(l2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,f;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),l2=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,c=Ns(Nl,n),d=w.useRef(null),f=Ut(e,d);return WR(),u.jsxs(u.Fragment,{children:[u.jsx(Qb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Yb,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":t_(c.open),...a,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(bW,{titleId:c.titleId}),u.jsx(SW,{contentRef:d,descriptionId:c.descriptionId})]})]})}),e_="DialogTitle",c2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(e_,n);return u.jsx(_t.h2,{id:s.titleId,...r,ref:e})});c2.displayName=e_;var u2="DialogDescription",d2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(u2,n);return u.jsx(_t.p,{id:s.descriptionId,...r,ref:e})});d2.displayName=u2;var h2="DialogClose",f2=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ns(h2,n);return u.jsx(_t.button,{type:"button",...r,ref:e,onClick:Et(t.onClick,()=>s.onOpenChange(!1))})});f2.displayName=h2;function t_(t){return t?"open":"closed"}var m2="DialogTitleWarning",[Zne,p2]=W7(m2,{contentName:Nl,titleName:e_,docsSlug:"dialog"}),bW=({titleId:t})=>{const e=p2(m2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},_W="DialogDescriptionWarning",SW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p2(_W).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},EW=t2,CW=r2,TW=i2,g2=o2,y2=a2,v2=c2,x2=d2,kW=f2;const la=EW,YT=CW,NW=TW,w2=w.forwardRef(({className:t,...e},n)=>u.jsx(g2,{ref:n,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));w2.displayName=g2.displayName;const Gi=w.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(NW,{children:[u.jsx(w2,{}),u.jsxs(y2,{ref:r,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(kW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx($c,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gi.displayName=y2.displayName;const Ki=({className:t,...e})=>u.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ki.displayName="DialogHeader";const Yi=w.forwardRef(({className:t,...e},n)=>u.jsx(v2,{ref:n,className:it("text-lg font-semibold leading-none tracking-tight",t),...e}));Yi.displayName=v2.displayName;const b2=w.forwardRef(({className:t,...e},n)=>u.jsx(x2,{ref:n,className:it("text-sm text-muted-foreground",t),...e}));b2.displayName=x2.displayName;function Y0({game:t,onClick:e}){return u.jsxs("div",{className:"relative h-64 overflow-hidden cursor-pointer group",onClick:e,children:[u.jsxs("div",{className:`absolute inset-0 ${t.locked?"grayscale":""}`,style:{background:t.gradient||t.bgColor},children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute w-32 h-32 rounded-full opacity-20 animate-pulse",style:{background:"rgba(255,255,255,0.3)",top:"10%",left:"10%",animationDelay:"0s"}}),u.jsx("div",{className:"absolute w-24 h-24 rounded-full opacity-20 animate-pulse",style:{background:"rgba(255,255,255,0.3)",bottom:"15%",right:"15%",animationDelay:"0.5s"}}),u.jsx("div",{className:"absolute w-16 h-16 rounded-full opacity-20 animate-pulse",style:{background:"rgba(255,255,255,0.3)",top:"50%",right:"30%",animationDelay:"1s"}})]}),u.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"20px 20px"}})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:`text-8xl transform transition-transform duration-300 group-hover:scale-110 ${t.locked?"grayscale":""}`,style:{filter:t.locked?"grayscale(100%)":"none"},children:t.emoji})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),t.locked&&u.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:u.jsx("div",{className:"bg-white/90 rounded-full p-4 shadow-lg",children:u.jsx(tf,{className:"w-10 h-10 text-gray-700"})})})]})}function _2(){var P;const[t,e]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(null),[a,c]=w.useState(null),[d,f]=w.useState(!1),[m,y]=w.useState(null),[v,b]=w.useState(null),[T,C]=w.useState([]);w.useEffect(()=>{const k=localStorage.getItem("finnquest_student")||localStorage.getItem("finquest_student"),D=localStorage.getItem("finnquest_teacher")||localStorage.getItem("finquest_teacher");k?y(JSON.parse(k)):D&&b(JSON.parse(D))},[]);const{data:S}=ra({queryKey:["teacher-unlocked",(m==null?void 0:m.teacher_id)||(v==null?void 0:v.id)],queryFn:async()=>{const k=(m==null?void 0:m.teacher_id)||(v==null?void 0:v.id);return k?(await pu.entities.Teacher.filter({id:k}))[0]:null},enabled:!!(m!=null&&m.teacher_id||v!=null&&v.id)});w.useEffect(()=>{S!=null&&S.unlocked_years&&C(S.unlocked_years)},[S]);const I=[{id:"ks1",title:"KS1",subtitle:"Key Stage 1",description:"Ages 5-7",gradient:"from-blue-400 to-cyan-400",years:["Year 1","Year 2"]},{id:"ks2",title:"KS2",subtitle:"Key Stage 2",description:"Ages 7-11",gradient:"from-indigo-400 to-blue-400",years:["Year 3","Year 4","Year 5","Year 6"]},{id:"ks3",title:"KS3",subtitle:"Key Stage 3",description:"Ages 11-14",gradient:"from-purple-400 to-indigo-400",years:["Year 7","Year 8","Year 9"]}],A=k=>T.includes(k),B=(()=>{const k={id:"moneyball-fc",title:"Moneyball FC",description:"You are in charge of all the decisions for a football club, from building a team to setting the financial information. Can you earn the most money at the end of a season? All 6 lessons run under one platform.",locked:!A("Year 6"),link:"https://moneyballfc.base44.app/home",emoji:"",gradient:"linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #3448C5 100%)"},D={id:"ice-cream-adventure",title:"Ice Cream Adventure",description:"Learn all about finances and running your own company whilst developing tasty ice cream delights!",locked:!1,emoji:"",gradient:"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #f97316 100%)",isGamePack:!0,subGames:[{id:"ice-cream-truck",title:"Ice Cream Truck",description:"Today you begin your ice cream truck adventure. Stick to your budget when setting up your business and earn as much money as possible to dominate the ice cream industry.",locked:!1,link:"https://icecreamtruck.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",freeDemo:!0},{id:"perfect-profits",title:"Perfect Profits",description:"Create 3 ice cream flavours, discover the most popular and set prices to maximise profit throughout this lesson.",locked:!A("Year 2"),link:"https://icecreamprofits.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{id:"read-the-market",title:"Read the Market",description:"Read what is selling and what is not. Use this to help a new ice cream truck maximise sales.",locked:!A("Year 2"),emoji:"",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},{id:"ice-cream-master",title:"Ice Cream Master",description:"Can you decide how to look after staff and make morally correct decisions to dominate the ice cream world?",locked:!A("Year 2"),emoji:"",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}]},O={id:"pizza-tycoon",title:"Pizza Tycoon",description:"Build your pizza empire from the ground up! Learn business skills while creating delicious pizzas.",locked:!1,emoji:"",gradient:"linear-gradient(135deg, #f97316 0%, #ef4444 50%, #dc2626 100%)",isGamePack:!0,subGames:[{id:"dough-dash",title:"Pizza Tycoon: Dough Dash",description:"Can you make smart decisions whilst sticking to your budget to open your first pizzeria? Balance needs and wants for the most profitable place.",locked:!1,link:"https://doughdash.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",freeDemo:!0},{id:"pizza-profits-pro",title:"Pizza Profits Pro",description:"Design 3 unique, tasty pizzas with the aim of finding out your signature dish. Set the prices, check the profits, then maximise how much you make with different strategies.",locked:!A("Year 5"),link:"https://pizzaprofit.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #eab308 0%, #f59e0b 100%)"},{id:"topping-trends",title:"Topping Trends",description:"What is hot and what is not? Read social media posts, graphs, charts and receipts to predict how much of each topping you should order.",locked:!A("Year 5"),link:"https://toppingtrends.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},{id:"michelin-manager",title:"Michelin Manager",description:"You have just got your first Michelin star! Does this mean you have the respect of your staff and customers though? Make tricky decisions to keep your reputation high.",locked:!A("Year 5"),link:"https://michelinmanager.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},{id:"pizza-pitch-perfect",title:"Pizza Pitch Perfect",description:"Apply all you have learnt and design your own pizzeria away from a game. Who can get the best rating?",locked:!A("Year 5"),link:"https://pitchperfect.base44.app/home",emoji:"",gradient:"linear-gradient(135deg, #ec4899 0%, #db2777 100%)"},{id:"delivery-dash",title:"Delivery Dash",description:"A fun way to end the topic. Take on your friends in a race to deliver the most pizzas!",locked:!A("Year 5"),link:"https://deliverydash.base44.app/",emoji:"",gradient:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)"}]};return{"Year 1":[],"Year 2":[D],"Year 3":[],"Year 4":[],"Year 5":[O],"Year 6":t==="home"?[k]:[],"Year 7":[],"Year 8":[],"Year 9":[]}})(),F=k=>{k.isGamePack?c(k):k.locked?f(!0):window.open(k.link,"_blank")},U=I.find(k=>k.id===n);return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20 min-h-screen",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t?n?s?a?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>c(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to ",s," Games"]})}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:a.title}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:a.description})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:a.subGames.map(k=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden",children:[u.jsx(Y0,{game:k,onClick:()=>F(k)}),u.jsxs(He,{className:"p-6 bg-white",children:[u.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"#3448C5"},children:k.title}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.description})]})]},k.id))})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>i(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Year Groups"]})}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:[s," Games"]}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Choose a game to play"})]}),((P=B[s])==null?void 0:P.length)>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10",children:B[s].map(k=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden",children:[u.jsx(Y0,{game:k,onClick:()=>F(k)}),u.jsxs(He,{className:"p-6 bg-white",children:[u.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"#3448C5"},children:k.title}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.description})]})]},k.id))}):u.jsx("div",{className:"text-center py-20",children:u.jsxs("p",{className:"text-xl text-gray-500",children:["No games available for ",s," yet. Check back soon!"]})})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>r(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Key Stages"]})}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:[U==null?void 0:U.title," - Choose Year Group"]}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Select the year group"})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:U==null?void 0:U.years.map(k=>{var D;return u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>i(k),children:[u.jsx("div",{className:`h-32 flex items-center justify-center bg-gradient-to-br ${U.gradient}`,children:u.jsx("h3",{className:"text-3xl font-bold text-white",children:k})}),u.jsx(He,{className:"p-4 text-center bg-white",children:u.jsxs("p",{className:"text-gray-600",children:[((D=B[k])==null?void 0:D.length)||0," games available"]})})]},k)})})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>e(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Selection"]})}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"Choose Your Key Stage"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Select the appropriate level"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10",children:I.map(k=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>r(k.id),children:[u.jsx("div",{className:`h-48 flex items-center justify-center bg-gradient-to-br ${k.gradient}`,children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-6xl font-bold text-white mb-2",children:k.title}),u.jsx("p",{className:"text-xl text-white/90",children:k.subtitle})]})}),u.jsx(He,{className:"p-8 text-center bg-white",children:u.jsx("p",{className:"text-2xl font-semibold",style:{color:"#3448C5"},children:k.description})})]},k.id))})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"Where are you playing?"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Select your environment"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 max-w-4xl mx-auto",children:[u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>e("school"),children:[u.jsx("div",{className:"h-48 flex items-center justify-center bg-gradient-to-br from-blue-400 to-cyan-400",children:u.jsx("span",{className:"text-8xl",children:""})}),u.jsxs(He,{className:"p-8 text-center bg-white",children:[u.jsx("h3",{className:"text-3xl font-bold mb-2",style:{color:"#3448C5"},children:"In School"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Classroom activities & lessons"})]})]}),u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>e("home"),children:[u.jsx("div",{className:"h-48 flex items-center justify-center bg-gradient-to-br from-purple-400 to-pink-400",children:u.jsx("span",{className:"text-8xl",children:""})}),u.jsxs(He,{className:"p-8 text-center bg-white",children:[u.jsx("h3",{className:"text-3xl font-bold mb-2",style:{color:"#3448C5"},children:"At Home"}),u.jsx("p",{className:"text-gray-600 mt-2",children:"Homework & extra practice"})]})]})]})]})})}),u.jsx(la,{open:d,onOpenChange:f,children:u.jsxs(Gi,{className:"sm:max-w-md",children:[u.jsx(Ki,{children:u.jsx(Yi,{className:"text-center text-2xl",style:{color:"#3448C5"},children:"Game Locked"})}),u.jsxs("div",{className:"text-center py-6",children:[u.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:u.jsx(tf,{className:"w-10 h-10 text-gray-600"})}),u.jsx("p",{className:"text-lg text-gray-700",children:"Contact FinnQuest to learn how to unlock this game."})]})]})}),u.jsx(wr,{})]})}const an=w.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:it("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));an.displayName="Input";const uf=w.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:it("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));uf.displayName="Textarea";function QT(t,[e,n]){return Math.min(n,Math.max(e,t))}function XT(t){const e=IW(t),n=w.forwardRef((r,s)=>{const{children:i,...a}=r,c=w.Children.toArray(i),d=c.find(AW);if(d){const f=d.props.children,m=c.map(y=>y===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:y);return u.jsx(e,{...a,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function IW(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const a=jW(s),c=RW(i,s.props);return s.type!==w.Fragment&&(c.ref=r?Nu(r,a):a),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var PW=Symbol("radix.slottable");function AW(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===PW}function RW(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jW(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function DW(t){const e=t+"CollectionProvider",[n,r]=lf(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=C=>{const{scope:S,children:I}=C,A=sn.useRef(null),R=sn.useRef(new Map).current;return u.jsx(s,{scope:S,itemMap:R,collectionRef:A,children:I})};a.displayName=e;const c=t+"CollectionSlot",d=XT(c),f=sn.forwardRef((C,S)=>{const{scope:I,children:A}=C,R=i(c,I),B=Ut(S,R.collectionRef);return u.jsx(d,{ref:B,children:A})});f.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",v=XT(m),b=sn.forwardRef((C,S)=>{const{scope:I,children:A,...R}=C,B=sn.useRef(null),F=Ut(S,B),U=i(m,I);return sn.useEffect(()=>(U.itemMap.set(B,{ref:B,...R}),()=>void U.itemMap.delete(B))),u.jsx(v,{[y]:"",ref:F,children:A})});b.displayName=m;function T(C){const S=i(t+"CollectionConsumer",C);return sn.useCallback(()=>{const A=S.collectionRef.current;if(!A)return[];const R=Array.from(A.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((U,P)=>R.indexOf(U.ref.current)-R.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:f,ItemSlot:b},T,r]}var MW=w.createContext(void 0);function OW(t){const e=w.useContext(MW);return t||e||"ltr"}const LW=["top","right","bottom","left"],ca=Math.min,Ir=Math.max,sg=Math.round,Xm=Math.floor,Zs=t=>({x:t,y:t}),FW={left:"right",right:"left",bottom:"top",top:"bottom"},VW={start:"end",end:"start"};function Q0(t,e,n){return Ir(t,ca(e,n))}function Qi(t,e){return typeof t=="function"?t(e):t}function Xi(t){return t.split("-")[0]}function Du(t){return t.split("-")[1]}function n_(t){return t==="x"?"y":"x"}function r_(t){return t==="y"?"height":"width"}const BW=new Set(["top","bottom"]);function Gs(t){return BW.has(Xi(t))?"y":"x"}function s_(t){return n_(Gs(t))}function UW(t,e,n){n===void 0&&(n=!1);const r=Du(t),s=s_(t),i=r_(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=ig(a)),[a,ig(a)]}function zW(t){const e=ig(t);return[X0(t),e,X0(e)]}function X0(t){return t.replace(/start|end/g,e=>VW[e])}const JT=["left","right"],ZT=["right","left"],$W=["top","bottom"],qW=["bottom","top"];function WW(t,e,n){switch(t){case"top":case"bottom":return n?e?ZT:JT:e?JT:ZT;case"left":case"right":return e?$W:qW;default:return[]}}function HW(t,e,n,r){const s=Du(t);let i=WW(Xi(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(X0)))),i}function ig(t){return t.replace(/left|right|bottom|top/g,e=>FW[e])}function GW(t){return{top:0,right:0,bottom:0,left:0,...t}}function S2(t){return typeof t!="number"?GW(t):{top:t,right:t,bottom:t,left:t}}function og(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ek(t,e,n){let{reference:r,floating:s}=t;const i=Gs(e),a=s_(e),c=r_(a),d=Xi(e),f=i==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,v=r[c]/2-s[c]/2;let b;switch(d){case"top":b={x:m,y:r.y-s.height};break;case"bottom":b={x:m,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-s.width,y};break;default:b={x:r.x,y:r.y}}switch(Du(e)){case"start":b[a]-=v*(n&&f?-1:1);break;case"end":b[a]+=v*(n&&f?-1:1);break}return b}const KW=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=ek(f,r,d),v=r,b={},T=0;for(let C=0;C<c.length;C++){const{name:S,fn:I}=c[C],{x:A,y:R,data:B,reset:F}=await I({x:m,y,initialPlacement:r,placement:v,strategy:s,middlewareData:b,rects:f,platform:a,elements:{reference:t,floating:e}});m=A??m,y=R??y,b={...b,[S]:{...b[S],...B}},F&&T<=50&&(T++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(f=F.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):F.rects),{x:m,y}=ek(f,v,d)),C=-1)}return{x:m,y,placement:v,strategy:s,middlewareData:b}};async function vh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:v=!1,padding:b=0}=Qi(e,t),T=S2(b),S=c[v?y==="floating"?"reference":"floating":y],I=og(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),A=y==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),B=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},F=og(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:A,offsetParent:R,strategy:d}):A);return{top:(I.top-F.top+T.top)/B.y,bottom:(F.bottom-I.bottom+T.bottom)/B.y,left:(I.left-F.left+T.left)/B.x,right:(F.right-I.right+T.right)/B.x}}const YW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:d}=e,{element:f,padding:m=0}=Qi(t,e)||{};if(f==null)return{};const y=S2(m),v={x:n,y:r},b=s_(s),T=r_(b),C=await a.getDimensions(f),S=b==="y",I=S?"top":"left",A=S?"bottom":"right",R=S?"clientHeight":"clientWidth",B=i.reference[T]+i.reference[b]-v[b]-i.floating[T],F=v[b]-i.reference[b],U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let P=U?U[R]:0;(!P||!await(a.isElement==null?void 0:a.isElement(U)))&&(P=c.floating[R]||i.floating[T]);const k=B/2-F/2,D=P/2-C[T]/2-1,O=ca(y[I],D),L=ca(y[A],D),z=O,M=P-C[T]-L,oe=P/2-C[T]/2+k,ye=Q0(z,oe,M),he=!d.arrow&&Du(s)!=null&&oe!==ye&&i.reference[T]/2-(oe<z?O:L)-C[T]/2<0,Z=he?oe<z?oe-z:oe-M:0;return{[b]:v[b]+Z,data:{[b]:ye,centerOffset:oe-ye-Z,...he&&{alignmentOffset:Z}},reset:he}}}),QW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:C=!0,...S}=Qi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const I=Xi(s),A=Gs(c),R=Xi(c)===c,B=await(d.isRTL==null?void 0:d.isRTL(f.floating)),F=v||(R||!C?[ig(c)]:zW(c)),U=T!=="none";!v&&U&&F.push(...HW(c,C,T,B));const P=[c,...F],k=await vh(e,S),D=[];let O=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&D.push(k[I]),y){const oe=UW(s,a,B);D.push(k[oe[0]],k[oe[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(oe=>oe<=0)){var L,z;const oe=(((L=i.flip)==null?void 0:L.index)||0)+1,ye=P[oe];if(ye&&(!(y==="alignment"?A!==Gs(ye):!1)||O.every($=>Gs($.placement)===A?$.overflows[0]>0:!0)))return{data:{index:oe,overflows:O},reset:{placement:ye}};let he=(z=O.filter(Z=>Z.overflows[0]<=0).sort((Z,$)=>Z.overflows[1]-$.overflows[1])[0])==null?void 0:z.placement;if(!he)switch(b){case"bestFit":{var M;const Z=(M=O.filter($=>{if(U){const X=Gs($.placement);return X===A||X==="y"}return!0}).map($=>[$.placement,$.overflows.filter(X=>X>0).reduce((X,se)=>X+se,0)]).sort(($,X)=>$[1]-X[1])[0])==null?void 0:M[0];Z&&(he=Z);break}case"initialPlacement":he=c;break}if(s!==he)return{reset:{placement:he}}}return{}}}};function tk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nk(t){return LW.some(e=>t[e]>=0)}const XW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Qi(t,e);switch(r){case"referenceHidden":{const i=await vh(e,{...s,elementContext:"reference"}),a=tk(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:nk(a)}}}case"escaped":{const i=await vh(e,{...s,altBoundary:!0}),a=tk(i,n.floating);return{data:{escapedOffsets:a,escaped:nk(a)}}}default:return{}}}}},E2=new Set(["left","top"]);async function JW(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Xi(n),c=Du(n),d=Gs(n)==="y",f=E2.has(a)?-1:1,m=i&&d?-1:1,y=Qi(e,t);let{mainAxis:v,crossAxis:b,alignmentAxis:T}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof T=="number"&&(b=c==="end"?T*-1:T),d?{x:b*m,y:v*f}:{x:v*f,y:b*m}}const ZW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,d=await JW(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:a}}}}},eH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:I,y:A}=S;return{x:I,y:A}}},...d}=Qi(t,e),f={x:n,y:r},m=await vh(e,d),y=Gs(Xi(s)),v=n_(y);let b=f[v],T=f[y];if(i){const S=v==="y"?"top":"left",I=v==="y"?"bottom":"right",A=b+m[S],R=b-m[I];b=Q0(A,b,R)}if(a){const S=y==="y"?"top":"left",I=y==="y"?"bottom":"right",A=T+m[S],R=T-m[I];T=Q0(A,T,R)}const C=c.fn({...e,[v]:b,[y]:T});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[v]:i,[y]:a}}}}}},tH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=Qi(t,e),m={x:n,y:r},y=Gs(s),v=n_(y);let b=m[v],T=m[y];const C=Qi(c,e),S=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const R=v==="y"?"height":"width",B=i.reference[v]-i.floating[R]+S.mainAxis,F=i.reference[v]+i.reference[R]-S.mainAxis;b<B?b=B:b>F&&(b=F)}if(f){var I,A;const R=v==="y"?"width":"height",B=E2.has(Xi(s)),F=i.reference[y]-i.floating[R]+(B&&((I=a.offset)==null?void 0:I[y])||0)+(B?0:S.crossAxis),U=i.reference[y]+i.reference[R]+(B?0:((A=a.offset)==null?void 0:A[y])||0)-(B?S.crossAxis:0);T<F?T=F:T>U&&(T=U)}return{[v]:b,[y]:T}}}},nH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:d=()=>{},...f}=Qi(t,e),m=await vh(e,f),y=Xi(s),v=Du(s),b=Gs(s)==="y",{width:T,height:C}=i.floating;let S,I;y==="top"||y==="bottom"?(S=y,I=v===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(I=y,S=v==="end"?"top":"bottom");const A=C-m.top-m.bottom,R=T-m.left-m.right,B=ca(C-m[S],A),F=ca(T-m[I],R),U=!e.middlewareData.shift;let P=B,k=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(k=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=A),U&&!v){const O=Ir(m.left,0),L=Ir(m.right,0),z=Ir(m.top,0),M=Ir(m.bottom,0);b?k=T-2*(O!==0||L!==0?O+L:Ir(m.left,m.right)):P=C-2*(z!==0||M!==0?z+M:Ir(m.top,m.bottom))}await d({...e,availableWidth:k,availableHeight:P});const D=await a.getDimensions(c.floating);return T!==D.width||C!==D.height?{reset:{rects:!0}}:{}}}};function Qg(){return typeof window<"u"}function Mu(t){return C2(t)?(t.nodeName||"").toLowerCase():"#document"}function Ar(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oi(t){var e;return(e=(C2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function C2(t){return Qg()?t instanceof Node||t instanceof Ar(t).Node:!1}function Ss(t){return Qg()?t instanceof Element||t instanceof Ar(t).Element:!1}function ri(t){return Qg()?t instanceof HTMLElement||t instanceof Ar(t).HTMLElement:!1}function rk(t){return!Qg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ar(t).ShadowRoot}const rH=new Set(["inline","contents"]);function df(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!rH.has(s)}const sH=new Set(["table","td","th"]);function iH(t){return sH.has(Mu(t))}const oH=[":popover-open",":modal"];function Xg(t){return oH.some(e=>{try{return t.matches(e)}catch{return!1}})}const aH=["transform","translate","scale","rotate","perspective"],lH=["transform","translate","scale","rotate","perspective","filter"],cH=["paint","layout","strict","content"];function i_(t){const e=o_(),n=Ss(t)?Es(t):t;return aH.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||lH.some(r=>(n.willChange||"").includes(r))||cH.some(r=>(n.contain||"").includes(r))}function uH(t){let e=ua(t);for(;ri(e)&&!gu(e);){if(i_(e))return e;if(Xg(e))return null;e=ua(e)}return null}function o_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dH=new Set(["html","body","#document"]);function gu(t){return dH.has(Mu(t))}function Es(t){return Ar(t).getComputedStyle(t)}function Jg(t){return Ss(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ua(t){if(Mu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rk(t)&&t.host||oi(t);return rk(e)?e.host:e}function T2(t){const e=ua(t);return gu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ri(e)&&df(e)?e:T2(e)}function xh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=T2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Ar(s);if(i){const c=J0(a);return e.concat(a,a.visualViewport||[],df(s)?s:[],c&&n?xh(c):[])}return e.concat(s,xh(s,[],n))}function J0(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function k2(t){const e=Es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ri(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=sg(n)!==i||sg(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function a_(t){return Ss(t)?t:t.contextElement}function Hc(t){const e=a_(t);if(!ri(e))return Zs(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=k2(e);let a=(i?sg(n.width):n.width)/r,c=(i?sg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const hH=Zs(0);function N2(t){const e=Ar(t);return!o_()||!e.visualViewport?hH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ar(t)?!1:e}function Il(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=a_(t);let a=Zs(1);e&&(r?Ss(r)&&(a=Hc(r)):a=Hc(t));const c=fH(i,n,r)?N2(i):Zs(0);let d=(s.left+c.x)/a.x,f=(s.top+c.y)/a.y,m=s.width/a.x,y=s.height/a.y;if(i){const v=Ar(i),b=r&&Ss(r)?Ar(r):r;let T=v,C=J0(T);for(;C&&r&&b!==T;){const S=Hc(C),I=C.getBoundingClientRect(),A=Es(C),R=I.left+(C.clientLeft+parseFloat(A.paddingLeft))*S.x,B=I.top+(C.clientTop+parseFloat(A.paddingTop))*S.y;d*=S.x,f*=S.y,m*=S.x,y*=S.y,d+=R,f+=B,T=Ar(C),C=J0(T)}}return og({width:m,height:y,x:d,y:f})}function Zg(t,e){const n=Jg(t).scrollLeft;return e?e.left+n:Il(oi(t)).left+n}function I2(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Zg(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function mH(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=oi(r),c=e?Xg(e.floating):!1;if(r===a||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Zs(1);const m=Zs(0),y=ri(r);if((y||!y&&!i)&&((Mu(r)!=="body"||df(a))&&(d=Jg(r)),ri(r))){const b=Il(r);f=Hc(r),m.x=b.x+r.clientLeft,m.y=b.y+r.clientTop}const v=a&&!y&&!i?I2(a,d):Zs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+m.x+v.x,y:n.y*f.y-d.scrollTop*f.y+m.y+v.y}}function pH(t){return Array.from(t.getClientRects())}function gH(t){const e=oi(t),n=Jg(t),r=t.ownerDocument.body,s=Ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Zg(t);const c=-n.scrollTop;return Es(r).direction==="rtl"&&(a+=Ir(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}const sk=25;function yH(t,e){const n=Ar(t),r=oi(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){i=s.width,a=s.height;const m=o_();(!m||m&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const f=Zg(r);if(f<=0){const m=r.ownerDocument,y=m.body,v=getComputedStyle(y),b=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,T=Math.abs(r.clientWidth-y.clientWidth-b);T<=sk&&(i-=T)}else f<=sk&&(i+=f);return{width:i,height:a,x:c,y:d}}const vH=new Set(["absolute","fixed"]);function xH(t,e){const n=Il(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ri(t)?Hc(t):Zs(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,d=s*i.x,f=r*i.y;return{width:a,height:c,x:d,y:f}}function ik(t,e,n){let r;if(e==="viewport")r=yH(t,n);else if(e==="document")r=gH(oi(t));else if(Ss(e))r=xH(e,n);else{const s=N2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return og(r)}function P2(t,e){const n=ua(t);return n===e||!Ss(n)||gu(n)?!1:Es(n).position==="fixed"||P2(n,e)}function wH(t,e){const n=e.get(t);if(n)return n;let r=xh(t,[],!1).filter(c=>Ss(c)&&Mu(c)!=="body"),s=null;const i=Es(t).position==="fixed";let a=i?ua(t):t;for(;Ss(a)&&!gu(a);){const c=Es(a),d=i_(a);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&vH.has(s.position)||df(a)&&!d&&P2(t,a))?r=r.filter(m=>m!==a):s=c,a=ua(a)}return e.set(t,r),r}function bH(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Xg(e)?[]:wH(e,this._c):[].concat(n),r],c=a[0],d=a.reduce((f,m)=>{const y=ik(e,m,s);return f.top=Ir(y.top,f.top),f.right=ca(y.right,f.right),f.bottom=ca(y.bottom,f.bottom),f.left=Ir(y.left,f.left),f},ik(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function _H(t){const{width:e,height:n}=k2(t);return{width:e,height:n}}function SH(t,e,n){const r=ri(e),s=oi(e),i=n==="fixed",a=Il(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=Zs(0);function f(){d.x=Zg(s)}if(r||!r&&!i)if((Mu(e)!=="body"||df(s))&&(c=Jg(e)),r){const b=Il(e,!0,i,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else s&&f();i&&!r&&s&&f();const m=s&&!r&&!i?I2(s,c):Zs(0),y=a.left+c.scrollLeft-d.x-m.x,v=a.top+c.scrollTop-d.y-m.y;return{x:y,y:v,width:a.width,height:a.height}}function vx(t){return Es(t).position==="static"}function ok(t,e){if(!ri(t)||Es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return oi(t)===n&&(n=n.ownerDocument.body),n}function A2(t,e){const n=Ar(t);if(Xg(t))return n;if(!ri(t)){let s=ua(t);for(;s&&!gu(s);){if(Ss(s)&&!vx(s))return s;s=ua(s)}return n}let r=ok(t,e);for(;r&&iH(r)&&vx(r);)r=ok(r,e);return r&&gu(r)&&vx(r)&&!i_(r)?n:r||uH(t)||n}const EH=async function(t){const e=this.getOffsetParent||A2,n=this.getDimensions,r=await n(t.floating);return{reference:SH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CH(t){return Es(t).direction==="rtl"}const TH={convertOffsetParentRelativeRectToViewportRelativeRect:mH,getDocumentElement:oi,getClippingRect:bH,getOffsetParent:A2,getElementRects:EH,getClientRects:pH,getDimensions:_H,getScale:Hc,isElement:Ss,isRTL:CH};function R2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function kH(t,e){let n=null,r;const s=oi(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=t.getBoundingClientRect(),{left:m,top:y,width:v,height:b}=f;if(c||e(),!v||!b)return;const T=Xm(y),C=Xm(s.clientWidth-(m+v)),S=Xm(s.clientHeight-(y+b)),I=Xm(m),R={rootMargin:-T+"px "+-C+"px "+-S+"px "+-I+"px",threshold:Ir(0,ca(1,d))||1};let B=!0;function F(U){const P=U[0].intersectionRatio;if(P!==d){if(!B)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!R2(f,t.getBoundingClientRect())&&a(),B=!1}try{n=new IntersectionObserver(F,{...R,root:s.ownerDocument})}catch{n=new IntersectionObserver(F,R)}n.observe(t)}return a(!0),i}function NH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=a_(t),m=s||i?[...f?xh(f):[],...xh(e)]:[];m.forEach(I=>{s&&I.addEventListener("scroll",n,{passive:!0}),i&&I.addEventListener("resize",n)});const y=f&&c?kH(f,n):null;let v=-1,b=null;a&&(b=new ResizeObserver(I=>{let[A]=I;A&&A.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var R;(R=b)==null||R.observe(e)})),n()}),f&&!d&&b.observe(f),b.observe(e));let T,C=d?Il(t):null;d&&S();function S(){const I=Il(t);C&&!R2(C,I)&&n(),C=I,T=requestAnimationFrame(S)}return n(),()=>{var I;m.forEach(A=>{s&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),y==null||y(),(I=b)==null||I.disconnect(),b=null,d&&cancelAnimationFrame(T)}}const IH=ZW,PH=eH,AH=QW,RH=nH,jH=XW,ak=YW,DH=tH,MH=(t,e,n)=>{const r=new Map,s={platform:TH,...n},i={...s.platform,_c:r};return KW(t,e,{...s,platform:i})};var OH=typeof document<"u",LH=function(){},_p=OH?w.useLayoutEffect:LH;function ag(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ag(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ag(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function j2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lk(t,e){const n=j2(t);return Math.round(e*n)/n}function xx(t){const e=w.useRef(t);return _p(()=>{e.current=t}),e}function FH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,b]=w.useState(r);ag(v,r)||b(r);const[T,C]=w.useState(null),[S,I]=w.useState(null),A=w.useCallback($=>{$!==U.current&&(U.current=$,C($))},[]),R=w.useCallback($=>{$!==P.current&&(P.current=$,I($))},[]),B=i||T,F=a||S,U=w.useRef(null),P=w.useRef(null),k=w.useRef(m),D=d!=null,O=xx(d),L=xx(s),z=xx(f),M=w.useCallback(()=>{if(!U.current||!P.current)return;const $={placement:e,strategy:n,middleware:v};L.current&&($.platform=L.current),MH(U.current,P.current,$).then(X=>{const se={...X,isPositioned:z.current!==!1};oe.current&&!ag(k.current,se)&&(k.current=se,Mh.flushSync(()=>{y(se)}))})},[v,e,n,L,z]);_p(()=>{f===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[f]);const oe=w.useRef(!1);_p(()=>(oe.current=!0,()=>{oe.current=!1}),[]),_p(()=>{if(B&&(U.current=B),F&&(P.current=F),B&&F){if(O.current)return O.current(B,F,M);M()}},[B,F,M,O,D]);const ye=w.useMemo(()=>({reference:U,floating:P,setReference:A,setFloating:R}),[A,R]),he=w.useMemo(()=>({reference:B,floating:F}),[B,F]),Z=w.useMemo(()=>{const $={position:n,left:0,top:0};if(!he.floating)return $;const X=lk(he.floating,m.x),se=lk(he.floating,m.y);return c?{...$,transform:"translate("+X+"px, "+se+"px)",...j2(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:X,top:se}},[n,c,he.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:M,refs:ye,elements:he,floatingStyles:Z}),[m,M,ye,he,Z])}const VH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?ak({element:r.current,padding:s}).fn(n):{}:r?ak({element:r,padding:s}).fn(n):{}}}},BH=(t,e)=>({...IH(t),options:[t,e]}),UH=(t,e)=>({...PH(t),options:[t,e]}),zH=(t,e)=>({...DH(t),options:[t,e]}),$H=(t,e)=>({...AH(t),options:[t,e]}),qH=(t,e)=>({...RH(t),options:[t,e]}),WH=(t,e)=>({...jH(t),options:[t,e]}),HH=(t,e)=>({...VH(t),options:[t,e]});var GH="Arrow",D2=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(_t.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});D2.displayName=GH;var KH=D2;function M2(t){const[e,n]=w.useState(void 0);return Bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;a=f.inlineSize,c=f.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var l_="Popper",[O2,L2]=lf(l_),[YH,F2]=O2(l_),V2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return u.jsx(YH,{scope:e,anchor:r,onAnchorChange:s,children:n})};V2.displayName=l_;var B2="PopperAnchor",U2=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=F2(B2,n),a=w.useRef(null),c=Ut(e,a),d=w.useRef(null);return w.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||a.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:u.jsx(_t.div,{...s,ref:c})});U2.displayName=B2;var c_="PopperContent",[QH,XH]=O2(c_),z2=w.forwardRef((t,e)=>{var de,Ne,Ve,Oe,Ye,Qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:v=!1,updatePositionStrategy:b="optimized",onPlaced:T,...C}=t,S=F2(c_,n),[I,A]=w.useState(null),R=Ut(e,Nt=>A(Nt)),[B,F]=w.useState(null),U=M2(B),P=(U==null?void 0:U.width)??0,k=(U==null?void 0:U.height)??0,D=r+(i!=="center"?"-"+i:""),O=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},L=Array.isArray(f)?f:[f],z=L.length>0,M={padding:O,boundary:L.filter(ZH),altBoundary:z},{refs:oe,floatingStyles:ye,placement:he,isPositioned:Z,middlewareData:$}=FH({strategy:"fixed",placement:D,whileElementsMounted:(...Nt)=>NH(...Nt,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[BH({mainAxis:s+k,alignmentAxis:a}),d&&UH({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?zH():void 0,...M}),d&&$H({...M}),qH({...M,apply:({elements:Nt,rects:Ot,availableWidth:Jn,availableHeight:Zn})=>{const{width:br,height:ai}=Ot.reference,er=Nt.floating.style;er.setProperty("--radix-popper-available-width",`${Jn}px`),er.setProperty("--radix-popper-available-height",`${Zn}px`),er.setProperty("--radix-popper-anchor-width",`${br}px`),er.setProperty("--radix-popper-anchor-height",`${ai}px`)}}),B&&HH({element:B,padding:c}),eG({arrowWidth:P,arrowHeight:k}),v&&WH({strategy:"referenceHidden",...M})]}),[X,se]=W2(he),H=kl(T);Bn(()=>{Z&&(H==null||H())},[Z,H]);const re=(de=$.arrow)==null?void 0:de.x,me=(Ne=$.arrow)==null?void 0:Ne.y,we=((Ve=$.arrow)==null?void 0:Ve.centerOffset)!==0,[Re,Ue]=w.useState();return Bn(()=>{I&&Ue(window.getComputedStyle(I).zIndex)},[I]),u.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:Z?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(Oe=$.transformOrigin)==null?void 0:Oe.x,(Ye=$.transformOrigin)==null?void 0:Ye.y].join(" "),...((Qe=$.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(QH,{scope:n,placedSide:X,onArrowChange:F,arrowX:re,arrowY:me,shouldHideArrow:we,children:u.jsx(_t.div,{"data-side":X,"data-align":se,...C,ref:R,style:{...C.style,animation:Z?void 0:"none"}})})})});z2.displayName=c_;var $2="PopperArrow",JH={top:"bottom",right:"left",bottom:"top",left:"right"},q2=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=XH($2,r),a=JH[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(KH,{...s,ref:n,style:{...s.style,display:"block"}})})});q2.displayName=$2;function ZH(t){return t!==null}var eG=t=>({name:"transformOrigin",options:t,fn(e){var S,I,A;const{placement:n,rects:r,middlewareData:s}=e,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=a?0:t.arrowWidth,d=a?0:t.arrowHeight,[f,m]=W2(n),y={start:"0%",center:"50%",end:"100%"}[m],v=(((I=s.arrow)==null?void 0:I.x)??0)+c/2,b=(((A=s.arrow)==null?void 0:A.y)??0)+d/2;let T="",C="";return f==="bottom"?(T=a?y:`${v}px`,C=`${-d}px`):f==="top"?(T=a?y:`${v}px`,C=`${r.floating.height+d}px`):f==="right"?(T=`${-d}px`,C=a?y:`${b}px`):f==="left"&&(T=`${r.floating.width+d}px`,C=a?y:`${b}px`),{data:{x:T,y:C}}}});function W2(t){const[e,n="center"]=t.split("-");return[e,n]}var tG=V2,nG=U2,rG=z2,sG=q2;function iG(t){const e=oG(t),n=w.forwardRef((r,s)=>{const{children:i,...a}=r,c=w.Children.toArray(i),d=c.find(lG);if(d){const f=d.props.children,m=c.map(y=>y===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:y);return u.jsx(e,{...a,ref:s,children:w.isValidElement(f)?w.cloneElement(f,void 0,m):null})}return u.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function oG(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const a=uG(s),c=cG(i,s.props);return s.type!==w.Fragment&&(c.ref=r?Nu(r,a):a),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aG=Symbol("radix.slottable");function lG(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aG}function cG(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function uG(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function H2(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var G2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dG="VisuallyHidden",hG=w.forwardRef((t,e)=>u.jsx(_t.span,{...t,ref:e,style:{...G2,...t.style}}));hG.displayName=dG;var fG=[" ","Enter","ArrowUp","ArrowDown"],mG=[" ","Enter"],Pl="Select",[ey,ty,pG]=DW(Pl),[Ou]=lf(Pl,[pG,L2]),ny=L2(),[gG,ya]=Ou(Pl),[yG,vG]=Ou(Pl),K2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:y,disabled:v,required:b,form:T}=t,C=ny(e),[S,I]=w.useState(null),[A,R]=w.useState(null),[B,F]=w.useState(!1),U=OW(f),[P,k]=ng({prop:r,defaultProp:s??!1,onChange:i,caller:Pl}),[D,O]=ng({prop:a,defaultProp:c,onChange:d,caller:Pl}),L=w.useRef(null),z=S?T||!!S.closest("form"):!0,[M,oe]=w.useState(new Set),ye=Array.from(M).map(he=>he.props.value).join(";");return u.jsx(tG,{...C,children:u.jsxs(gG,{required:b,scope:e,trigger:S,onTriggerChange:I,valueNode:A,onValueNodeChange:R,valueNodeHasChildren:B,onValueNodeHasChildrenChange:F,contentId:qc(),value:D,onValueChange:O,open:P,onOpenChange:k,dir:U,triggerPointerDownPosRef:L,disabled:v,children:[u.jsx(ey.Provider,{scope:e,children:u.jsx(yG,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(he=>{oe(Z=>new Set(Z).add(he))},[]),onNativeOptionRemove:w.useCallback(he=>{oe(Z=>{const $=new Set(Z);return $.delete(he),$})},[]),children:n})}),z?u.jsxs(vj,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:y,value:D,onChange:he=>O(he.target.value),disabled:v,form:T,children:[D===void 0?u.jsx("option",{value:""}):null,Array.from(M)]},ye):null]})})};K2.displayName=Pl;var Y2="SelectTrigger",Q2=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=ny(n),a=ya(Y2,n),c=a.disabled||r,d=Ut(e,a.onTriggerChange),f=ty(n),m=w.useRef("touch"),[y,v,b]=wj(C=>{const S=f().filter(R=>!R.disabled),I=S.find(R=>R.value===a.value),A=bj(S,C,I);A!==void 0&&a.onValueChange(A.value)}),T=C=>{c||(a.onOpenChange(!0),b()),C&&(a.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return u.jsx(nG,{asChild:!0,...i,children:u.jsx(_t.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":xj(a.value)?"":void 0,...s,ref:d,onClick:Et(s.onClick,C=>{C.currentTarget.focus(),m.current!=="mouse"&&T(C)}),onPointerDown:Et(s.onPointerDown,C=>{m.current=C.pointerType;const S=C.target;S.hasPointerCapture(C.pointerId)&&S.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(T(C),C.preventDefault())}),onKeyDown:Et(s.onKeyDown,C=>{const S=y.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&v(C.key),!(S&&C.key===" ")&&fG.includes(C.key)&&(T(),C.preventDefault())})})})});Q2.displayName=Y2;var X2="SelectValue",J2=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...c}=t,d=ya(X2,n),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,y=Ut(e,d.onValueNodeChange);return Bn(()=>{f(m)},[f,m]),u.jsx(_t.span,{...c,ref:y,style:{pointerEvents:"none"},children:xj(d.value)?u.jsx(u.Fragment,{children:a}):i})});J2.displayName=X2;var xG="SelectIcon",Z2=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(_t.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});Z2.displayName=xG;var wG="SelectPortal",ej=t=>u.jsx(Xb,{asChild:!0,...t});ej.displayName=wG;var Al="SelectContent",tj=w.forwardRef((t,e)=>{const n=ya(Al,t.__scopeSelect),[r,s]=w.useState();if(Bn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Mh.createPortal(u.jsx(nj,{scope:t.__scopeSelect,children:u.jsx(ey.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(rj,{...t,ref:e})});tj.displayName=Al;var ms=10,[nj,va]=Ou(Al),bG="SelectContentImpl",_G=iG("SelectContent.RemoveScroll"),rj=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:b,sticky:T,hideWhenDetached:C,avoidCollisions:S,...I}=t,A=ya(Al,n),[R,B]=w.useState(null),[F,U]=w.useState(null),P=Ut(e,de=>B(de)),[k,D]=w.useState(null),[O,L]=w.useState(null),z=ty(n),[M,oe]=w.useState(!1),ye=w.useRef(!1);w.useEffect(()=>{if(R)return ZR(R)},[R]),WR();const he=w.useCallback(de=>{const[Ne,...Ve]=z().map(Qe=>Qe.ref.current),[Oe]=Ve.slice(-1),Ye=document.activeElement;for(const Qe of de)if(Qe===Ye||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===Ne&&F&&(F.scrollTop=0),Qe===Oe&&F&&(F.scrollTop=F.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==Ye))return},[z,F]),Z=w.useCallback(()=>he([k,R]),[he,k,R]);w.useEffect(()=>{M&&Z()},[M,Z]);const{onOpenChange:$,triggerPointerDownPosRef:X}=A;w.useEffect(()=>{if(R){let de={x:0,y:0};const Ne=Oe=>{var Ye,Qe;de={x:Math.abs(Math.round(Oe.pageX)-(((Ye=X.current)==null?void 0:Ye.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Qe=X.current)==null?void 0:Qe.y)??0))}},Ve=Oe=>{de.x<=10&&de.y<=10?Oe.preventDefault():R.contains(Oe.target)||$(!1),document.removeEventListener("pointermove",Ne),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[R,$,X]),w.useEffect(()=>{const de=()=>$(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[$]);const[se,H]=wj(de=>{const Ne=z().filter(Ye=>!Ye.disabled),Ve=Ne.find(Ye=>Ye.ref.current===document.activeElement),Oe=bj(Ne,de,Ve);Oe&&setTimeout(()=>Oe.ref.current.focus())}),re=w.useCallback((de,Ne,Ve)=>{const Oe=!ye.current&&!Ve;(A.value!==void 0&&A.value===Ne||Oe)&&(D(de),Oe&&(ye.current=!0))},[A.value]),me=w.useCallback(()=>R==null?void 0:R.focus(),[R]),we=w.useCallback((de,Ne,Ve)=>{const Oe=!ye.current&&!Ve;(A.value!==void 0&&A.value===Ne||Oe)&&L(de)},[A.value]),Re=r==="popper"?Z0:sj,Ue=Re===Z0?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:y,collisionBoundary:v,collisionPadding:b,sticky:T,hideWhenDetached:C,avoidCollisions:S}:{};return u.jsx(nj,{scope:n,content:R,viewport:F,onViewportChange:U,itemRefCallback:re,selectedItem:k,onItemLeave:me,itemTextRefCallback:we,focusSelectedItem:Z,selectedItemText:O,position:r,isPositioned:M,searchRef:se,children:u.jsx(Jb,{as:_G,allowPinchZoom:!0,children:u.jsx(Qb,{asChild:!0,trapped:A.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Et(s,de=>{var Ne;(Ne=A.trigger)==null||Ne.focus({preventScroll:!0}),de.preventDefault()}),children:u.jsx(Yb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:u.jsx(Re,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:de=>de.preventDefault(),...I,...Ue,onPlaced:()=>oe(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...I.style},onKeyDown:Et(I.onKeyDown,de=>{const Ne=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ne&&de.key.length===1&&H(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Oe=z().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Ye=de.target,Qe=Oe.indexOf(Ye);Oe=Oe.slice(Qe+1)}setTimeout(()=>he(Oe)),de.preventDefault()}})})})})})})});rj.displayName=bG;var SG="SelectItemAlignedPosition",sj=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ya(Al,n),a=va(Al,n),[c,d]=w.useState(null),[f,m]=w.useState(null),y=Ut(e,P=>m(P)),v=ty(n),b=w.useRef(!1),T=w.useRef(!0),{viewport:C,selectedItem:S,selectedItemText:I,focusSelectedItem:A}=a,R=w.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&C&&S&&I){const P=i.trigger.getBoundingClientRect(),k=f.getBoundingClientRect(),D=i.valueNode.getBoundingClientRect(),O=I.getBoundingClientRect();if(i.dir!=="rtl"){const Ye=O.left-k.left,Qe=D.left-Ye,Nt=P.left-Qe,Ot=P.width+Nt,Jn=Math.max(Ot,k.width),Zn=window.innerWidth-ms,br=QT(Qe,[ms,Math.max(ms,Zn-Jn)]);c.style.minWidth=Ot+"px",c.style.left=br+"px"}else{const Ye=k.right-O.right,Qe=window.innerWidth-D.right-Ye,Nt=window.innerWidth-P.right-Qe,Ot=P.width+Nt,Jn=Math.max(Ot,k.width),Zn=window.innerWidth-ms,br=QT(Qe,[ms,Math.max(ms,Zn-Jn)]);c.style.minWidth=Ot+"px",c.style.right=br+"px"}const L=v(),z=window.innerHeight-ms*2,M=C.scrollHeight,oe=window.getComputedStyle(f),ye=parseInt(oe.borderTopWidth,10),he=parseInt(oe.paddingTop,10),Z=parseInt(oe.borderBottomWidth,10),$=parseInt(oe.paddingBottom,10),X=ye+he+M+$+Z,se=Math.min(S.offsetHeight*5,X),H=window.getComputedStyle(C),re=parseInt(H.paddingTop,10),me=parseInt(H.paddingBottom,10),we=P.top+P.height/2-ms,Re=z-we,Ue=S.offsetHeight/2,de=S.offsetTop+Ue,Ne=ye+he+de,Ve=X-Ne;if(Ne<=we){const Ye=L.length>0&&S===L[L.length-1].ref.current;c.style.bottom="0px";const Qe=f.clientHeight-C.offsetTop-C.offsetHeight,Nt=Math.max(Re,Ue+(Ye?me:0)+Qe+Z),Ot=Ne+Nt;c.style.height=Ot+"px"}else{const Ye=L.length>0&&S===L[0].ref.current;c.style.top="0px";const Nt=Math.max(we,ye+C.offsetTop+(Ye?re:0)+Ue)+Ve;c.style.height=Nt+"px",C.scrollTop=Ne-we+C.offsetTop}c.style.margin=`${ms}px 0`,c.style.minHeight=se+"px",c.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[v,i.trigger,i.valueNode,c,f,C,S,I,i.dir,r]);Bn(()=>R(),[R]);const[B,F]=w.useState();Bn(()=>{f&&F(window.getComputedStyle(f).zIndex)},[f]);const U=w.useCallback(P=>{P&&T.current===!0&&(R(),A==null||A(),T.current=!1)},[R,A]);return u.jsx(CG,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:U,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:u.jsx(_t.div,{...s,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});sj.displayName=SG;var EG="SelectPopperPosition",Z0=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ms,...i}=t,a=ny(n);return u.jsx(rG,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Z0.displayName=EG;var[CG,u_]=Ou(Al,{}),ew="SelectViewport",ij=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=va(ew,n),a=u_(ew,n),c=Ut(e,i.onViewportChange),d=w.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(ey.Slot,{scope:n,children:u.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Et(s.onScroll,f=>{const m=f.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:v}=a;if(v!=null&&v.current&&y){const b=Math.abs(d.current-m.scrollTop);if(b>0){const T=window.innerHeight-ms*2,C=parseFloat(y.style.minHeight),S=parseFloat(y.style.height),I=Math.max(C,S);if(I<T){const A=I+b,R=Math.min(T,A),B=A-R;y.style.height=R+"px",y.style.bottom==="0px"&&(m.scrollTop=B>0?B:0,y.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});ij.displayName=ew;var oj="SelectGroup",[TG,kG]=Ou(oj),NG=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=qc();return u.jsx(TG,{scope:n,id:s,children:u.jsx(_t.div,{role:"group","aria-labelledby":s,...r,ref:e})})});NG.displayName=oj;var aj="SelectLabel",lj=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=kG(aj,n);return u.jsx(_t.div,{id:s.id,...r,ref:e})});lj.displayName=aj;var lg="SelectItem",[IG,cj]=Ou(lg),uj=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,c=ya(lg,n),d=va(lg,n),f=c.value===r,[m,y]=w.useState(i??""),[v,b]=w.useState(!1),T=Ut(e,A=>{var R;return(R=d.itemRefCallback)==null?void 0:R.call(d,A,r,s)}),C=qc(),S=w.useRef("touch"),I=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(IG,{scope:n,value:r,disabled:s,textId:C,isSelected:f,onItemTextChange:w.useCallback(A=>{y(R=>R||((A==null?void 0:A.textContent)??"").trim())},[]),children:u.jsx(ey.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:u.jsx(_t.div,{role:"option","aria-labelledby":C,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:T,onFocus:Et(a.onFocus,()=>b(!0)),onBlur:Et(a.onBlur,()=>b(!1)),onClick:Et(a.onClick,()=>{S.current!=="mouse"&&I()}),onPointerUp:Et(a.onPointerUp,()=>{S.current==="mouse"&&I()}),onPointerDown:Et(a.onPointerDown,A=>{S.current=A.pointerType}),onPointerMove:Et(a.onPointerMove,A=>{var R;S.current=A.pointerType,s?(R=d.onItemLeave)==null||R.call(d):S.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(a.onPointerLeave,A=>{var R;A.currentTarget===document.activeElement&&((R=d.onItemLeave)==null||R.call(d))}),onKeyDown:Et(a.onKeyDown,A=>{var B;((B=d.searchRef)==null?void 0:B.current)!==""&&A.key===" "||(mG.includes(A.key)&&I(),A.key===" "&&A.preventDefault())})})})})});uj.displayName=lg;var Ud="SelectItemText",dj=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=ya(Ud,n),c=va(Ud,n),d=cj(Ud,n),f=vG(Ud,n),[m,y]=w.useState(null),v=Ut(e,I=>y(I),d.onItemTextChange,I=>{var A;return(A=c.itemTextRefCallback)==null?void 0:A.call(c,I,d.value,d.disabled)}),b=m==null?void 0:m.textContent,T=w.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:C,onNativeOptionRemove:S}=f;return Bn(()=>(C(T),()=>S(T)),[C,S,T]),u.jsxs(u.Fragment,{children:[u.jsx(_t.span,{id:d.textId,...i,ref:v}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Mh.createPortal(i.children,a.valueNode):null]})});dj.displayName=Ud;var hj="SelectItemIndicator",fj=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return cj(hj,n).isSelected?u.jsx(_t.span,{"aria-hidden":!0,...r,ref:e}):null});fj.displayName=hj;var tw="SelectScrollUpButton",mj=w.forwardRef((t,e)=>{const n=va(tw,t.__scopeSelect),r=u_(tw,t.__scopeSelect),[s,i]=w.useState(!1),a=Ut(e,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(gj,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});mj.displayName=tw;var nw="SelectScrollDownButton",pj=w.forwardRef((t,e)=>{const n=va(nw,t.__scopeSelect),r=u_(nw,t.__scopeSelect),[s,i]=w.useState(!1),a=Ut(e,r.onScrollButtonChange);return Bn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(gj,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});pj.displayName=nw;var gj=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=va("SelectScrollButton",n),a=w.useRef(null),c=ty(n),d=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Bn(()=>{var m;const f=c().find(y=>y.ref.current===document.activeElement);(m=f==null?void 0:f.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),u.jsx(_t.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Et(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Et(s.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Et(s.onPointerLeave,()=>{d()})})}),PG="SelectSeparator",yj=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(_t.div,{"aria-hidden":!0,...r,ref:e})});yj.displayName=PG;var rw="SelectArrow",AG=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ny(n),i=ya(rw,n),a=va(rw,n);return i.open&&a.position==="popper"?u.jsx(sG,{...s,...r,ref:e}):null});AG.displayName=rw;var RG="SelectBubbleInput",vj=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=w.useRef(null),i=Ut(r,s),a=H2(e);return w.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&m){const y=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(y)}},[a,e]),u.jsx(_t.select,{...n,style:{...G2,...n.style},ref:i,defaultValue:e})});vj.displayName=RG;function xj(t){return t===""||t===void 0}function wj(t){const e=kl(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(a=>{const c=n.current+a;e(c),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function bj(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=jG(t,Math.max(i,0));s.length===1&&(a=a.filter(f=>f!==n));const d=a.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function jG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var DG=K2,_j=Q2,MG=J2,OG=Z2,LG=ej,Sj=tj,FG=ij,Ej=lj,Cj=uj,VG=dj,BG=fj,Tj=mj,kj=pj,Nj=yj;const d_=DG,h_=MG,ry=w.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(_j,{ref:r,className:it("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(OG,{asChild:!0,children:u.jsx(Lb,{className:"h-4 w-4 opacity-50"})})]}));ry.displayName=_j.displayName;const Ij=w.forwardRef(({className:t,...e},n)=>u.jsx(Tj,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(f8,{className:"h-4 w-4"})}));Ij.displayName=Tj.displayName;const Pj=w.forwardRef(({className:t,...e},n)=>u.jsx(kj,{ref:n,className:it("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Lb,{className:"h-4 w-4"})}));Pj.displayName=kj.displayName;const sy=w.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(LG,{children:u.jsxs(Sj,{ref:s,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Ij,{}),u.jsx(FG,{className:it("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(Pj,{})]})}));sy.displayName=Sj.displayName;const UG=w.forwardRef(({className:t,...e},n)=>u.jsx(Ej,{ref:n,className:it("px-2 py-1.5 text-sm font-semibold",t),...e}));UG.displayName=Ej.displayName;const nl=w.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Cj,{ref:r,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(BG,{children:u.jsx(OA,{className:"h-4 w-4"})})}),u.jsx(VG,{children:e})]}));nl.displayName=Cj.displayName;const zG=w.forwardRef(({className:t,...e},n)=>u.jsx(Nj,{ref:n,className:it("-mx-1 my-1 h-px bg-muted",t),...e}));zG.displayName=Nj.displayName;var $G=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qG=$G.reduce((t,e)=>{const n=WA(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:a,...c}=s,d=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),WG="Label",Aj=w.forwardRef((t,e)=>u.jsx(qG.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Aj.displayName=WG;var Rj=Aj;const HG=zg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),zd=w.forwardRef(({className:t,...e},n)=>u.jsx(Rj,{ref:n,className:it(HG(),t),...e}));zd.displayName=Rj.displayName;function jj(){const[t,e]=w.useState({name:"",email:"",purpose:"",message:""}),[n,r]=w.useState(!1),[s,i]=w.useState(null),a=async c=>{c.preventDefault(),r(!0),i(null);try{await pu.integrations.Core.SendEmail({to:"benhpritchard2024@gmail.com",subject:`FinnQuest Contact Form: ${t.purpose}`,body:`
Name: ${t.name}
Email: ${t.email}
Purpose: ${t.purpose}

Message:
${t.message}
        `}),i("success"),e({name:"",email:"",purpose:"",message:""})}catch{i("error")}finally{r(!1)}};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"Get In Touch"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"We'd love to hear from you. Send us a message!"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[u.jsxs(Be,{className:"rounded-3xl shadow-xl border-0",children:[u.jsx(Vi,{className:"p-8",children:u.jsx(Bi,{className:"text-3xl font-bold",style:{color:"#3448C5"},children:"Send Us a Message"})}),u.jsx(He,{className:"p-8 pt-0",children:u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(zd,{htmlFor:"name",children:"Name"}),u.jsx(an,{id:"name",value:t.name,onChange:c=>e({...t,name:c.target.value}),required:!0,className:"rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zd,{htmlFor:"email",children:"Email"}),u.jsx(an,{id:"email",type:"email",value:t.email,onChange:c=>e({...t,email:c.target.value}),required:!0,className:"rounded-xl"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zd,{htmlFor:"purpose",children:"Purpose"}),u.jsxs(d_,{value:t.purpose,onValueChange:c=>e({...t,purpose:c}),required:!0,children:[u.jsx(ry,{className:"rounded-xl",children:u.jsx(h_,{placeholder:"Select purpose"})}),u.jsxs(sy,{children:[u.jsx(nl,{value:"Schools",children:"Schools"}),u.jsx(nl,{value:"Home",children:"Home"}),u.jsx(nl,{value:"Tutoring Company",children:"Tutoring Company"}),u.jsx(nl,{value:"Other",children:"Other"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(zd,{htmlFor:"message",children:"Message"}),u.jsx(uf,{id:"message",value:t.message,onChange:c=>e({...t,message:c.target.value}),required:!0,rows:6,className:"rounded-xl"})]}),s==="success"&&u.jsx("div",{className:"p-4 rounded-xl bg-green-100 text-green-800",children:"Message sent successfully! We'll get back to you soon."}),s==="error"&&u.jsx("div",{className:"p-4 rounded-xl bg-red-100 text-red-800",children:"Failed to send message. Please try again."}),u.jsx(Ge,{type:"submit",disabled:n,className:"w-full rounded-full py-6 text-lg font-semibold shadow-lg hover:shadow-xl transition-all",style:{backgroundColor:"#FFB68B",color:"#1a1a1a"},children:n?"Sending...":u.jsxs(u.Fragment,{children:[u.jsx(o9,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsx(Be,{className:"rounded-3xl shadow-xl border-0",children:u.jsxs(He,{className:"p-8",children:[u.jsx("h3",{className:"text-2xl font-bold mb-6",style:{color:"#3448C5"},children:"Contact Details"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xl font-bold mb-2",style:{color:"#3448C5"},children:"Ben Pritchard"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Founder"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#35D0BA"},children:u.jsx(H8,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),u.jsx("a",{href:"tel:+971585327459",className:"text-lg font-semibold hover:text-[#3448C5] transition-colors",children:"+971 58 532 7459"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#35D0BA"},children:u.jsx(V8,{className:"w-6 h-6 text-white"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),u.jsx("a",{href:"mailto:benhpritchard2024@gmail.com",className:"text-lg font-semibold hover:text-[#3448C5] transition-colors break-all",children:"benhpritchard2024@gmail.com"})]})]})]})]})}),u.jsx(Be,{className:"rounded-3xl shadow-xl border-0",children:u.jsxs(He,{className:"p-8",children:[u.jsx("h3",{className:"text-2xl font-bold mb-6",style:{color:"#3448C5"},children:"Follow Us"}),u.jsxs("div",{className:"flex gap-6",children:[u.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all transform hover:scale-110",style:{backgroundColor:"#FFB68B"},children:u.jsx(I8,{className:"w-8 h-8 text-white"})}),u.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"w-16 h-16 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all transform hover:scale-110",style:{backgroundColor:"#3448C5"},children:u.jsx(b8,{className:"w-8 h-8 text-white"})})]})]})})]})]})]})}),u.jsx(wr,{})]})}function Dj(){const t=[{icon:Vb,title:"Schools / Curriculum Leaders",points:["Whole-school implementation & CPD","6-week innovation projects","Competitions and enrichment events","Inspection-ready impact data","Professional development resources"]},{icon:Yp,title:"Teachers & Tutors",points:["Curriculum-aligned, ready-to-teach games","Printable PDFs, PowerPoints, worksheets","Class packs, assessments, and competitions","Tutor frameworks and differentiation support"]},{icon:BA,title:"Parents & Students",points:["Home-learning game access","Printable learning packs & video guides","Real-world money skills through play","Independent or family challenges"]},{icon:fu,title:"Tutors / Learning Centres",points:["Structured group learning packs","Game frameworks for small-group tutoring","Competition templates and local leaderboards","Tools to extend innovation and financial skills"]}],e=[{icon:Ug,title:"Game-Based Learning",description:"Every concept is taught through interactive gameplay, where students make decisions, solve challenges, and learn by doing."},{icon:Kp,title:"Curriculum-Aligned Resources",description:"Each game comes with ready-to-teach lesson packs  PowerPoints, worksheets, assessments, and teacher guidance  fully aligned to national and international curricula."},{icon:fu,title:"Teacher-Led Design",description:"Built by educators, for educators. Every activity is classroom-tested, inspection-friendly, and created to save planning time while increasing engagement."},{icon:VA,title:"Cross-Context Learning",description:"Designed for schools, tutors, and home learners, making financial literacy accessible anywhere  from group lessons to individual study."},{icon:s8,title:"Real-World Application",description:"Students connect money, business, and entrepreneurship to everyday decision-making, building confidence and critical-thinking skills they'll use for life."}];return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"From Classroom to Boardroom"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700 mb-8 max-w-4xl mx-auto",children:"Making financial literacy the most engaging lesson of the week."}),u.jsx("p",{className:"text-lg text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"We design curriculum-aligned, game-based experiences that bring money, business, and decision-making to life  helping teachers deliver meaningful, high-impact lessons that prepare students for the financial realities of tomorrow."})]}),u.jsxs("div",{className:"bg-gradient-to-r from-[#3448C5] to-[#35D0BA] rounded-3xl p-8 md:p-12 mb-16 text-center",children:[u.jsx("p",{className:"text-xl md:text-2xl text-white italic font-medium",children:'"Our vision is to help create a world where every student leaves school financially confident and ready for the real world."'}),u.jsx("p",{className:"text-white/80 mt-4 font-semibold",children:"Practical. Engaging. Built for classrooms."})]}),u.jsxs("div",{className:"mb-20",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-4",style:{color:"#3448C5"},children:"Who are we for?"}),u.jsx("p",{className:"text-lg text-gray-600 text-center mb-12 max-w-3xl mx-auto",children:"Our ecosystem reaches classrooms, homes, and tutoring centres  equipping educators and learners with the tools to make money education meaningful and engaging."}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((n,r)=>u.jsx(Be,{className:"rounded-3xl shadow-lg border-0 overflow-hidden",children:u.jsxs(He,{className:"p-8",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center",style:{backgroundColor:"#3448C5"},children:u.jsx(n.icon,{className:"w-7 h-7 text-white"})}),u.jsx("h3",{className:"text-xl font-bold",style:{color:"#3448C5"},children:n.title})]}),u.jsx("ul",{className:"space-y-3",children:n.points.map((s,i)=>u.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[u.jsx("span",{className:"text-[#35D0BA] mt-1",children:""}),s]},i))})]})},r))})]}),u.jsx("div",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-lg mb-20 text-center",children:u.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed",children:"FinnQuest is the complete financial-literacy ecosystem for schools, teachers, tutors, and families  combining game-based learning, curriculum alignment, and real-world relevance to make money education practical, engaging, and future-focused."})}),u.jsxs("div",{className:"mb-20",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center mb-12",style:{color:"#3448C5"},children:"What Makes Us Different"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>u.jsx(Be,{className:"rounded-3xl shadow-lg border-0 overflow-hidden hover:shadow-xl transition-shadow",children:u.jsxs(He,{className:"p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6",style:{backgroundColor:"#35D0BA"},children:u.jsx(n.icon,{className:"w-8 h-8 text-white"})}),u.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#3448C5"},children:n.title}),u.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]})},r))})]}),u.jsxs("div",{className:"bg-gradient-to-r from-[#3448C5] to-[#35D0BA] rounded-3xl p-8 md:p-12",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center text-white mb-8",children:"Meet the Founder"}),u.jsx("div",{className:"bg-white rounded-2xl p-8 md:p-10",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[u.jsxs("div",{className:"flex-shrink-0 text-center",children:[u.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/62925f300_ben-pritchard.jpg",alt:"Ben Pritchard",className:"w-48 h-48 md:w-56 md:h-56 rounded-2xl object-cover shadow-lg mx-auto"}),u.jsxs("div",{className:"mt-6",children:[u.jsx("p",{className:"text-sm font-semibold text-gray-500 mb-3",children:"QUICK FACTS"}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("span",{className:"bg-gray-100 px-4 py-2 rounded-full text-sm text-gray-700",children:" Yorkshire Dales"}),u.jsx("span",{className:"bg-gray-100 px-4 py-2 rounded-full text-sm text-gray-700",children:" Liverpool FC"}),u.jsx("span",{className:"bg-gray-100 px-4 py-2 rounded-full text-sm text-gray-700",children:" Sports Enthusiast"}),u.jsx("span",{className:"bg-gray-100 px-4 py-2 rounded-full text-sm text-gray-700",children:" Avid Reader"}),u.jsx("span",{className:"bg-gray-100 px-4 py-2 rounded-full text-sm text-gray-700",children:" Cat Lover"})]})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-2",style:{color:"#3448C5"},children:"Ben Pritchard"}),u.jsx("p",{className:"text-[#35D0BA] font-semibold mb-4",children:"Founder & Creator"}),u.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[u.jsx("p",{children:"Ben Pritchard is a dedicated primary school educator with 15 years of classroom experience spanning the UK and the UAE. After beginning his teaching career in North Yorkshire, Ben relocated to Dubai in 2013, where he has since worked across three international schools  first as a classroom teacher covering Year 1 through Year 6, and most recently as a STEM specialist."}),u.jsx("p",{children:"Ben is a highly-rated STEM educator whose classroom practice has been recognized as Outstanding across three consecutive KHDA and BSO inspections. He is committed to driving educational progress and plays a key role in supporting school's digital innovation initiatives that contribute to the UAE's National Agenda."}),u.jsxs("p",{children:["His passion for financial literacy and entrepreneurship grew from his STEM teaching, where he witnessed first-hand the transformative impact of lessons that were relevant, engaging, and purposeful. A pivotal moment came during a cross-curricular project linked to the novel ",u.jsx("em",{children:"Wonder"}),", in which students spent six lessons collaborating to design and pitch a company creating helmets for individuals like the book's protagonist, Auggie. Watching students develop real-world skills through meaningful, hands-on learning convinced Ben that the current curriculum was in need of change."]}),u.jsx("p",{children:"Over the past 18 months, Ben has taught himself to design and develop educational games, refining his vision of what children truly need to learn before they leave school. This journey led to the creation of FinnQuest  a project he couldn't be more passionate about."})]})]})]})})]})]})}),u.jsx(wr,{})]})}function pt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Rr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Kn(t,e){const n=pt(t);return isNaN(e)?Rr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Cs(t,e){const n=pt(t);if(isNaN(e))return Rr(t,NaN);if(!e)return n;const r=n.getDate(),s=Rr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const f_=6048e5,GG=864e5;let KG={};function hf(){return KG}function si(t,e){var c,d,f,m;const n=hf(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,s=pt(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Rl(t){return si(t,{weekStartsOn:1})}function Mj(t){const e=pt(t),n=e.getFullYear(),r=Rr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Rl(r),i=Rr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Rl(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function yu(t){const e=pt(t);return e.setHours(0,0,0,0),e}function cg(t){const e=pt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ks(t,e){const n=yu(t),r=yu(e),s=+n-cg(n),i=+r-cg(r);return Math.round((s-i)/GG)}function YG(t){const e=Mj(t),n=Rr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Rl(n)}function sw(t,e){const n=e*7;return Kn(t,n)}function QG(t,e){return Cs(t,e*12)}function XG(t){let e;return t.forEach(function(n){const r=pt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function JG(t){let e;return t.forEach(n=>{const r=pt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function mr(t,e){const n=yu(t),r=yu(e);return+n==+r}function m_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZG(t){if(!m_(t)&&typeof t!="number")return!1;const e=pt(t);return!isNaN(Number(e))}function wh(t,e){const n=pt(t),r=pt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function eK(t,e,n){const r=si(t,n),s=si(e,n),i=+r-cg(r),a=+s-cg(s);return Math.round((i-a)/f_)}function p_(t){const e=pt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function vr(t){const e=pt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Oj(t){const e=pt(t),n=Rr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function g_(t,e){var c,d,f,m;const n=hf(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,s=pt(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function Lj(t){return g_(t,{weekStartsOn:1})}const tK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nK=(t,e,n)=>{let r;const s=tK[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const rK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oK={date:wx({formats:rK,defaultWidth:"full"}),time:wx({formats:sK,defaultWidth:"full"}),dateTime:wx({formats:iK,defaultWidth:"full"})},aK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lK=(t,e,n,r)=>aK[t];function Ad(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):a;s=t.formattingValues[c]||t.formattingValues[a]}else{const a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const cK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gK={ordinalNumber:pK,era:Ad({values:cK,defaultWidth:"wide"}),quarter:Ad({values:uK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:dK,defaultWidth:"wide"}),day:Ad({values:hK,defaultWidth:"wide"}),dayPeriod:Ad({values:fK,defaultWidth:"wide",formattingValues:mK,defaultFormattingWidth:"wide"})};function Rd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?vK(c,y=>y.test(a)):yK(c,y=>y.test(a));let f;f=t.valueCallback?t.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(a.length);return{value:f,rest:m}}}function yK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function vK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function xK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const c=e.slice(s.length);return{value:a,rest:c}}}const wK=/^(\d+)(th|st|nd|rd)?/i,bK=/\d+/i,_K={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SK={any:[/^b/i,/^(a|c)/i]},EK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CK={any:[/1/i,/2/i,/3/i,/4/i]},TK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RK={ordinalNumber:xK({matchPattern:wK,parsePattern:bK,valueCallback:t=>parseInt(t,10)}),era:Rd({matchPatterns:_K,defaultMatchWidth:"wide",parsePatterns:SK,defaultParseWidth:"any"}),quarter:Rd({matchPatterns:EK,defaultMatchWidth:"wide",parsePatterns:CK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Rd({matchPatterns:TK,defaultMatchWidth:"wide",parsePatterns:kK,defaultParseWidth:"any"}),day:Rd({matchPatterns:NK,defaultMatchWidth:"wide",parsePatterns:IK,defaultParseWidth:"any"}),dayPeriod:Rd({matchPatterns:PK,defaultMatchWidth:"any",parsePatterns:AK,defaultParseWidth:"any"})},Fj={code:"en-US",formatDistance:nK,formatLong:oK,formatRelative:lK,localize:gK,match:RK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jK(t){const e=pt(t);return Ks(e,Oj(e))+1}function Vj(t){const e=pt(t),n=+Rl(e)-+YG(e);return Math.round(n/f_)+1}function Bj(t,e){var m,y,v,b;const n=pt(t),r=n.getFullYear(),s=hf(),i=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((b=(v=s.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,a=Rr(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const c=si(a,e),d=Rr(t,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const f=si(d,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function DK(t,e){var c,d,f,m;const n=hf(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,s=Bj(t,e),i=Rr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),si(i,e)}function Uj(t,e){const n=pt(t),r=+si(n,e)-+DK(n,e);return Math.round(r/f_)+1}function wt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const jo={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return wt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wt(n+1,2)},d(t,e){return wt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wt(t.getHours()%12||12,e.length)},H(t,e){return wt(t.getHours(),e.length)},m(t,e){return wt(t.getMinutes(),e.length)},s(t,e){return wt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return wt(s,e.length)}},kc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ck={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return jo.y(t,e)},Y:function(t,e,n,r){const s=Bj(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return wt(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):wt(i,e.length)},R:function(t,e){const n=Mj(t);return wt(n,e.length)},u:function(t,e){const n=t.getFullYear();return wt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return wt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return wt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return jo.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return wt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Uj(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):wt(s,e.length)},I:function(t,e,n){const r=Vj(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):wt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jo.d(t,e)},D:function(t,e,n){const r=jK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return wt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return wt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return wt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=kc.noon:r===0?s=kc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=kc.evening:r>=12?s=kc.afternoon:r>=4?s=kc.morning:s=kc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return jo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jo.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jo.s(t,e)},S:function(t,e){return jo.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return dk(r);case"XXXX":case"XX":return Qa(r);case"XXXXX":case"XXX":default:return Qa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return dk(r);case"xxxx":case"xx":return Qa(r);case"xxxxx":case"xxx":default:return Qa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+uk(r,":");case"OOOO":default:return"GMT"+Qa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+uk(r,":");case"zzzz":default:return"GMT"+Qa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return wt(r,e.length)},T:function(t,e,n){const r=t.getTime();return wt(r,e.length)}};function uk(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+wt(i,2)}function dk(t,e){return t%60===0?(t>0?"-":"+")+wt(Math.abs(t)/60,2):Qa(t,e)}function Qa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=wt(Math.trunc(r/60),2),i=wt(r%60,2);return n+s+e+i}const hk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},MK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return hk(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",hk(r,e)).replace("{{time}}",zj(s,e))},OK={p:zj,P:MK},LK=/^D+$/,FK=/^Y+$/,VK=["D","DD","YY","YYYY"];function BK(t){return LK.test(t)}function UK(t){return FK.test(t)}function zK(t,e,n){const r=$K(t,e,n);if(console.warn(r),VK.includes(t))throw new RangeError(r)}function $K(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HK=/^'([^]*?)'?$/,GK=/''/g,KK=/[a-zA-Z]/;function xs(t,e,n){var m,y,v,b,T,C,S,I;const r=hf(),s=(n==null?void 0:n.locale)??r.locale??Fj,i=(n==null?void 0:n.firstWeekContainsDate)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(v=r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((C=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((I=(S=r.locale)==null?void 0:S.options)==null?void 0:I.weekStartsOn)??0,c=pt(t);if(!ZG(c))throw new RangeError("Invalid time value");let d=e.match(WK).map(A=>{const R=A[0];if(R==="p"||R==="P"){const B=OK[R];return B(A,s.formatLong)}return A}).join("").match(qK).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const R=A[0];if(R==="'")return{isToken:!1,value:YK(A)};if(ck[R])return{isToken:!0,value:A};if(R.match(KK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:A}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return d.map(A=>{if(!A.isToken)return A.value;const R=A.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&UK(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&BK(R))&&zK(R,e,String(t));const B=ck[R[0]];return B(c,R,s.localize,f)}).join("")}function YK(t){const e=t.match(HK);return e?e[1].replace(GK,"'"):t}function QK(t){const e=pt(t),n=e.getFullYear(),r=e.getMonth(),s=Rr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function XK(t){return Math.trunc(+pt(t)/1e3)}function JK(t){const e=pt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function ZK(t,e){return eK(JK(t),vr(t),e)+1}function iw(t,e){const n=pt(t),r=pt(e);return n.getTime()>r.getTime()}function $j(t,e){const n=pt(t),r=pt(e);return+n<+r}function y_(t,e){const n=pt(t),r=pt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function eY(t,e){const n=pt(t),r=pt(e);return n.getFullYear()===r.getFullYear()}function bx(t,e){return Kn(t,-e)}function _x(t,e){const n=pt(t),r=n.getFullYear(),s=n.getDate(),i=Rr(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const a=QK(i);return n.setMonth(e,Math.min(s,a)),n}function fk(t,e){const n=pt(t);return isNaN(+n)?Rr(t,NaN):(n.setFullYear(e),n)}var $e=function(){return $e=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$e.apply(this,arguments)};function tY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function qj(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function ff(t){return t.mode==="multiple"}function mf(t){return t.mode==="range"}function iy(t){return t.mode==="single"}var nY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function rY(t,e){return xs(t,"LLLL y",e)}function sY(t,e){return xs(t,"d",e)}function iY(t,e){return xs(t,"LLLL",e)}function oY(t){return"".concat(t)}function aY(t,e){return xs(t,"cccccc",e)}function lY(t,e){return xs(t,"yyyy",e)}var cY=Object.freeze({__proto__:null,formatCaption:rY,formatDay:sY,formatMonthCaption:iY,formatWeekNumber:oY,formatWeekdayName:aY,formatYearCaption:lY}),uY=function(t,e,n){return xs(t,"do MMMM (EEEE)",n)},dY=function(){return"Month: "},hY=function(){return"Go to next month"},fY=function(){return"Go to previous month"},mY=function(t,e){return xs(t,"cccc",e)},pY=function(t){return"Week n. ".concat(t)},gY=function(){return"Year: "},yY=Object.freeze({__proto__:null,labelDay:uY,labelMonthDropdown:dY,labelNext:hY,labelPrevious:fY,labelWeekNumber:pY,labelWeekday:mY,labelYearDropdown:gY});function vY(){var t="buttons",e=nY,n=Fj,r={},s={},i=1,a={},c=new Date;return{captionLayout:t,classNames:e,formatters:cY,labels:yY,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:c,mode:"default"}}function xY(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,a=t.toDate;return r?i=vr(r):e&&(i=new Date(e,0,1)),s?a=p_(s):n&&(a=new Date(n,11,31)),{fromDate:i?yu(i):void 0,toDate:a?yu(a):void 0}}var Wj=w.createContext(void 0);function wY(t){var e,n=t.initialProps,r=vY(),s=xY(n),i=s.fromDate,a=s.toDate,c=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;c!=="buttons"&&(!i||!a)&&(c="buttons");var d;(iy(n)||ff(n)||mf(n))&&(d=n.onSelect);var f=$e($e($e({},r),n),{captionLayout:c,classNames:$e($e({},r.classNames),n.classNames),components:$e({},n.components),formatters:$e($e({},r.formatters),n.formatters),fromDate:i,labels:$e($e({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:$e($e({},r.modifiers),n.modifiers),modifiersClassNames:$e($e({},r.modifiersClassNames),n.modifiersClassNames),onSelect:d,styles:$e($e({},r.styles),n.styles),toDate:a});return u.jsx(Wj.Provider,{value:f,children:t.children})}function kt(){var t=w.useContext(Wj);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Hj(t){var e=kt(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function bY(t){return u.jsx("svg",$e({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Gj(t){var e,n,r=t.onChange,s=t.value,i=t.children,a=t.caption,c=t.className,d=t.style,f=kt(),m=(n=(e=f.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:bY;return u.jsxs("div",{className:c,style:d,children:[u.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:s,onChange:r,children:i}),u.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[a,u.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function _Y(t){var e,n=kt(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,c=n.formatters.formatMonthCaption,d=n.classNames,f=n.components,m=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});var y=[];if(eY(r,s))for(var v=vr(r),b=r.getMonth();b<=s.getMonth();b++)y.push(_x(v,b));else for(var v=vr(new Date),b=0;b<=11;b++)y.push(_x(v,b));var T=function(S){var I=Number(S.target.value),A=_x(vr(t.displayMonth),I);t.onChange(A)},C=(e=f==null?void 0:f.Dropdown)!==null&&e!==void 0?e:Gj;return u.jsx(C,{name:"months","aria-label":m(),className:d.dropdown_month,style:i.dropdown_month,onChange:T,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:a}),children:y.map(function(S){return u.jsx("option",{value:S.getMonth(),children:c(S,{locale:a})},S.getMonth())})})}function SY(t){var e,n=t.displayMonth,r=kt(),s=r.fromDate,i=r.toDate,a=r.locale,c=r.styles,d=r.classNames,f=r.components,m=r.formatters.formatYearCaption,y=r.labels.labelYearDropdown,v=[];if(!s)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});for(var b=s.getFullYear(),T=i.getFullYear(),C=b;C<=T;C++)v.push(fk(Oj(new Date),C));var S=function(A){var R=fk(vr(n),Number(A.target.value));t.onChange(R)},I=(e=f==null?void 0:f.Dropdown)!==null&&e!==void 0?e:Gj;return u.jsx(I,{name:"years","aria-label":y(),className:d.dropdown_year,style:c.dropdown_year,onChange:S,value:n.getFullYear(),caption:m(n,{locale:a}),children:v.map(function(A){return u.jsx("option",{value:A.getFullYear(),children:m(A,{locale:a})},A.getFullYear())})})}function EY(t,e){var n=w.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function CY(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,a=t.fromDate,c=t.numberOfMonths,d=c===void 0?1:c;if(i&&wh(i,s)<0){var f=-1*(d-1);s=Cs(i,f)}return a&&wh(s,a)<0&&(s=a),vr(s)}function TY(){var t=kt(),e=CY(t),n=EY(e,t.month),r=n[0],s=n[1],i=function(a){var c;if(!t.disableNavigation){var d=vr(a);s(d),(c=t.onMonthChange)===null||c===void 0||c.call(t,d)}};return[r,i]}function kY(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=vr(t),i=vr(Cs(s,r)),a=wh(i,s),c=[],d=0;d<a;d++){var f=Cs(s,d);c.push(f)}return n&&(c=c.reverse()),c}function NY(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,c=vr(t);if(!n)return Cs(c,a);var d=wh(n,t);if(!(d<i))return Cs(c,a)}}function IY(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,c=vr(t);if(!n)return Cs(c,-a);var d=wh(c,n);if(!(d<=0))return Cs(c,-a)}}var Kj=w.createContext(void 0);function PY(t){var e=kt(),n=TY(),r=n[0],s=n[1],i=kY(r,e),a=NY(r,e),c=IY(r,e),d=function(y){return i.some(function(v){return y_(y,v)})},f=function(y,v){d(y)||(v&&$j(y,v)?s(Cs(y,1+e.numberOfMonths*-1)):s(y))},m={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:f,previousMonth:c,nextMonth:a,isDateDisplayed:d};return u.jsx(Kj.Provider,{value:m,children:t.children})}function pf(){var t=w.useContext(Kj);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function mk(t){var e,n=kt(),r=n.classNames,s=n.styles,i=n.components,a=pf().goToMonth,c=function(m){a(Cs(m,t.displayIndex?-t.displayIndex:0))},d=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:Hj,f=u.jsx(d,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:f}),u.jsx(_Y,{onChange:c,displayMonth:t.displayMonth}),u.jsx(SY,{onChange:c,displayMonth:t.displayMonth})]})}function AY(t){return u.jsx("svg",$e({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function RY(t){return u.jsx("svg",$e({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ug=w.forwardRef(function(t,e){var n=kt(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var a=i.join(" "),c=$e($e({},s.button_reset),s.button);return t.style&&Object.assign(c,t.style),u.jsx("button",$e({},t,{ref:e,type:"button",className:a,style:c}))});function jY(t){var e,n,r=kt(),s=r.dir,i=r.locale,a=r.classNames,c=r.styles,d=r.labels,f=d.labelPrevious,m=d.labelNext,y=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var v=f(t.previousMonth,{locale:i}),b=[a.nav_button,a.nav_button_previous].join(" "),T=m(t.nextMonth,{locale:i}),C=[a.nav_button,a.nav_button_next].join(" "),S=(e=y==null?void 0:y.IconRight)!==null&&e!==void 0?e:RY,I=(n=y==null?void 0:y.IconLeft)!==null&&n!==void 0?n:AY;return u.jsxs("div",{className:a.nav,style:c.nav,children:[!t.hidePrevious&&u.jsx(ug,{name:"previous-month","aria-label":v,className:b,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?u.jsx(S,{className:a.nav_icon,style:c.nav_icon}):u.jsx(I,{className:a.nav_icon,style:c.nav_icon})}),!t.hideNext&&u.jsx(ug,{name:"next-month","aria-label":T,className:C,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?u.jsx(I,{className:a.nav_icon,style:c.nav_icon}):u.jsx(S,{className:a.nav_icon,style:c.nav_icon})})]})}function pk(t){var e=kt().numberOfMonths,n=pf(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,c=a.findIndex(function(T){return y_(t.displayMonth,T)}),d=c===0,f=c===a.length-1,m=e>1&&(d||!f),y=e>1&&(f||!d),v=function(){r&&i(r)},b=function(){s&&i(s)};return u.jsx(jY,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:y,nextMonth:s,previousMonth:r,onPreviousClick:v,onNextClick:b})}function DY(t){var e,n=kt(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,c=n.components,d=(e=c==null?void 0:c.CaptionLabel)!==null&&e!==void 0?e:Hj,f;return s?f=u.jsx(d,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?f=u.jsx(mk,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?f=u.jsxs(u.Fragment,{children:[u.jsx(mk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(pk,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=u.jsxs(u.Fragment,{children:[u.jsx(d,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(pk,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:i.caption,children:f})}function MY(t){var e=kt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?u.jsx("tfoot",{className:s,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function OY(t,e,n){for(var r=n?Rl(new Date):si(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var a=Kn(r,i);s.push(a)}return s}function LY(){var t=kt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,a=t.ISOWeek,c=t.formatters.formatWeekdayName,d=t.labels.labelWeekday,f=OY(s,i,a);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),f.map(function(m,y){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":d(m,{locale:s}),children:c(m,{locale:s})},y)})]})}function FY(){var t,e=kt(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:LY;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(i,{})})}function VY(t){var e=kt(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var v_=w.createContext(void 0);function BY(t){if(!ff(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(v_.Provider,{value:e,children:t.children})}return u.jsx(UY,{initialProps:t.initialProps,children:t.children})}function UY(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,a=function(f,m,y){var v,b;(v=e.onDayClick)===null||v===void 0||v.call(e,f,m,y);var T=!!(m.selected&&s&&(r==null?void 0:r.length)===s);if(!T){var C=!!(!m.selected&&i&&(r==null?void 0:r.length)===i);if(!C){var S=r?qj([],r):[];if(m.selected){var I=S.findIndex(function(A){return mr(f,A)});S.splice(I,1)}else S.push(f);(b=e.onSelect)===null||b===void 0||b.call(e,S,f,m,y)}}},c={disabled:[]};r&&c.disabled.push(function(f){var m=i&&r.length>i-1,y=r.some(function(v){return mr(v,f)});return!!(m&&!y)});var d={selected:r,onDayClick:a,modifiers:c};return u.jsx(v_.Provider,{value:d,children:n})}function x_(){var t=w.useContext(v_);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function zY(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?mr(s,t)&&mr(r,t)?void 0:mr(s,t)?{from:s,to:void 0}:mr(r,t)?void 0:iw(r,t)?{from:t,to:s}:{from:r,to:t}:s?iw(t,s)?{from:s,to:t}:{from:t,to:s}:r?$j(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var w_=w.createContext(void 0);function $Y(t){if(!mf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(w_.Provider,{value:e,children:t.children})}return u.jsx(qY,{initialProps:t.initialProps,children:t.children})}function qY(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,a=s.to,c=e.min,d=e.max,f=function(b,T,C){var S,I;(S=e.onDayClick)===null||S===void 0||S.call(e,b,T,C);var A=zY(b,r);(I=e.onSelect)===null||I===void 0||I.call(e,A,b,T,C)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(m.range_start=[i],a?(m.range_end=[a],mr(i,a)||(m.range_middle=[{after:i,before:a}])):m.range_end=[i]):a&&(m.range_start=[a],m.range_end=[a]),c&&(i&&!a&&m.disabled.push({after:bx(i,c-1),before:Kn(i,c-1)}),i&&a&&m.disabled.push({after:i,before:Kn(i,c-1)}),!i&&a&&m.disabled.push({after:bx(a,c-1),before:Kn(a,c-1)})),d){if(i&&!a&&(m.disabled.push({before:Kn(i,-d+1)}),m.disabled.push({after:Kn(i,d-1)})),i&&a){var y=Ks(a,i)+1,v=d-y;m.disabled.push({before:bx(i,v)}),m.disabled.push({after:Kn(a,v)})}!i&&a&&(m.disabled.push({before:Kn(a,-d+1)}),m.disabled.push({after:Kn(a,d-1)}))}return u.jsx(w_.Provider,{value:{selected:r,onDayClick:f,modifiers:m},children:n})}function b_(){var t=w.useContext(w_);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Sp(t){return Array.isArray(t)?qj([],t):t!==void 0?[t]:[]}function WY(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Sp(s)}),e}var Ts;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ts||(Ts={}));var HY=Ts.Selected,Ci=Ts.Disabled,GY=Ts.Hidden,KY=Ts.Today,Sx=Ts.RangeEnd,Ex=Ts.RangeMiddle,Cx=Ts.RangeStart,YY=Ts.Outside;function QY(t,e,n){var r,s=(r={},r[HY]=Sp(t.selected),r[Ci]=Sp(t.disabled),r[GY]=Sp(t.hidden),r[KY]=[t.today],r[Sx]=[],r[Ex]=[],r[Cx]=[],r[YY]=[],r);return t.fromDate&&s[Ci].push({before:t.fromDate}),t.toDate&&s[Ci].push({after:t.toDate}),ff(t)?s[Ci]=s[Ci].concat(e.modifiers[Ci]):mf(t)&&(s[Ci]=s[Ci].concat(n.modifiers[Ci]),s[Cx]=n.modifiers[Cx],s[Ex]=n.modifiers[Ex],s[Sx]=n.modifiers[Sx]),s}var Yj=w.createContext(void 0);function XY(t){var e=kt(),n=x_(),r=b_(),s=QY(e,n,r),i=WY(e.modifiers),a=$e($e({},s),i);return u.jsx(Yj.Provider,{value:a,children:t.children})}function Qj(){var t=w.useContext(Yj);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function JY(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function ZY(t){return!!(t&&typeof t=="object"&&"from"in t)}function eQ(t){return!!(t&&typeof t=="object"&&"after"in t)}function tQ(t){return!!(t&&typeof t=="object"&&"before"in t)}function nQ(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function rQ(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Ks(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=Ks(t,r)>=0&&Ks(s,t)>=0;return a}return s?mr(s,t):r?mr(r,t):!1}function sQ(t){return m_(t)}function iQ(t){return Array.isArray(t)&&t.every(m_)}function oQ(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(sQ(n))return mr(t,n);if(iQ(n))return n.includes(t);if(ZY(n))return rQ(t,n);if(nQ(n))return n.dayOfWeek.includes(t.getDay());if(JY(n)){var r=Ks(n.before,t),s=Ks(n.after,t),i=r>0,a=s<0,c=iw(n.before,n.after);return c?a&&i:i||a}return eQ(n)?Ks(t,n.after)>0:tQ(n)?Ks(n.before,t)>0:typeof n=="function"?n(t):!1})}function __(t,e,n){var r=Object.keys(e).reduce(function(i,a){var c=e[a];return oQ(t,c)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!y_(t,n)&&(s.outside=!0),s}function aQ(t,e){for(var n=vr(t[0]),r=p_(t[t.length-1]),s,i,a=n;a<=r;){var c=__(a,e),d=!c.disabled&&!c.hidden;if(!d){a=Kn(a,1);continue}if(c.selected)return a;c.today&&!i&&(i=a),s||(s=a),a=Kn(a,1)}return i||s}var lQ=365;function Xj(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,a=e.retry,c=a===void 0?{count:0,lastFocused:t}:a,d=s.weekStartsOn,f=s.fromDate,m=s.toDate,y=s.locale,v={day:Kn,week:sw,month:Cs,year:QG,startOfWeek:function(S){return s.ISOWeek?Rl(S):si(S,{locale:y,weekStartsOn:d})},endOfWeek:function(S){return s.ISOWeek?Lj(S):g_(S,{locale:y,weekStartsOn:d})}},b=v[n](t,r==="after"?1:-1);r==="before"&&f?b=XG([f,b]):r==="after"&&m&&(b=JG([m,b]));var T=!0;if(i){var C=__(b,i);T=!C.disabled&&!C.hidden}return T?b:c.count>lQ?c.lastFocused:Xj(b,{moveBy:n,direction:r,context:s,modifiers:i,retry:$e($e({},c),{count:c.count+1})})}var Jj=w.createContext(void 0);function cQ(t){var e=pf(),n=Qj(),r=w.useState(),s=r[0],i=r[1],a=w.useState(),c=a[0],d=a[1],f=aQ(e.displayMonths,n),m=s??(c&&e.isDateDisplayed(c))?c:f,y=function(){d(s),i(void 0)},v=function(S){i(S)},b=kt(),T=function(S,I){if(s){var A=Xj(s,{moveBy:S,direction:I,context:b,modifiers:n});mr(s,A)||(e.goToDate(A,s),v(A))}},C={focusedDay:s,focusTarget:m,blur:y,focus:v,focusDayAfter:function(){return T("day","after")},focusDayBefore:function(){return T("day","before")},focusWeekAfter:function(){return T("week","after")},focusWeekBefore:function(){return T("week","before")},focusMonthBefore:function(){return T("month","before")},focusMonthAfter:function(){return T("month","after")},focusYearBefore:function(){return T("year","before")},focusYearAfter:function(){return T("year","after")},focusStartOfWeek:function(){return T("startOfWeek","before")},focusEndOfWeek:function(){return T("endOfWeek","after")}};return u.jsx(Jj.Provider,{value:C,children:t.children})}function S_(){var t=w.useContext(Jj);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function uQ(t,e){var n=Qj(),r=__(t,n,e);return r}var E_=w.createContext(void 0);function dQ(t){if(!iy(t.initialProps)){var e={selected:void 0};return u.jsx(E_.Provider,{value:e,children:t.children})}return u.jsx(hQ,{initialProps:t.initialProps,children:t.children})}function hQ(t){var e=t.initialProps,n=t.children,r=function(i,a,c){var d,f,m;if((d=e.onDayClick)===null||d===void 0||d.call(e,i,a,c),a.selected&&!e.required){(f=e.onSelect)===null||f===void 0||f.call(e,void 0,i,a,c);return}(m=e.onSelect)===null||m===void 0||m.call(e,i,i,a,c)},s={selected:e.selected,onDayClick:r};return u.jsx(E_.Provider,{value:s,children:n})}function Zj(){var t=w.useContext(E_);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function fQ(t,e){var n=kt(),r=Zj(),s=x_(),i=b_(),a=S_(),c=a.focusDayAfter,d=a.focusDayBefore,f=a.focusWeekAfter,m=a.focusWeekBefore,y=a.blur,v=a.focus,b=a.focusMonthBefore,T=a.focusMonthAfter,C=a.focusYearBefore,S=a.focusYearAfter,I=a.focusStartOfWeek,A=a.focusEndOfWeek,R=function(Z){var $,X,se,H;iy(n)?($=r.onDayClick)===null||$===void 0||$.call(r,t,e,Z):ff(n)?(X=s.onDayClick)===null||X===void 0||X.call(s,t,e,Z):mf(n)?(se=i.onDayClick)===null||se===void 0||se.call(i,t,e,Z):(H=n.onDayClick)===null||H===void 0||H.call(n,t,e,Z)},B=function(Z){var $;v(t),($=n.onDayFocus)===null||$===void 0||$.call(n,t,e,Z)},F=function(Z){var $;y(),($=n.onDayBlur)===null||$===void 0||$.call(n,t,e,Z)},U=function(Z){var $;($=n.onDayMouseEnter)===null||$===void 0||$.call(n,t,e,Z)},P=function(Z){var $;($=n.onDayMouseLeave)===null||$===void 0||$.call(n,t,e,Z)},k=function(Z){var $;($=n.onDayPointerEnter)===null||$===void 0||$.call(n,t,e,Z)},D=function(Z){var $;($=n.onDayPointerLeave)===null||$===void 0||$.call(n,t,e,Z)},O=function(Z){var $;($=n.onDayTouchCancel)===null||$===void 0||$.call(n,t,e,Z)},L=function(Z){var $;($=n.onDayTouchEnd)===null||$===void 0||$.call(n,t,e,Z)},z=function(Z){var $;($=n.onDayTouchMove)===null||$===void 0||$.call(n,t,e,Z)},M=function(Z){var $;($=n.onDayTouchStart)===null||$===void 0||$.call(n,t,e,Z)},oe=function(Z){var $;($=n.onDayKeyUp)===null||$===void 0||$.call(n,t,e,Z)},ye=function(Z){var $;switch(Z.key){case"ArrowLeft":Z.preventDefault(),Z.stopPropagation(),n.dir==="rtl"?c():d();break;case"ArrowRight":Z.preventDefault(),Z.stopPropagation(),n.dir==="rtl"?d():c();break;case"ArrowDown":Z.preventDefault(),Z.stopPropagation(),f();break;case"ArrowUp":Z.preventDefault(),Z.stopPropagation(),m();break;case"PageUp":Z.preventDefault(),Z.stopPropagation(),Z.shiftKey?C():b();break;case"PageDown":Z.preventDefault(),Z.stopPropagation(),Z.shiftKey?S():T();break;case"Home":Z.preventDefault(),Z.stopPropagation(),I();break;case"End":Z.preventDefault(),Z.stopPropagation(),A();break}($=n.onDayKeyDown)===null||$===void 0||$.call(n,t,e,Z)},he={onClick:R,onFocus:B,onBlur:F,onKeyDown:ye,onKeyUp:oe,onMouseEnter:U,onMouseLeave:P,onPointerEnter:k,onPointerLeave:D,onTouchCancel:O,onTouchEnd:L,onTouchMove:z,onTouchStart:M};return he}function mQ(){var t=kt(),e=Zj(),n=x_(),r=b_(),s=iy(t)?e.selected:ff(t)?n.selected:mf(t)?r.selected:void 0;return s}function pQ(t){return Object.values(Ts).includes(t)}function gQ(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(pQ(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function yQ(t,e){var n=$e({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=$e($e({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function vQ(t,e,n){var r,s,i,a=kt(),c=S_(),d=uQ(t,e),f=fQ(t,d),m=mQ(),y=!!(a.onDayClick||a.mode!=="default");w.useEffect(function(){var U;d.outside||c.focusedDay&&y&&mr(c.focusedDay,t)&&((U=n.current)===null||U===void 0||U.focus())},[c.focusedDay,t,n,y,d.outside]);var v=gQ(a,d).join(" "),b=yQ(a,d),T=!!(d.outside&&!a.showOutsideDays||d.hidden),C=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:VY,S=u.jsx(C,{date:t,displayMonth:e,activeModifiers:d}),I={style:b,className:v,children:S,role:"gridcell"},A=c.focusTarget&&mr(c.focusTarget,t)&&!d.outside,R=c.focusedDay&&mr(c.focusedDay,t),B=$e($e($e({},I),(r={disabled:d.disabled,role:"gridcell"},r["aria-selected"]=d.selected,r.tabIndex=R||A?0:-1,r)),f),F={isButton:y,isHidden:T,activeModifiers:d,selectedDays:m,buttonProps:B,divProps:I};return F}function xQ(t){var e=w.useRef(null),n=vQ(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(ug,$e({name:"day",ref:e},n.buttonProps)):u.jsx("div",$e({},n.divProps))}function wQ(t){var e=t.number,n=t.dates,r=kt(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,c=r.locale,d=r.labels.labelWeekNumber,f=r.formatters.formatWeekNumber,m=f(Number(e),{locale:c});if(!s)return u.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:m});var y=d(Number(e),{locale:c}),v=function(b){s(e,n,b)};return u.jsx(ug,{name:"week-number","aria-label":y,className:a.weeknumber,style:i.weeknumber,onClick:v,children:m})}function bQ(t){var e,n,r=kt(),s=r.styles,i=r.classNames,a=r.showWeekNumber,c=r.components,d=(e=c==null?void 0:c.Day)!==null&&e!==void 0?e:xQ,f=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:wQ,m;return a&&(m=u.jsx("td",{className:i.cell,style:s.cell,children:u.jsx(f,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:i.row,style:s.row,children:[m,t.dates.map(function(y){return u.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:u.jsx(d,{displayMonth:t.displayMonth,date:y})},XK(y))})]})}function gk(t,e,n){for(var r=n!=null&&n.ISOWeek?Lj(e):g_(e,n),s=n!=null&&n.ISOWeek?Rl(t):si(t,n),i=Ks(r,s),a=[],c=0;c<=i;c++)a.push(Kn(s,c));var d=a.reduce(function(f,m){var y=n!=null&&n.ISOWeek?Vj(m):Uj(m,n),v=f.find(function(b){return b.weekNumber===y});return v?(v.dates.push(m),f):(f.push({weekNumber:y,dates:[m]}),f)},[]);return d}function _Q(t,e){var n=gk(vr(t),p_(t),e);if(e!=null&&e.useFixedWeeks){var r=ZK(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=sw(i,6-r),c=gk(sw(i,1),a,e);n.push.apply(n,c)}}return n}function SQ(t){var e,n,r,s=kt(),i=s.locale,a=s.classNames,c=s.styles,d=s.hideHead,f=s.fixedWeeks,m=s.components,y=s.weekStartsOn,v=s.firstWeekContainsDate,b=s.ISOWeek,T=_Q(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:b,locale:i,weekStartsOn:y,firstWeekContainsDate:v}),C=(e=m==null?void 0:m.Head)!==null&&e!==void 0?e:FY,S=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:bQ,I=(r=m==null?void 0:m.Footer)!==null&&r!==void 0?r:MY;return u.jsxs("table",{id:t.id,className:a.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!d&&u.jsx(C,{}),u.jsx("tbody",{className:a.tbody,style:c.tbody,children:T.map(function(A){return u.jsx(S,{displayMonth:t.displayMonth,dates:A.dates,weekNumber:A.weekNumber},A.weekNumber)})}),u.jsx(I,{displayMonth:t.displayMonth})]})}function EQ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var CQ=EQ()?w.useLayoutEffect:w.useEffect,Tx=!1,TQ=0;function yk(){return"react-day-picker-".concat(++TQ)}function kQ(t){var e,n=t??(Tx?yk():null),r=w.useState(n),s=r[0],i=r[1];return CQ(function(){s===null&&i(yk())},[]),w.useEffect(function(){Tx===!1&&(Tx=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function NQ(t){var e,n,r=kt(),s=r.dir,i=r.classNames,a=r.styles,c=r.components,d=pf().displayMonths,f=kQ(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,y=[i.month],v=a.month,b=t.displayIndex===0,T=t.displayIndex===d.length-1,C=!b&&!T;s==="rtl"&&(e=[b,T],T=e[0],b=e[1]),b&&(y.push(i.caption_start),v=$e($e({},v),a.caption_start)),T&&(y.push(i.caption_end),v=$e($e({},v),a.caption_end)),C&&(y.push(i.caption_between),v=$e($e({},v),a.caption_between));var S=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:DY;return u.jsxs("div",{className:y.join(" "),style:v,children:[u.jsx(S,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(SQ,{id:m,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function IQ(t){var e=kt(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function PQ(t){var e,n,r=t.initialProps,s=kt(),i=S_(),a=pf(),c=w.useState(!1),d=c[0],f=c[1];w.useEffect(function(){s.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),f(!0)))},[s.initialFocus,d,i.focus,i.focusTarget,i]);var m=[s.classNames.root,s.className];s.numberOfMonths>1&&m.push(s.classNames.multiple_months),s.showWeekNumber&&m.push(s.classNames.with_weeknumber);var y=$e($e({},s.styles.root),s.style),v=Object.keys(r).filter(function(T){return T.startsWith("data-")}).reduce(function(T,C){var S;return $e($e({},T),(S={},S[C]=r[C],S))},{}),b=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:IQ;return u.jsx("div",$e({className:m.join(" "),style:y,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},v,{children:u.jsx(b,{children:a.displayMonths.map(function(T,C){return u.jsx(NQ,{displayIndex:C,displayMonth:T},C)})})}))}function AQ(t){var e=t.children,n=tY(t,["children"]);return u.jsx(wY,{initialProps:n,children:u.jsx(PY,{children:u.jsx(dQ,{initialProps:n,children:u.jsx(BY,{initialProps:n,children:u.jsx($Y,{initialProps:n,children:u.jsx(XY,{children:u.jsx(cQ,{children:e})})})})})})})}function RQ(t){return u.jsx(AQ,$e({},t,{children:u.jsx(PQ,{initialProps:t})}))}function eD({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(RQ,{showOutsideDays:n,className:it("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:it(k0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:it("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:it(k0({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:s,...i})=>u.jsx(LA,{className:it("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>u.jsx(FA,{className:it("h-4 w-4",s),...i})},...r})}eD.displayName="Calendar";const jQ="benhpritchard2024@gmail.com",DQ="Liverpool1!";function tD(){const[t,e]=w.useState("online"),[n,r]=w.useState(!1),[s,i]=w.useState(!1),[a,c]=w.useState(!1),[d,f]=w.useState(""),[m,y]=w.useState(""),[v,b]=w.useState(""),[T,C]=w.useState(new Date),[S,I]=w.useState({title:"",time:"",description:"",location:""}),A=nf(),{data:R=[]}=ra({queryKey:["cpd-events"],queryFn:()=>pu.entities.CPDEvent.list()}),B=Yd({mutationFn:O=>pu.entities.CPDEvent.create(O),onSuccess:()=>{A.invalidateQueries({queryKey:["cpd-events"]}),c(!1),I({title:"",time:"",description:"",location:""})}}),F=[{id:"online",title:"Online Courses",icon:$8,color:"#3448C5"},{id:"face-to-face",title:"Face to Face",icon:fu,color:"#35D0BA"},{id:"in-school",title:"In School",icon:Vb,color:"#FFB68B"}],U=()=>{d===jQ&&m===DQ?(r(!0),i(!1),b(""),f(""),y("")):b("Invalid email or password")},P=()=>{S.title&&B.mutate({...S,date:xs(T,"yyyy-MM-dd"),category:t})},k=R.filter(O=>O.category===t),D=O=>{const L=xs(O,"yyyy-MM-dd");return k.filter(z=>z.date===L)};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"CPD Training"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Professional development opportunities for educators"})]}),u.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:F.map(O=>u.jsxs(Ge,{onClick:()=>e(O.id),className:`rounded-full px-8 py-6 text-lg font-semibold transition-all ${t===O.id?"scale-105 shadow-lg":"opacity-70"}`,style:{backgroundColor:t===O.id?O.color:"#e5e7eb",color:t===O.id?"white":"#374151"},children:[u.jsx(O.icon,{className:"w-5 h-5 mr-2"}),O.title]},O.id))}),F.map(O=>O.id===t&&u.jsxs(Be,{className:"rounded-3xl shadow-xl border-0 overflow-hidden",children:[u.jsx("div",{className:"p-4 text-white text-center",style:{backgroundColor:O.color},children:u.jsxs("h2",{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[u.jsx(O.icon,{className:"w-6 h-6"}),O.title]})}),u.jsxs(He,{className:"p-8",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsx("div",{className:"flex-1 flex justify-center",children:u.jsx(eD,{mode:"single",selected:T,onSelect:L=>L&&C(L),className:"rounded-xl border shadow-sm",modifiers:{hasEvent:k.map(L=>new Date(L.date))},modifiersStyles:{hasEvent:{backgroundColor:O.color,color:"white",borderRadius:"50%"}}})}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"text-xl font-bold mb-4",style:{color:"#3448C5"},children:["Events on ",xs(T,"MMMM d, yyyy")]}),u.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:D(T).length>0?D(T).map(L=>u.jsxs("div",{className:"p-4 rounded-xl border-l-4",style:{borderColor:O.color,backgroundColor:"#f9fafb"},children:[u.jsx("h4",{className:"font-bold text-gray-900",children:L.title}),L.time&&u.jsx("p",{className:"text-sm text-gray-600",children:L.time}),L.location&&u.jsx("p",{className:"text-sm text-gray-600",children:L.location}),L.description&&u.jsx("p",{className:"text-gray-700 mt-2",children:L.description})]},L.id)):u.jsx("p",{className:"text-gray-500 italic",children:"No events scheduled for this date."})})]})]}),u.jsx("div",{className:"mt-8 flex justify-center",children:n?u.jsxs(la,{open:a,onOpenChange:c,children:[u.jsx(YT,{asChild:!0,children:u.jsxs(Ge,{className:"rounded-full px-8 py-6 text-lg font-semibold",style:{backgroundColor:O.color},children:[u.jsx(Fb,{className:"w-5 h-5 mr-2"}),"Add Event"]})}),u.jsxs(Gi,{className:"sm:max-w-md",children:[u.jsx(Ki,{children:u.jsx(Yi,{children:"Add New Event"})}),u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Event Title *"}),u.jsx(an,{value:S.title,onChange:L=>I({...S,title:L.target.value}),placeholder:"Enter event title"})]}),u.jsx("div",{children:u.jsxs("label",{className:"text-sm font-medium",children:["Date: ",xs(T,"MMMM d, yyyy")]})}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Time"}),u.jsx(an,{value:S.time,onChange:L=>I({...S,time:L.target.value}),placeholder:"e.g. 10:00 AM - 12:00 PM"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Location / Link"}),u.jsx(an,{value:S.location,onChange:L=>I({...S,location:L.target.value}),placeholder:"Enter location or meeting link"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Description"}),u.jsx(uf,{value:S.description,onChange:L=>I({...S,description:L.target.value}),placeholder:"Event details..."})]}),u.jsx(Ge,{onClick:P,className:"w-full",style:{backgroundColor:O.color},disabled:B.isPending,children:B.isPending?"Adding...":"Add Event"})]})]})]}):u.jsxs(la,{open:s,onOpenChange:i,children:[u.jsx(YT,{asChild:!0,children:u.jsxs(Ge,{className:"rounded-full px-8 py-6 text-lg font-semibold",style:{backgroundColor:O.color},children:[u.jsx(tf,{className:"w-5 h-5 mr-2"}),"Add Event"]})}),u.jsxs(Gi,{className:"sm:max-w-md",children:[u.jsx(Ki,{children:u.jsx(Yi,{children:"Admin Login"})}),u.jsxs("div",{className:"space-y-4 mt-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Email"}),u.jsx(an,{type:"email",value:d,onChange:L=>f(L.target.value),placeholder:"Enter admin email"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium",children:"Password"}),u.jsx(an,{type:"password",value:m,onChange:L=>y(L.target.value),placeholder:"Enter password"})]}),v&&u.jsx("p",{className:"text-red-500 text-sm",children:v}),u.jsx(Ge,{onClick:U,className:"w-full",style:{backgroundColor:"#3448C5"},children:"Login"})]})]})]})})]})]},O.id))]})}),u.jsx(wr,{})]})}const MQ="benhpritchard2024@gmail.com",vk=["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9"];function OQ(t){const e=t.toLowerCase().replace(/[^a-z]/g,"").slice(0,10)||"student",n=Math.floor(Math.random()*9e3)+1e3;return`${e}${n}`}function LQ(){return String(Math.floor(Math.random()*9e3)+1e3)}function Jm(t,e,n="Operation"){return Promise.race([t,new Promise((r,s)=>setTimeout(()=>s(new Error(`${n} timed out after ${e}ms`)),e))])}function kx(t){const e=(t==null?void 0:t.code)||"",n=(t==null?void 0:t.message)||String(t||"");return n.toLowerCase().includes("missing or insufficient permissions")?"Missing or insufficient permissions (Firestore Rules).":n.toLowerCase().includes("permission")?"Permission denied (Firestore Rules).":n.toLowerCase().includes("failed to fetch")?"Network blocked Firestore (school Wi-Fi/VPN/proxy).":n.toLowerCase().includes("timed out")?n:e?`${e}: ${n}`:n}function nD(){var R,B;const[t,e]=w.useState(null),[n,r]=w.useState(!1),[s,i]=w.useState(""),[a,c]=w.useState(""),[d,f]=w.useState("");w.useRef();const m=nf();w.useEffect(()=>{const F=localStorage.getItem("finnquest_teacher")||localStorage.getItem("finquest_teacher");if(!F){window.location.href=ot("AdminLogin");return}const U=JSON.parse(F);if((U.email||"").toLowerCase()===MQ.toLowerCase()){window.location.href=ot("MainAdminDashboard");return}e({uid:U.uid||U.id,email:U.email,full_name:U.school_name||U.email})},[]);const{data:y,isLoading:v}=ra({queryKey:["teacherProfile",t==null?void 0:t.uid],enabled:!!(t!=null&&t.uid),queryFn:async()=>{const F=Xt(st,"teachers",t.uid),U=await Jm(Fi(F),8e3,"Load teacher profile");return U.exists()?{id:U.id,...U.data()}:null}});w.useEffect(()=>{t!=null&&t.uid&&(v||y===null&&(alert("Your account has not been set up. Please contact FinnQuest for access."),localStorage.removeItem("finnquest_teacher"),localStorage.removeItem("finquest_teacher"),localStorage.removeItem("finnquest_role"),window.location.href=ot("AdminLogin")))},[t==null?void 0:t.uid,v,y]);const{data:b=[],isLoading:T,error:C}=ra({queryKey:["classes",t==null?void 0:t.uid],enabled:!!(t!=null&&t.uid),queryFn:async()=>{const F=Wp(ta(st,"classes"),zc("teacherId","==",t.uid));return(await Jm(ph(F),8e3,"Load classes")).docs.map(P=>({id:P.id,...P.data()}))}}),S=Yd({mutationFn:async()=>{var L,z;if(!(t!=null&&t.uid))throw new Error("No teacher session");if(!s.trim()||!a||!d.trim())throw new Error("Missing fields");console.log("DEBUG projectId:",(z=(L=st==null?void 0:st.app)==null?void 0:L.options)==null?void 0:z.projectId),console.log("CREATE CLASS: Step 1 - inputs",{className:s,yearGroup:a});const F=d.split(`
`).map(M=>M.trim()).filter(Boolean).slice(0,35);if(F.length===0)throw new Error("No students provided");console.log("CREATE CLASS: Step 2 - parsed students",F.length);const U=(y==null?void 0:y.credits_total)||0,P=(y==null?void 0:y.credits_used)||0,k=U-P;if(U>0&&F.length>k)throw new Error(`Not enough credits. You have ${k} remaining but need ${F.length}.`);console.log("CREATE CLASS: Step 3 - creating class doc...");const D=await Jm(UU(ta(st,"classes"),{teacherId:t.uid,name:s.trim(),year_group:a,createdAt:Gp()}),12e3,"Create class write");console.log("CREATE CLASS: Step 4 - class created",D.id),console.log("CREATE CLASS: Step 5 - creating students batch...");const O=S0(st);if(F.forEach(M=>{const oe=OQ(M),ye=LQ(),he=Xt(ta(st,"students"));O.set(he,{teacherId:t.uid,classId:D.id,name:M,username:oe,pin:ye,has_created_avatar:!1,createdAt:Gp()})}),y!=null&&y.id){const M=Xt(st,"teachers",y.id);O.update(M,{credits_used:((y==null?void 0:y.credits_used)||0)+F.length})}return console.log("CREATE CLASS: Step 6 - committing batch..."),await Jm(O.commit(),15e3,"Commit students batch"),console.log("CREATE CLASS: Step 7 - done "),{classId:D.id,count:F.length}},onSuccess:async()=>{await m.invalidateQueries({queryKey:["classes",t==null?void 0:t.uid]}),await m.invalidateQueries({queryKey:["teacherProfile",t==null?void 0:t.uid]}),r(!1),i(""),c(""),f("")}}),I=()=>{localStorage.removeItem("finnquest_teacher"),localStorage.removeItem("finquest_teacher"),localStorage.removeItem("finnquest_role"),window.location.href=ot("Home")};if(!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Loading..."})});const A=((y==null?void 0:y.credits_total)||0)-((y==null?void 0:y.credits_used)||0);return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold",style:{color:"#3448C5"},children:"Teacher Dashboard"}),u.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome, ",t.full_name||t.email]}),u.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Debug: projectId=",String(((B=(R=st==null?void 0:st.app)==null?void 0:R.options)==null?void 0:B.projectId)||"unknown")]})]}),u.jsxs(Ge,{variant:"outline",onClick:I,className:"gap-2",children:[u.jsx(gh,{className:"w-4 h-4"})," Logout"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs(Be,{children:[u.jsx(Vi,{children:u.jsx(Bi,{children:"Credits"})}),u.jsx(He,{children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-4xl font-bold",style:{color:"#3448C5"},children:A}),u.jsx("p",{className:"text-gray-500",children:"Credits Remaining"}),u.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[(y==null?void 0:y.credits_used)||0," used of ",(y==null?void 0:y.credits_total)||0," total"]})]})})]}),u.jsxs(Be,{children:[u.jsx(Vi,{children:u.jsx(Bi,{children:"Year Group Access"})}),u.jsx(He,{children:u.jsx("div",{className:"flex flex-wrap gap-2",children:vk.map(F=>{var P;const U=(P=y==null?void 0:y.unlocked_years)==null?void 0:P.includes(F);return u.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${U?"bg-green-100 text-green-800":"bg-gray-100 text-gray-400"}`,children:[U?u.jsx(M8,{className:"w-3 h-3 inline mr-1"}):u.jsx(tf,{className:"w-3 h-3 inline mr-1"}),F]},F)})})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs(Be,{children:[u.jsxs(Vi,{className:"flex flex-row items-center justify-between",children:[u.jsx(Bi,{children:"My Classes"}),u.jsxs(Ge,{size:"sm",onClick:()=>r(!0),children:[u.jsx(Fb,{className:"w-4 h-4 mr-2"})," New Class"]})]}),u.jsxs(He,{children:[C&&u.jsxs("div",{className:"text-xs text-red-600 mb-3",children:["Failed to load classes: ",kx(C)]}),u.jsxs("div",{className:"space-y-2",children:[b.map(F=>u.jsx(Ge,{variant:"outline",className:"w-full justify-start text-left h-auto py-3",onClick:()=>window.location.href=ot(`ClassDashboard?classId=${F.id}`),children:u.jsxs("div",{className:"flex flex-col items-start",children:[u.jsx("span",{className:"font-bold",children:F.name}),u.jsx("span",{className:"text-xs text-gray-500",children:F.year_group})]})},F.id)),!T&&b.length===0&&u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No classes yet. Create one to get started!"})]})]})]})}),u.jsx("div",{className:"lg:col-span-2",children:u.jsx(Be,{className:"bg-blue-50 border-blue-100",children:u.jsxs(He,{className:"py-20 text-center",children:[u.jsx("p",{className:"text-[#3448C5] text-lg font-medium",children:"Select a class from the list to manage students."}),S.isError&&u.jsxs("p",{className:"mt-4 text-sm text-red-600",children:["Create class failed: ",kx(S.error)]}),S.isSuccess&&u.jsx("p",{className:"mt-4 text-sm text-green-700",children:"Class created "})]})})})]})]})}),u.jsx(la,{open:n,onOpenChange:r,children:u.jsxs(Gi,{className:"sm:max-w-lg",children:[u.jsxs(Ki,{children:[u.jsx(Yi,{children:"Create New Class"}),u.jsx(b2,{children:"Enter class details and student names (one per line). Well generate usernames + PINs."})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Class Name"}),u.jsx(an,{value:s,onChange:F=>i(F.target.value),placeholder:'e.g., "6B"'})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Year Group"}),u.jsxs(d_,{value:a,onValueChange:c,children:[u.jsx(ry,{children:u.jsx(h_,{placeholder:"Select year group"})}),u.jsx(sy,{children:vk.map(F=>u.jsx(nl,{value:F,children:F},F))})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Student Names (one per line, max 35)"}),u.jsx(uf,{value:d,onChange:F=>f(F.target.value),placeholder:`John Smith
Jane Doe
...`,rows:10}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[d.split(`
`).filter(F=>F.trim()).length," / 35 students  Credits remaining: ",A]})]}),u.jsx(Ge,{onClick:()=>S.mutate(),className:"w-full",style:{backgroundColor:"#3448C5"},disabled:S.isPending,children:S.isPending?"Creating...":"Create Class + Generate Student Logins"}),S.isError&&u.jsx("div",{className:"text-xs text-red-600",children:kx(S.error)})]})]})}),u.jsx(wr,{})]})}const C_="finnquest_student",T_="finquest_student";function k_(t){const e=t||null;localStorage.setItem(C_,JSON.stringify(e)),localStorage.setItem(T_,JSON.stringify(e))}function rD(){const t=localStorage.getItem(C_)||localStorage.getItem(T_);if(!t)return null;try{return JSON.parse(t)}catch{return null}}function FQ(){localStorage.removeItem(C_),localStorage.removeItem(T_)}function xk(t,e=9e3,n="Operation"){return Promise.race([t,new Promise((r,s)=>setTimeout(()=>s(new Error(`${n} timed out after ${e}ms`)),e))])}function VQ(t){return(t||"").trim().toUpperCase().replace(/\s+/g,"")}function BQ(t){return(t||"").trim().toLowerCase().replace(/\s+/g,"")}function UQ(t){return(t||"").trim().replace(/\s+/g,"")}function sD(){const[t,e]=w.useState(""),[n,r]=w.useState(""),[s,i]=w.useState(""),[a,c]=w.useState(""),[d,f]=w.useState(!1),m=w.useMemo(()=>VQ(t),[t]),y=w.useMemo(()=>BQ(n),[n]),v=w.useMemo(()=>UQ(s),[s]),b=m.length>=4&&y.length>=3&&v.length>=3&&!d,T=async()=>{if(c(""),f(!0),!m||!y||!v){c("Please enter class code, username and PIN."),f(!1);return}try{const S=Wp(ta(st,"classes"),zc("classCode","==",m),QC(1)),I=await xk(ph(S),9e3,"Load class");if(I.empty){c("Class code not found. Check with your teacher."),f(!1);return}const A=I.docs[0],R={id:A.id,...A.data()},B=Wp(ta(st,"students"),zc("classId","==",R.id),zc("username","==",y),QC(1)),F=await xk(ph(B),9e3,"Load student");if(F.empty){c("Username not found for this class. Check spelling."),f(!1);return}const U=F.docs[0],P={id:U.id,...U.data()};if(String(P.pin??"")!==String(v)){c("Incorrect PIN."),f(!1);return}k_({...P,class_id:R.id,teacher_id:R.teacherId}),window.location.href=ot(P.has_created_avatar?"StudentDashboard":"AvatarCreation")}catch(S){console.error("Student login failed:",S);const I=String((S==null?void 0:S.message)||"");I.toLowerCase().includes("timed out")?c(`Login timed out. This is usually school Wi-Fi blocking Firestore.
Try a hotspot once to confirm it works.`):I.toLowerCase().includes("permission")?c("Login blocked by permissions. (Firestore rules need to allow students read access for this query.)"):c("Login failed. Please try again.")}finally{f(!1)}},C=S=>{S.key==="Enter"&&b&&T()};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20 min-h-screen flex items-center justify-center",children:u.jsxs(Be,{className:"w-full max-w-md mx-4",children:[u.jsxs(Vi,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4",children:u.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/8a8ccc245_Gemini_Generated_Image_3z9ysf3z9ysf3z9y.png",alt:"FinnQuest Logo",className:"h-20 w-auto mx-auto rounded-full"})}),u.jsx(Bi,{className:"text-2xl",style:{color:"#3448C5"},children:"Student Login"}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter your class code + login details"})]}),u.jsx(He,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Class Code"}),u.jsx(an,{value:t,onChange:S=>e(S.target.value),placeholder:"e.g. ABCD12",inputMode:"text",onKeyDown:C})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),u.jsx(an,{value:n,onChange:S=>r(S.target.value),placeholder:"e.g. aisha4821",autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,onKeyDown:C})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"PIN"}),u.jsx(an,{type:"password",value:s,onChange:S=>i(S.target.value),placeholder:"4 digits",inputMode:"numeric",onKeyDown:C})]}),a&&u.jsx("p",{className:"text-red-500 text-sm text-center whitespace-pre-line",children:a}),u.jsx(Ge,{onClick:T,className:"w-full text-lg py-6",style:{backgroundColor:"#3448C5"},disabled:!b,children:d?"Logging in...":"Login"}),u.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Tip: Class Code is on your login card from your teacher."})]})})]})}),u.jsx(wr,{})]})}const ow=t=>t.charAt(0).toUpperCase()+t.slice(1),zQ=t=>t.toLowerCase().replace(/\s+/g,"-"),$Q=t=>t.split("-").map(ow).join(" "),iD="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/a196ee5f2_AVATAR1.png",oD="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/a6355900a_Gemini_Generated_Image_yb78f6yb78f6yb78.png",N_=[{id:"hair-none",name:"No Hair",image:null,price:0,layer:"hair"},{id:"hair-1",name:"Bob Brown",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/e0790beba_ChatGPTImageNov26202508_10_59AM.png",price:0,layer:"hair"},{id:"hair-2",name:"Bob Blonde",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/304048e6d_ChatGPTImageNov26202508_10_16AM.png",price:0,layer:"hair"},{id:"hair-3",name:"Curly Brown",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/ca7f922be_ChatGPTImageNov26202508_07_18AM.png",price:0,layer:"hair"},{id:"hair-4",name:"Bun Blonde",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/6ac1fc45a_ChatGPTImageNov26202508_06_26AM.png",price:0,layer:"hair"},{id:"hair-5",name:"Short Brown",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/fcb99d217_ChatGPTImageNov26202508_05_03AM.png",price:0,layer:"hair"},{id:"hair-6",name:"Side Blonde",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/ff1f7b8b9_ChatGPTImageNov26202508_11_45AM.png",price:0,layer:"hair"},{id:"hair-7",name:"Classic Brown",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/78ea8ef1c_ChatGPTImageNov26202508_10_59AM.png",price:0,layer:"hair"},{id:"hair-8",name:"Wavy Blue",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_6v2p4i6v2p4i6v2p-Photoroom.png?raw=true",price:0,layer:"hair"},{id:"hair-9",name:"Short Auburn",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/fa1db60de_ChatGPTImageNov25202509_22_30PM1.png",price:0,layer:"hair"},{id:"hair-10",name:"Short Dark",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/47293b205_ChatGPTImageNov25202509_23_41PM.png",price:0,layer:"hair"},{id:"hair-11",name:"Wavy Auburn",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/a76fcf190_ChatGPTImageNov25202509_22_30PM.png",price:0,layer:"hair"},{id:"hair-12",name:"Short Ginger",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/04bd8c6d5_ChatGPTImageNov25202509_21_30PM.png",price:0,layer:"hair"},{id:"hair-13",name:"Ponytail Dark",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/4adbbc278_ChatGPTImageNov25202509_13_46PM.png",price:0,layer:"hair"},{id:"hair-14",name:"Braid Blonde",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/9c23e5c87_ChatGPTImageNov25202509_11_13PM.png",price:0,layer:"hair"},{id:"hair-15",name:"Braid Brown",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/dbfbe76c8_ChatGPTImageNov25202509_11_09PM.png",price:0,layer:"hair"},{id:"hair-16",name:"Curly Auburn",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/1a16d387d_ChatGPTImageNov25202509_09_22PM.png",price:0,layer:"hair"},{id:"hair-17",name:"Hairstyle 17",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_692orm692orm692o-Photoroom.png?raw=true",price:0,layer:"hair"},{id:"hair-18",name:"Hairstyle 18",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_745cxa745cxa745c-Photoroom.png?raw=true",price:0,layer:"hair"},{id:"hair-19",name:"Hairstyle 19",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_brcw3dbrcw3dbrcw-Photoroom.png?raw=true",price:0,layer:"hair"},{id:"hair-20",name:"Hairstyle 20",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_pifbr5pifbr5pifb-Photoroom.png?raw=true",price:0,layer:"hair"},{id:"hair-21",name:"Hairstyle 21",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_ql4tj6ql4tj6ql4t-Photoroom.png?raw=true",price:0,layer:"hair"},{id:"hair-22",name:"Hairstyle 22",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_wcdyu8wcdyu8wcdy-Photoroom.png?raw=true",price:0,layer:"hair"}],bh=[{id:"avatar-1",name:"Avatar 1",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/a196ee5f2_AVATAR1.png",baseImage:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/a196ee5f2_AVATAR1.png",price:0,layer:"avatar"},{id:"avatar-2",name:"Avatar 2",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/fe8e20599_avatar2.png",baseImage:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/fe8e20599_avatar2.png",price:0,layer:"avatar"},{id:"avatar-3",name:"Avatar 3",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/22640c24c_avatar3.png",baseImage:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/22640c24c_avatar3.png",price:0,layer:"avatar"}],I_=[{id:"outfit-none",name:"Base Outfit",image:null,price:0,layer:"outfits"},{id:"outfit-sports",name:"Sports Clothes",price:80,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_n3ome8n3ome8n3om-Photoroom.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_cu4kdkcu4kdkcu4k-Photoroom.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_j3nci3j3nci3j3nc-Photoroom.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_n3ome8n3ome8n3om-Photoroom.png?raw=true"},{id:"outfit-designer-tshirt",name:"Designer T-Shirt & Trousers",price:150,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_qtdx48qtdx48qtdx-Photoroom.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_ds8amlds8amlds8a-Photoroom.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_6h4qh96h4qh96h4q-Photoroom.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_qtdx48qtdx48qtdx-Photoroom.png?raw=true"},{id:"outfit-polo-male",name:"Chinos & Polo (Male)",price:300,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20polo.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20polo.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20polo.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20polo.png?raw=true"},{id:"outfit-polo-female",name:"Chinos & Polo (Female)",price:300,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar%201%20polo%20female.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar%202%20polo%20female.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20polo%20female.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar%201%20polo%20female.png?raw=true"},{id:"outfit-shirt-tie-male",name:"Shirt & Tie (Male)",price:500,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20male%20shirt%20tie.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20male%20shirt%20tie.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20male%20shirt%20tie.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20male%20shirt%20tie.png?raw=true"},{id:"outfit-shirt-tie-female",name:"Shirt & Tie (Female)",price:500,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20shirt%20tie.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20female%20shirt%20tie.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20female%20shirt%20tie.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20shirt%20tie.png?raw=true"},{id:"outfit-blue-suit-male",name:"Blue Suit (Male)",price:700,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/Avatar1%20suit.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/Avatar%202%20suit.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/Avatar%203%20suit.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/Avatar1%20suit.png?raw=true"},{id:"outfit-blue-suit-female",name:"Blue Suit (Female)",price:700,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20blue%20suit.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20female%20blue%20suit.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20female%20blue%20suit.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20blue%20suit.png?raw=true"},{id:"outfit-tweed-male",name:"Tweed Suit (Male)",price:850,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20male%20tweed.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20male%20tweed.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20male%20tweed.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20male%20tweed.png?raw=true"},{id:"outfit-tweed-female",name:"Tweed Suit (Female)",price:850,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20tweed.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20female%20tweed.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20female%20tweed.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20tweed.png?raw=true"},{id:"outfit-luxury-male",name:"Luxurious Suit (Male)",price:1e3,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20male%20luxury.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20male%20luxury.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20male%20luxury.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20male%20luxury.png?raw=true"},{id:"outfit-luxury-female",name:"Luxurious Suit (Female)",price:1e3,layer:"outfits",avatarImages:{"avatar-1":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20luxury.png?raw=true","avatar-2":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar2%20female%20luxury.png?raw=true","avatar-3":"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar3%20female%20luxury.png?raw=true"},image:"https://github.com/benhpritchard/avatar-dressed/blob/main/avatar1%20female%20luxury.png?raw=true"}],P_=[{id:"transport-none",name:"Walk (Base)",image:null,price:0,layer:"transport"},{id:"transport-bike",name:"Bike",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/push%20bike.png?raw=true",price:200,layer:"transport"},{id:"transport-scooter",name:"Scooter",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/scooter.png?raw=true",price:400,layer:"transport"},{id:"transport-cheap-car",name:"Car (Cheap)",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/cheap%20car.png?raw=true",price:800,layer:"transport"},{id:"transport-family-car",name:"Family Car",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/family%20car.png?raw=true",price:1200,layer:"transport"},{id:"transport-sports-car",name:"Sports Car",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/sports%20car.png?raw=true",price:2e3,layer:"transport"},{id:"transport-limo",name:"Limo",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/limo.png?raw=true",price:2500,layer:"transport"},{id:"transport-boat",name:"Speed Boat",image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_yctmw5yctmw5yctm-Photoroom.png?raw=true",price:3e3,layer:"transport"},{id:"transport-plane",name:"Plane",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/plane.png?raw=true",price:3500,layer:"transport"},{id:"transport-private-jet",name:"Private Jet",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/private%20jet.png?raw=true",price:4e3,layer:"transport"},{id:"transport-helicopter",name:"Helicopter",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/helicopter.png?raw=true",price:5e3,layer:"transport"}],qQ=[{id:"accessory-none",name:"No Accessory",image:null,price:0,layer:"accessories"}],_h=[{id:"bg-street",name:"Street View",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/e91b3867e_Gemini_Generated_Image_vy4c67vy4c67vy4c.png",price:0,layer:"background"},{id:"bg-suburb",name:"Suburban Home",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_43h36g43h36g43h3.png?raw=true",price:500,layer:"background"},{id:"bg-city",name:"Luxury City",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/e54b7da56_Gemini_Generated_Image_brni9rbrni9rbrni.png",price:1500,layer:"background"},{id:"bg-beach",name:"Beach Resort",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_mydq25mydq25mydq.png?raw=true",price:2500,layer:"background"},{id:"bg-mansion",name:"Mansion",image:"https://github.com/benhpritchard/avatar-dressed/blob/main/Gemini_Generated_Image_tnv8kytnv8kytnv8.png?raw=true",price:5e3,layer:"background"}],Nx=[{id:"avatar",name:"Avatar",emoji:"",options:"AVATAR_OPTIONS"},{id:"hair",name:"Hair",emoji:"",options:"HAIR_OPTIONS"},{id:"outfits",name:"Outfits",emoji:"",options:"OUTFITS_OPTIONS"},{id:"transport",name:"Transport",emoji:"",options:"TRANSPORT_OPTIONS"},{id:"background",name:"Location",emoji:"",options:"BACKGROUND_OPTIONS"}],WQ=[{id:"skin-porcelain",name:"Skin  Porcelain",price:0,layer:"base"},{id:"skin-warm",name:"Skin  Warm",price:0,layer:"base"},{id:"skin-olive",name:"Skin  Olive",price:0,layer:"base"},{id:"skin-amber",name:"Skin  Amber",price:0,layer:"base"},{id:"skin-espresso",name:"Skin  Espresso",price:0,layer:"base"},{id:"eyes-classic",name:"Eyes  Classic",price:0,layer:"eyes"},{id:"eyes-friendly",name:"Eyes  Friendly",price:0,layer:"eyes"},{id:"eyes-confident",name:"Eyes  Confident",price:0,layer:"eyes"},{id:"brows-soft",name:"Brows  Soft",price:0,layer:"brows"},{id:"brows-bold",name:"Brows  Bold",price:0,layer:"brows"},{id:"nose-soft",name:"Nose  Soft",price:0,layer:"nose"},{id:"nose-round",name:"Nose  Round",price:0,layer:"nose"},{id:"mouth-smile",name:"Mouth  Smile",price:0,layer:"mouth"},{id:"mouth-grin",name:"Mouth  Grin",price:0,layer:"mouth"}];function oy(t,e,n,r,s){const[i,a]=r,c=[];let d=0;for(const f of e)for(const m of n){const y=`${t}-${f}-${m}`.toLowerCase().replace(/\s+/g,"-"),v=Math.floor(i+(a-i)*(d%7/6));c.push({id:y,name:`${ow(f)}  ${ow(m)}`,price:v,layer:t,tags:[s]}),d++}return c}function A_(t,e,n,r){return e.map(s=>({id:`${t}-${zQ(s)}`,name:`${$Q(t)}  ${s}`,price:n,layer:t,tags:r?[r]:[]}))}const R_=["navy","charcoal","black","taupe","khaki","stone","teal","burgundy","forest","royal"],HQ=oy("top",["shirt","polo","henley","turtleneck","tee"],R_,[4,10],"smart-casual"),GQ=oy("jacket",["blazer","cardigan","bomber","trench","gilet"],R_,[10,22],"formal"),KQ=oy("bottom",["suit-trouser","chino","slim"],R_,[6,14],"smart"),YQ=oy("shoes",["oxford","loafer","sneaker"],["black","brown","tan","white"],[5,12],"footwear"),QQ=A_("hair",["Fade","Bob","Bun","Curls","Waves","Pixie","Side-Part","Afro","Braids"],6,"style"),XQ=A_("glasses",["Round","Square","Rimless","Aviator"],7,"premium"),JQ=A_("accessory",["Wireless-Buds","Watch","Tie","Briefcase","Lanyard"],5,"tech"),ZQ=[...WQ,...HQ,...GQ,...KQ,...YQ,...QQ,...XQ,...JQ],eX=[{id:"basic-desk",name:"Basic Desk",price:100,category:"desk",tier:"basic",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_jle7knjle7knjle7-Photoroom.png?raw=true"},{id:"simple-desk",name:"Simple Desk",price:150,category:"desk",tier:"basic",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_t9lvjpt9lvjpt9lv-Photoroom.png?raw=true"},{id:"basic-computer",name:"Basic Computer",price:200,category:"tech",tier:"basic",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_f7616cf7616cf761-Photoroom.png?raw=true"},{id:"standing-lamp",name:"Standing Lamp",price:80,category:"lighting",tier:"basic",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_330lf330lf330lf3-Photoroom.png?raw=true"}],tX=[{id:"floor-lamp",name:"Floor Lamp",price:300,category:"lighting",tier:"standard",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_ddeaopddeaopddea-Photoroom.png?raw=true"},{id:"stylish-lamp",name:"Stylish Lamp",price:350,category:"lighting",tier:"standard",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_uisysauisysauisy-Photoroom.png?raw=true"},{id:"bean-bag",name:"Bean Bag",price:250,category:"chair",tier:"standard",emoji:"",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/a4b7a3f9d_Gemini_Generated_Image_kygbq4kygbq4kygb-Photoroom.png"},{id:"record-player",name:"Record Player",price:450,category:"entertainment",tier:"standard",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_rbpwg8rbpwg8rbpw-Photoroom.png?raw=true"},{id:"modern-computer",name:"Modern Computer",price:800,category:"tech",tier:"standard",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_21fzwu21fzwu21fz-Photoroom.png?raw=true"}],nX=[{id:"smart-desk",name:"Smart Desk",price:1500,category:"desk",tier:"premium",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_ao0vcsao0vcsao0v-Photoroom.png?raw=true"},{id:"vanity-desk",name:"Vanity Desk",price:1200,category:"desk",tier:"premium",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_exw7xcexw7xcexw7-Photoroom.png?raw=true"},{id:"sofa-area",name:"Sofa Area",price:1800,category:"chair",tier:"premium",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_ig78hlig78hlig78-Photoroom.png?raw=true"},{id:"gaming-computer",name:"High-Spec PC",price:2e3,category:"tech",tier:"premium",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_tak60ztak60ztak6-Photoroom.png?raw=true"}],rX=[{id:"aquarium",name:"Aquarium",price:3500,category:"decor",tier:"elite",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_56osqt56osqt56os-Photoroom.png?raw=true"},{id:"mona-lisa",name:"Mona Lisa",price:1e4,category:"art",tier:"elite",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_6fzhr26fzhr26fzh-Photoroom.png?raw=true"},{id:"cinema-screen",name:"Cinema Screen",price:4500,category:"tech",tier:"elite",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_ob1072ob1072ob10-Photoroom.png?raw=true"},{id:"luxury-lounge",name:"Luxury Lounge",price:3e3,category:"chair",tier:"elite",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_vebcp3vebcp3vebc-Photoroom.png?raw=true"}],sX=[{id:"pinball-machine",name:"Pinball Machine",price:1500,category:"entertainment",tier:"fun",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_5fgo9j5fgo9j5fgo-Photoroom.png?raw=true"},{id:"drum-kit",name:"Drum Kit",price:1200,category:"entertainment",tier:"fun",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_cv3lxfcv3lxfcv3l-Photoroom.png?raw=true"},{id:"vending-machine",name:"Vending Machine",price:1e3,category:"appliance",tier:"fun",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_or54xpor54xpor54-Photoroom.png?raw=true"},{id:"pool-table",name:"Pool Table",price:1800,category:"entertainment",tier:"fun",emoji:"",image:"https://github.com/benhpritchard/officeitems/blob/main/Gemini_Generated_Image_rl6jrnrl6jrnrl6j-Photoroom.png?raw=true"}],dg=[...eX,...tX,...nX,...rX,...sX],wk=[{id:"tower-block",name:"Tower Block",price:0,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/5343e66e4_Gemini_Generated_Image_c574kkc574kkc574.png",bonusItems:[],description:"A basic tower block flat to start your journey"},{id:"home-office",name:"Home Office",price:40,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/9a7eb910f_ChatGPTImageNov26202508_51_33AM.png",bonusItems:[],description:"A cozy countryside home office"},{id:"countryside-cottage",name:"Countryside Cottage",price:80,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/839d9b3f8_ChatGPTImageNov26202508_52_57AM.png",bonusItems:[],description:"A charming cottage in the countryside"},{id:"city-skyline",name:"City Skyline",price:140,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/9acb1d138_ChatGPTImageNov26202508_54_03AM.png",bonusItems:[],description:"A modern office with city views"},{id:"penthouse-office",name:"Penthouse Office",price:220,image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/c69267bb0_ChatGPTImageNov26202508_55_52AM.png",bonusItems:[],description:"Luxury penthouse workspace"},{id:"mansion-office",name:"Mansion Office",price:320,image:"https://github.com/benhpritchard/gamethumbnails/blob/main/Gemini_Generated_Image_gf4mk8gf4mk8gf4m.png?raw=true",bonusItems:[],description:"The ultimate executive mansion office"}],iX=[{level:1,name:"Starter Suite",price:0,gridCols:10,gridRows:6},{level:2,name:"Growth Floor",price:120,gridCols:12,gridRows:8},{level:3,name:"Executive Wing",price:260,gridCols:14,gridRows:9},{level:4,name:"Innovation Lab",price:420,gridCols:16,gridRows:10}],oX=100,Ix=()=>({points:oX,playerDetails:{name:"",dreamJob:"",school:"",isLocked:!1},avatar:{avatar:"avatar-1",hair:null,outfits:null,transport:null,accessories:null,background:"bg-street"},office:{ownedItemIds:[],placed:[],tier:1},locationId:"tower-block"}),aw=t=>`${t} coins`,hg=(t,e)=>e&&t.find(n=>n.id===e)||null,Xa=(t,e)=>t>=e,aX=()=>Math.random().toString(36).slice(2,10),Ha=6,Px=t=>({avatar:bh,hair:N_,outfits:I_,transport:P_,accessories:qQ,background:_h})[t]||[],lX=`
.finquest-root {
  --fq-blue-dark: #0b3b7c;
  --fq-blue: #1185e0;
  --fq-blue-light: #29a5ff;
  --fq-orange: #f6a623;
  --fq-cream: #ffe2b7;
  --fq-bg: #ffd7a0;
  --fq-green: #22b455;
  font-family: "Baloo 2", "Nunito", system-ui, -apple-system, sans-serif;
  background: var(--fq-bg);
  padding: 16px;
  color: #05233d;
  min-height: 100vh;
}
.fq-panel { background: #ffe9c7; border-radius: 22px; border: 4px solid var(--fq-blue-dark); box-shadow: 0 6px 0 rgba(6, 46, 96, 0.9); padding: 16px; }
.fq-header { background: linear-gradient(180deg, var(--fq-blue-light), var(--fq-blue)); border-radius: 22px; border: 4px solid var(--fq-blue-dark); box-shadow: 0 6px 0 rgba(6, 46, 96, 0.9); color: #fff; padding: 10px 18px; display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; flex-wrap: wrap; gap: 8px; }
.fq-header-title { font-size: 20px; font-weight: 800; letter-spacing: 0.03em; text-shadow: 0 2px 0 rgba(5, 32, 71, 0.9); }
.fq-points-pill { background: var(--fq-orange); color: #2b1600; border-radius: 16px; border: 3px solid #e08500; padding: 4px 12px; font-weight: 700; box-shadow: 0 3px 0 rgba(176, 96, 0, 0.9); }
.fq-tabs { display: flex; gap: 4px; margin-bottom: 8px; flex-wrap: wrap; }
.fq-tab { flex: 1; min-width: 70px; text-align: center; padding: 8px 4px; font-size: 13px; font-weight: 700; border-radius: 16px 16px 0 0; border: 3px solid var(--fq-blue-dark); border-bottom-width: 0; background: #fcd3a2; cursor: pointer; }
.fq-tab:hover { background: #ffe4c0; }
.fq-tab--active { background: #fff8e8; position: relative; }
.fq-tab--active::after { content: ""; position: absolute; left: 15%; right: 15%; bottom: -4px; height: 4px; background: var(--fq-orange); border-radius: 999px; }
.fq-card { background: #fff8e8; border-radius: 18px; border: 3px solid var(--fq-blue-dark); padding: 12px; margin-bottom: 10px; }
.fq-card-title { font-size: 16px; font-weight: 800; margin-bottom: 6px; color: var(--fq-blue-dark); }
.fq-btn { display: inline-flex; align-items: center; justify-content: center; gap: 4px; padding: 6px 14px; border-radius: 18px; border: 3px solid #0b2b5a; background: linear-gradient(180deg, var(--fq-blue-light), var(--fq-blue)); color: #fff; font-weight: 800; font-size: 14px; box-shadow: 0 4px 0 rgba(4, 31, 67, 0.9); cursor: pointer; }
.fq-btn:hover { opacity: 0.95; }
.fq-btn--green { border-color: #167b37; background: linear-gradient(180deg, #35d46a, #22b455); box-shadow: 0 4px 0 rgba(14, 115, 49, 0.9); }
.fq-btn--orange { border-color: #c47a00; background: linear-gradient(180deg, #ffb84d, var(--fq-orange)); box-shadow: 0 4px 0 rgba(150, 100, 0, 0.9); color: #2b1600; }
.fq-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(4, 31, 67, 0.7); }
.fq-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.fq-caption { font-size: 12px; opacity: 0.9; }
  .fq-office-panel { height: 220px; border-radius: 18px; border: 3px solid var(--fq-blue-dark); background: linear-gradient(180deg, #e0f3ff, #c5e8ff); overflow: hidden; position: relative; }
  .fq-avatar-panel { height: 220px; border-radius: 18px; border: 3px solid var(--fq-blue-dark); background-size: cover; background-position: center; overflow: hidden; position: relative; }
  .fq-search { background: #fff8e8; border: 3px solid var(--fq-blue-dark); border-radius: 14px; padding: 8px 12px; display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
.fq-search input { flex: 1; border: none; background: transparent; outline: none; font-size: 14px; }
.fq-item-card { background: #fff8e8; border-radius: 14px; border: 3px solid var(--fq-blue-dark); padding: 8px; display: flex; flex-direction: column; gap: 4px; }
.fq-item-card--owned { border-color: var(--fq-green); }
.fq-item-card--equipped { border-color: var(--fq-orange); background: #fff3d9; }
.fq-item-preview { aspect-ratio: 1; background: #e8f4ff; border-radius: 10px; display: flex; align-items: center; justify-content: center; }
.fq-item-name { font-size: 11px; font-weight: 700; color: var(--fq-blue-dark); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.fq-item-price { font-size: 10px; color: #666; }
.fq-pagination { display: flex; align-items: center; justify-content: center; gap: 8px; margin-top: 12px; }
.fq-pagination button { padding: 4px 12px; border-radius: 12px; border: 2px solid var(--fq-blue-dark); background: #fff8e8; font-weight: 700; font-size: 12px; cursor: pointer; }
.fq-office-grid { display: grid; width: 100%; height: 100%; background: linear-gradient(#cbe7ff, #a6cfff); }
.fq-office-grid-cell { border: 1px solid rgba(19, 70, 130, 0.3); }
.fq-office-grid-cell:hover { background: rgba(255, 255, 255, 0.3); }
`;function cX({student:t,onSave:e}){var ai,er,Dr,Mr,no,li,ci,ro,zt,$t;const[n,r]=w.useState("characters"),[s,i]=w.useState(()=>t!=null&&t.avatar_state?t.avatar_state:Ix()),[a,c]=w.useState(""),[d,f]=w.useState(0),[m,y]=w.useState(!1),[v,b]=w.useState(null),[T,C]=w.useState(!1),[S,I]=w.useState(null),[A,R]=w.useState(s.playerDetails||Ix().playerDetails),[B,F]=w.useState(!((ai=s.playerDetails)!=null&&ai.isLocked)),[U,P]=w.useState(!1),[k,D]=w.useState("base"),[O,L]=w.useState(!1),[z,M]=w.useState(null),oe=te=>i(Se=>({...Se,points:Math.max(0,Se.points-te)})),ye=te=>i(Se=>({...Se,points:Se.points+te})),he=te=>{var Ze;const Se=((Ze=s.avatar)==null?void 0:Ze.owned)||[],ve={[te.layer]:te.id};if(te.layer==="tops"?ve.jackets=null:te.layer==="jackets"&&(ve.tops=null),te.price>0&&!Se.includes(te.id)){if(!Xa(s.points,te.price))return;oe(te.price),i(dt=>{var tr;return{...dt,avatar:{...dt.avatar,...ve,owned:[...((tr=dt.avatar)==null?void 0:tr.owned)||[],te.id]}}})}else i(dt=>({...dt,avatar:{...dt.avatar,...ve}}))},Z=(te,Se)=>{i(ve=>{var Ze;return{...ve,avatar:{...ve.avatar,layerPositions:{...(Ze=ve.avatar)==null?void 0:Ze.layerPositions,[te]:Se}}}})},$=(te,Se)=>{var dt,tr,so,io,oo;const ve=((so=(tr=(dt=s.avatar)==null?void 0:dt.layerPositions)==null?void 0:tr[te])==null?void 0:so.scale)||1,Ze=Math.max(.3,Math.min(2,ve+Se*.01));Z(te,{...(oo=(io=s.avatar)==null?void 0:io.layerPositions)==null?void 0:oo[te],scale:Ze})},X="top-white-tee",se="bottoms-1",H=te=>{i(Se=>{const ve={...Se.avatar,[te]:null};return(te==="tops"||te==="jackets")&&!ve.tops&&!ve.jackets&&(ve.tops=X),te==="bottoms"&&!ve.bottoms&&(ve.bottoms=se),{...Se,avatar:ve}})},re=te=>s.office.ownedItemIds.includes(te.id)?!0:Xa(s.points,te.price)?(oe(te.price),i(Se=>({...Se,office:{...Se.office,ownedItemIds:[...Se.office.ownedItemIds,te.id]}})),!0):!1,me=(te,Se,ve)=>{if(!s.office.ownedItemIds.includes(te.id)&&!re(te))return;const Ze={instanceId:aX(),itemId:te.id,x:Se,y:ve,scale:1};i(dt=>({...dt,office:{...dt.office,placed:[...dt.office.placed,Ze]}})),b(null)},we=(te,Se)=>{i(ve=>({...ve,office:{...ve.office,placed:ve.office.placed.map(Ze=>Ze.instanceId===te?{...Ze,...Se}:Ze)}}))},Re=(te,Se)=>{i(ve=>({...ve,office:{...ve.office,placed:ve.office.placed.map(Ze=>{if(Ze.instanceId!==te)return Ze;const dt=Math.max(.1,(Ze.scale||1)+Se);return{...Ze,scale:dt}})}}))},Ue=(te,Se)=>{i(ve=>({...ve,office:{...ve.office,placed:ve.office.placed.map(Ze=>{if(Ze.instanceId!==te)return Ze;const dt=((Ze.rotation||0)+Se)%360;return{...Ze,rotation:dt}})}}))},de=te=>i(Se=>({...Se,office:{...Se.office,placed:Se.office.placed.filter(ve=>ve.instanceId!==te)}})),Ne=te=>{const Se=s.office.placed.find(dt=>dt.instanceId===te);if(!Se)return;const ve=hg(dg,Se.itemId);if(!ve)return;const Ze=Math.floor(ve.price/2);ye(Ze),de(te),M(null)},Ve=()=>{confirm("Reset all progress? This cannot be undone.")&&i(Ix())},Oe=te=>{if(s.locationId===te.id||!Xa(s.points,te.price))return;oe(te.price);const Se=[...s.office.ownedItemIds];te.bonusItems&&te.bonusItems.forEach(ve=>{Se.includes(ve)||Se.push(ve)}),i(ve=>({...ve,locationId:te.id,office:{...ve.office,ownedItemIds:Se}}))},[Ye,Qe]=w.useState(!1),Nt=async()=>{y(!0),Qe(!1);try{const te={...s,playerDetails:{...A,isLocked:!B}};await pu.entities.Student.update(t.id,{avatar_state:te,has_created_avatar:!0,dream_job:A.dreamJob,school:A.school});const Se=localStorage.getItem("finnquest_student")||localStorage.getItem("finquest_student");if(Se){const ve=JSON.parse(Se);ve.avatar_state=te,ve.has_created_avatar=!0,ve.dream_job=A.dreamJob,ve.school=A.school,localStorage.setItem("finnquest_student",JSON.stringify(ve))}Qe(!0),setTimeout(()=>Qe(!1),2e3),e&&e(te)}catch(te){console.error("Error saving:",te),alert("Failed to save. Please try again.")}finally{y(!1)}};iX.find(te=>te.level===s.office.tier);const Ot=hg(wk,s.locationId),Jn=w.useMemo(()=>ZQ.filter(te=>te.name.toLowerCase().includes(a.toLowerCase())||(te.tags||[]).join(" ").toLowerCase().includes(a.toLowerCase())),[a]),Zn=w.useMemo(()=>{let te=dg.filter(Se=>Se.name.toLowerCase().includes(a.toLowerCase())||(Se.tags||[]).join(" ").toLowerCase().includes(a.toLowerCase()));return te.sort((Se,ve)=>{const Ze={desk:1,lighting:2,tech:3},dt=Ze[Se.category]||4,tr=Ze[ve.category]||4;return dt!==tr?dt-tr:Se.price-ve.price}),te},[a]);Jn.slice(d*Ha,d*Ha+Ha);const br=Zn.slice(d*Ha,d*Ha+Ha);return u.jsxs("div",{className:"finquest-root",children:[u.jsx("style",{children:lX}),u.jsxs("header",{className:"fq-header",children:[u.jsx("div",{className:"fq-header-title",children:"Your Avatar"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"fq-points-pill",children:[s.points," coins"]}),u.jsxs("div",{className:"flex items-center gap-2 bg-black/20 rounded-xl px-3 py-1 border-2 border-black/10",children:[u.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-white/80",children:"Score"}),u.jsx("span",{className:"font-black text-lg text-yellow-300 drop-shadow-sm",children:"0"})]}),u.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 border-2 border-indigo-800 text-white text-xs font-bold px-3 py-1 rounded-xl shadow-sm",children:"Level: Rookie"}),u.jsx("div",{className:"h-6 w-px bg-white/20 mx-1"}),u.jsx(Yt,{to:ot("ExploreGames"),children:u.jsxs("button",{className:"fq-btn text-xs",children:[u.jsx(Ug,{className:"w-4 h-4"})," Games"]})}),u.jsx(Yt,{to:ot("StudentDashboard"),children:u.jsxs("button",{className:"fq-btn text-xs",children:[u.jsx(BA,{className:"w-4 h-4"})," Dashboard"]})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[u.jsx("div",{className:"fq-panel",children:u.jsxs("div",{className:"fq-card grid grid-cols-5 gap-4",children:[u.jsxs("div",{className:"col-span-3",children:[u.jsxs("div",{className:"fq-card-title flex items-center justify-between text-sm",children:["Your Avatar",U?u.jsxs("button",{onClick:()=>P(!1),className:"fq-btn fq-btn--green text-[10px] px-2 py-1",children:[u.jsx(Nd,{className:"w-3 h-3"})," Done"]}):u.jsxs("button",{onClick:()=>P(!0),className:"fq-btn text-[10px] px-2 py-1",children:[u.jsx(pp,{className:"w-3 h-3"})," Edit"]})]}),u.jsx(uX,{state:s,isEditing:U,onUpdateLayerPosition:Z,selectedLayer:k,setSelectedLayer:D}),U&&u.jsxs("div",{className:"mt-2 flex items-center gap-1 justify-center flex-wrap",children:[u.jsx("span",{className:"text-[10px] font-bold",children:"Select:"}),u.jsx("button",{className:`fq-btn text-[10px] px-2 py-1 ${k==="base"?"fq-btn--orange":""}`,onClick:()=>D("base"),children:"Avatar"}),((er=s.avatar)==null?void 0:er.hair)&&s.avatar.hair!=="hair-none"&&u.jsxs("button",{className:`fq-btn text-[10px] px-2 py-1 ${k==="hair"?"fq-btn--orange":""}`,onClick:()=>D("hair"),children:["Hair",u.jsx($c,{className:"w-3 h-3 ml-1 text-red-300 hover:text-red-500",onClick:te=>{te.stopPropagation(),H("hair")}})]}),((Dr=s.avatar)==null?void 0:Dr.transport)&&s.avatar.transport!=="transport-none"&&u.jsxs("button",{className:`fq-btn text-[10px] px-2 py-1 ${k==="transport"?"fq-btn--orange":""}`,onClick:()=>D("transport"),children:["Transport",u.jsx($c,{className:"w-3 h-3 ml-1 text-red-300 hover:text-red-500",onClick:te=>{te.stopPropagation(),H("transport")}})]}),u.jsx("span",{className:"text-[10px] font-bold ml-2",children:"Size:"}),u.jsx("button",{className:"fq-btn text-[10px] px-2 py-1",onClick:()=>$(k,-10),children:""}),u.jsxs("span",{className:"text-[10px] w-8 text-center",children:[Math.round((((li=(no=(Mr=s.avatar)==null?void 0:Mr.layerPositions)==null?void 0:no[k])==null?void 0:li.scale)||1)*100),"%"]}),u.jsx("button",{className:"fq-btn text-[10px] px-2 py-1",onClick:()=>$(k,10),children:"+"})]}),u.jsxs("div",{className:"mt-2 flex gap-1 flex-wrap",children:[u.jsx("button",{className:"fq-btn text-[10px] px-2 py-1",onClick:()=>r("characters"),children:"Customize"}),u.jsxs("button",{className:"fq-btn fq-btn--green text-[10px] px-2 py-1",onClick:Nt,disabled:m,children:[u.jsx(Nd,{className:"w-3 h-3"})," ",m?"...":"Save"]}),u.jsx("button",{className:"fq-btn text-[10px] px-2 py-1",onClick:Ve,children:u.jsx(e9,{className:"w-3 h-3"})})]})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsxs("div",{className:"fq-card-title flex items-center justify-between text-sm",children:["Player Details",!B&&u.jsxs("button",{onClick:()=>F(!0),className:"fq-btn text-[10px] px-2 py-1",children:[u.jsx(pp,{className:"w-3 h-3"})," Edit"]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-600",children:"Name"}),u.jsx("input",{type:"text",value:A.name,onChange:te=>R(Se=>({...Se,name:te.target.value})),readOnly:!B,className:`w-full p-1.5 border-2 rounded-lg text-xs ${B?"border-blue-400 bg-white":"border-gray-200 bg-gray-100"}`,placeholder:"Enter your name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-600",children:"Dream Job"}),u.jsx("input",{type:"text",value:A.dreamJob,onChange:te=>R(Se=>({...Se,dreamJob:te.target.value})),readOnly:!B,className:`w-full p-1.5 border-2 rounded-lg text-xs ${B?"border-blue-400 bg-white":"border-gray-200 bg-gray-100"}`,placeholder:"What's your dream job?"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-[10px] font-bold text-gray-600",children:"School"}),u.jsx("input",{type:"text",value:A.school,onChange:te=>R(Se=>({...Se,school:te.target.value})),readOnly:!B,className:`w-full p-1.5 border-2 rounded-lg text-xs ${B?"border-blue-400 bg-white":"border-gray-200 bg-gray-100"}`,placeholder:"Your school name"}),u.jsx("p",{className:"text-[8px] text-gray-500 mt-1 italic",children:"Note: You may need to re-add your hair after changing outfits"})]}),B&&u.jsxs("button",{onClick:()=>F(!1),className:"fq-btn fq-btn--green w-full text-[10px] px-2 py-1",children:[u.jsx(Nd,{className:"w-3 h-3"})," Submit"]})]})]})]})}),u.jsxs("div",{className:"fq-panel",children:[u.jsxs("div",{className:"fq-tabs",children:[u.jsx("button",{className:`fq-tab ${n==="characters"?"fq-tab--active":""}`,onClick:()=>{r("characters"),f(0)},children:"Characters"}),u.jsx("button",{className:`fq-tab ${n==="office"?"fq-tab--active":""}`,onClick:()=>{r("office"),f(0)},children:"Office"}),u.jsx("button",{className:`fq-tab ${n==="locations"?"fq-tab--active":""}`,onClick:()=>r("locations"),children:"Locations"})]}),n==="office"&&u.jsxs("div",{className:"fq-search",children:[u.jsx(s9,{className:"w-4 h-4 text-gray-500"}),u.jsx("input",{placeholder:"Search items...",value:a,onChange:te=>{c(te.target.value),f(0)}})]}),n==="characters"&&u.jsxs("div",{className:"fq-card",children:[u.jsx("div",{className:"fq-card-title",children:"Customize Your Character"}),u.jsx("p",{className:"fq-caption mb-4",children:"Select a category to customize your business person!"}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:Nx.map(te=>{const Se=Px(te.id),ve=Se.length>0,Ze=s.avatar[te.id];return u.jsxs("button",{onClick:()=>{ve&&(I(te.id),C(!0))},className:`fq-item-card cursor-pointer transition-transform hover:scale-105 ${ve?"":"opacity-50"}`,disabled:!ve,children:[u.jsx("div",{className:"fq-item-preview h-12 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:te.emoji})}),u.jsx("div",{className:"fq-item-name text-center text-[10px]",children:te.name}),u.jsx("div",{className:"text-[9px] text-center text-gray-500",children:ve?`${Se.length}`:"Soon"}),Ze&&u.jsx("div",{className:"text-[9px] text-center text-green-600 font-bold",children:""})]},te.id)})})]}),n==="office"&&u.jsxs("div",{className:"fq-card",children:[u.jsxs("div",{className:"fq-card-title text-sm",children:["Office Items ",v&&u.jsxs("span",{className:"text-xs font-normal",children:["(Selected: ",v.name,")"]})]}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:br.map(te=>u.jsx(hX,{item:te,selected:(v==null?void 0:v.id)===te.id,isOwned:s.office.ownedItemIds.includes(te.id),points:s.points,onSelect:()=>b(te)},te.id))}),u.jsx(fX,{page:d,pageSize:Ha,total:Zn.length,onPage:f})]}),n==="locations"&&u.jsxs("div",{className:"fq-card",children:[u.jsx("div",{className:"fq-card-title text-sm",children:"Move Location"}),u.jsx("p",{className:"fq-caption mb-2 text-xs",children:"Upgrade your office! Better locations = better vibes."}),u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:wk.map((te,Se)=>{var ve;return u.jsxs("div",{className:`fq-item-card ${s.locationId===te.id?"fq-item-card--equipped":""}`,children:[u.jsx("div",{className:"fq-item-preview h-16 relative overflow-hidden rounded-lg",children:te.image?u.jsx("img",{src:te.image,alt:te.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center text-gray-500 text-xs",children:"Coming Soon"})}),u.jsx("div",{className:"fq-item-name text-[10px]",children:te.name}),u.jsx("div",{className:"fq-item-price text-[9px]",children:te.price===0?"Free":aw(te.price)}),te.description&&u.jsx("div",{className:"text-[8px] text-gray-500 truncate",children:te.description}),((ve=te.bonusItems)==null?void 0:ve.length)>0&&u.jsxs("div",{className:"text-[8px] text-green-600 font-bold",children:["+",te.bonusItems.length," items"]}),u.jsx("button",{className:`fq-btn text-[9px] px-2 py-0.5 ${s.locationId===te.id?"":te.image&&Xa(s.points,te.price)?"fq-btn--green":""}`,onClick:()=>Oe(te),disabled:s.locationId===te.id||!te.image||!Xa(s.points,te.price),children:s.locationId===te.id?"Current":te.image?"Move":"Soon"})]},te.id)})})]})]})]}),u.jsx("div",{className:"fq-panel",children:u.jsxs("div",{className:"fq-card",children:[u.jsxs("div",{className:"fq-card-title flex items-center justify-between",children:["Your Home Office",O?u.jsxs("button",{onClick:()=>{L(!1),M(null)},className:"fq-btn fq-btn--green text-xs",children:[u.jsx(Nd,{className:"w-3 h-3"})," Done"]}):u.jsxs("button",{onClick:()=>L(!0),className:"fq-btn text-xs",children:[u.jsx(pp,{className:"w-3 h-3"})," Edit"]})]}),u.jsx(dX,{state:s,onRemove:de,onSellItem:Ne,location:Ot,selectedItem:v,onPlace:me,isEditing:O,onUpdateItemPosition:we,selectedOfficeItemInstance:z,setSelectedOfficeItemInstance:M,large:!0}),O&&z&&u.jsxs("div",{className:"mt-2 flex items-center gap-4 justify-center flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-bold",children:"Size:"}),u.jsx("button",{className:"fq-btn text-xs",onClick:()=>Re(z,-.1),children:""}),u.jsxs("span",{className:"text-xs w-12 text-center",children:[Math.round((((ci=s.office.placed.find(te=>te.instanceId===z))==null?void 0:ci.scale)||1)*100),"%"]}),u.jsx("button",{className:"fq-btn text-xs",onClick:()=>Re(z,.1),children:"+"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-bold",children:"Rotate:"}),u.jsx("button",{className:"fq-btn text-xs",onClick:()=>Ue(z,-15),children:""}),u.jsxs("span",{className:"text-xs w-10 text-center",children:[((ro=s.office.placed.find(te=>te.instanceId===z))==null?void 0:ro.rotation)||0,""]}),u.jsx("button",{className:"fq-btn text-xs",onClick:()=>Ue(z,15),children:""})]})]}),u.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[u.jsxs("div",{className:"fq-caption",children:["Location: ",Ot==null?void 0:Ot.name,'  Click on "Office" tab above to buy items, then click in the room to place them']}),u.jsxs("button",{className:"fq-btn fq-btn--green text-xs",onClick:Nt,disabled:m,children:[u.jsx(Nd,{className:"w-3 h-3"})," ",m?"Saving...":Ye?"Saved! ":"Save Office"]})]})]})}),T&&S&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-[#ffe9c7] rounded-2xl border-4 border-[#0b3b7c] shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-[#29a5ff] to-[#1185e0] p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>I(null),className:"text-white hover:bg-white/20 rounded-full p-1",children:u.jsx(LA,{className:"w-6 h-6"})}),u.jsxs("h2",{className:"text-white font-bold text-xl",children:[(zt=Nx.find(te=>te.id===S))==null?void 0:zt.emoji," ",($t=Nx.find(te=>te.id===S))==null?void 0:$t.name]})]}),u.jsx("button",{onClick:()=>{C(!1),I(null)},className:"text-white hover:bg-white/20 rounded-full p-1",children:u.jsx($c,{className:"w-6 h-6"})})]}),u.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:Px(S).map(te=>{var dt;const Se=s.avatar[S]===te.id,ve=(((dt=s.avatar)==null?void 0:dt.owned)||[]).includes(te.id)||te.price===0,Ze=Xa(s.points,te.price);return u.jsxs("div",{onClick:()=>he(te),className:`fq-item-card cursor-pointer transition-transform hover:scale-105 ${Se?"fq-item-card--equipped":ve?"fq-item-card--owned":""} ${!ve&&!Ze?"opacity-50":""}`,children:[u.jsx("div",{className:"fq-item-preview h-20 flex items-center justify-center overflow-hidden",children:te.image?u.jsx("img",{src:te.image,alt:te.name,className:"w-full h-full object-contain"}):te.color?u.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-gray-400",style:{backgroundColor:te.color}}):u.jsx("span",{className:"text-2xl text-gray-400",children:""})}),u.jsxs("div",{className:"text-center mt-1",children:[u.jsx("span",{className:"text-[10px] text-gray-600 block",children:te.name}),te.price>0&&!ve&&u.jsx("span",{className:"text-[9px] text-orange-600 font-bold",children:aw(te.price)}),u.jsx("span",{className:`text-xs font-bold block ${Se?"text-orange-600":ve?"text-green-600":Ze?"text-blue-600":"text-gray-400"}`,children:Se?" Equipped":ve?"Equip":Ze?"Buy & Equip":"Not enough pts"})]})]},te.id)})}),Px(S).length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("p",{className:"text-lg",children:"No options available yet"}),u.jsx("p",{className:"text-sm",children:"Coming soon!"})]})]})]})})]})}function uX({state:t,isEditing:e,onUpdateLayerPosition:n,selectedLayer:r,setSelectedLayer:s}){var P,k,D,O,L,z;const i=N_.find(M=>{var oe;return M.id===((oe=t.avatar)==null?void 0:oe.hair)}),a=bh.find(M=>{var oe;return M.id===((oe=t.avatar)==null?void 0:oe.avatar)})||bh[0],c=I_.find(M=>{var oe;return M.id===((oe=t.avatar)==null?void 0:oe.outfits)}),d=P_.find(M=>{var oe;return M.id===((oe=t.avatar)==null?void 0:oe.transport)}),f=_h.find(M=>{var oe;return M.id===((oe=t.avatar)==null?void 0:oe.background)})||_h[0],v=(c==null?void 0:c.image)||(c==null?void 0:c.avatarImages)?(()=>{var M;return c?c.avatarImages&&((M=t.avatar)!=null&&M.avatar)&&c.avatarImages[t.avatar.avatar]||c.image:null})():(a==null?void 0:a.image)||iD,b=((k=(P=t.avatar)==null?void 0:P.layerPositions)==null?void 0:k.base)||{x:0,y:0,scale:1},T=((O=(D=t.avatar)==null?void 0:D.layerPositions)==null?void 0:O.hair)||{x:0,y:0,scale:1},C=((z=(L=t.avatar)==null?void 0:L.layerPositions)==null?void 0:z.transport)||{x:0,y:0,scale:1},[S,I]=sn.useState(!1),[A,R]=sn.useState({x:0,y:0}),[B,F]=sn.useState(null),U=(M,oe,ye)=>{var $,X,se,H,re,me;if(!e)return;ye||M.preventDefault(),M.stopPropagation();const he=ye?M.touches[0].clientX:M.clientX,Z=ye?M.touches[0].clientY:M.clientY;I(!0),F(oe),s(oe),R({x:he,y:Z,startPosX:((se=(X=($=t.avatar)==null?void 0:$.layerPositions)==null?void 0:X[oe])==null?void 0:se.x)||0,startPosY:((me=(re=(H=t.avatar)==null?void 0:H.layerPositions)==null?void 0:re[oe])==null?void 0:me.y)||0})};return sn.useEffect(()=>{if(!S||!B)return;const M=ye=>{var H,re;const he=ye.type==="touchmove";he&&ye.preventDefault();const Z=he?ye.touches[0].clientX:ye.clientX,$=he?ye.touches[0].clientY:ye.clientY,X=Z-A.x,se=$-A.y;n(B,{...(re=(H=t.avatar)==null?void 0:H.layerPositions)==null?void 0:re[B],x:A.startPosX+X,y:A.startPosY+se})},oe=()=>{I(!1),F(null)};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",oe),document.addEventListener("touchmove",M,{passive:!1}),document.addEventListener("touchend",oe),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",oe),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",oe)}},[S,B,A]),u.jsxs("div",{className:"fq-avatar-panel flex items-center justify-between h-48 relative overflow-hidden px-4",style:{backgroundImage:`url(${(f==null?void 0:f.image)||oD})`},children:[u.jsxs("div",{className:"relative flex items-end justify-center",style:{width:"240px",height:"240px",transform:`translate(${b.x}px, ${b.y}px) scale(${b.scale})`,marginLeft:"-20px"},children:[u.jsx("div",{className:`h-full w-full flex items-center justify-center select-none ${e?"cursor-move":""} ${e&&r==="base"?"ring-2 ring-blue-400 ring-dashed":""}`,onMouseDown:M=>U(M,"base",!1),onTouchStart:M=>U(M,"base",!0),children:u.jsx("img",{src:v,alt:"Base",className:"h-full w-auto object-contain",draggable:!1})}),(i==null?void 0:i.image)&&u.jsx("img",{src:i.image,alt:"Hair",className:`absolute object-contain select-none ${e?"cursor-move":""} ${e&&r==="hair"?"ring-2 ring-orange-400 ring-dashed":""}`,style:{zIndex:10,left:`calc(50% + ${T.x}px)`,top:`${T.y}px`,transform:`translateX(-50%) scale(${T.scale})`,width:"60px"},onMouseDown:M=>U(M,"hair",!1),onTouchStart:M=>U(M,"hair",!0),draggable:!1})]}),(d==null?void 0:d.image)&&u.jsx("div",{className:`absolute object-contain select-none ${e?"cursor-move":""} ${e&&r==="transport"?"ring-2 ring-green-400 ring-dashed":""}`,style:{zIndex:5,right:"20px",bottom:"10px",width:"100px",transform:`translate(${C.x}px, ${C.y}px) scale(${C.scale})`},onMouseDown:M=>U(M,"transport",!1),onTouchStart:M=>U(M,"transport",!0),children:u.jsx("img",{src:d.image,alt:"Transport",className:"w-full h-full object-contain",draggable:!1})}),e&&u.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-black/50 text-white text-xs p-2 rounded text-center z-20 pointer-events-none",children:"Click & drag to move  Use controls below to resize"})]})}function dX({state:t,onRemove:e,onSellItem:n,location:r,selectedItem:s,onPlace:i,isEditing:a,onUpdateItemPosition:c,selectedOfficeItemInstance:d,setSelectedOfficeItemInstance:f,large:m=!1}){const y=sn.useRef(null),[v,b]=sn.useState(!1),[T,C]=sn.useState({x:0,y:0}),[S,I]=sn.useState(null),A=(P,k,D)=>{if(!a)return;D||P.preventDefault(),P.stopPropagation();const O=t.office.placed.find(M=>M.instanceId===k);if(!O)return;const L=D?P.touches[0].clientX:P.clientX,z=D?P.touches[0].clientY:P.clientY;b(!0),I(k),f(k),C({x:L,y:z,startPosX:O.x||50,startPosY:O.y||50})};sn.useEffect(()=>{if(!v||!S)return;const P=D=>{if(!y.current)return;const O=D.type==="touchmove";O&&D.preventDefault();const L=O?D.touches[0].clientX:D.clientX,z=O?D.touches[0].clientY:D.clientY,M=y.current.getBoundingClientRect(),oe=L-T.x,ye=z-T.y,he=Math.max(0,Math.min(100,T.startPosX+oe/M.width*100)),Z=Math.max(0,Math.min(100,T.startPosY+ye/M.height*100));c(S,{x:he,y:Z})},k=()=>{b(!1),I(null)};return document.addEventListener("mousemove",P),document.addEventListener("mouseup",k),document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",k),()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",k),document.removeEventListener("touchmove",P),document.removeEventListener("touchend",k)}},[v,S,T]);const R=P=>{if(!s||!y.current)return;const k=y.current.getBoundingClientRect(),D=(P.clientX-k.left)/k.width*100,O=(P.clientY-k.top)/k.height*100;i(s,D,O)},B=t.office.placed.find(P=>P.instanceId===d),F=B?hg(dg,B.itemId):null,U=F?Math.floor(F.price/2):0;return u.jsxs("div",{ref:y,className:"fq-office-panel relative cursor-pointer overflow-hidden",style:{height:m?"350px":"220px"},onClick:R,children:[u.jsxs("div",{className:"absolute left-0 top-0 bottom-0 z-10 overflow-hidden",style:{width:"22%",background:"linear-gradient(135deg, #C4A484 0%, #8B7355 50%, #6B5344 100%)",borderRight:"6px solid #4A3728",boxShadow:"inset 0 0 20px rgba(0,0,0,0.3)"},children:[u.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"radial-gradient(circle, #8B6914 1px, transparent 1px)",backgroundSize:"8px 8px"}}),u.jsxs("div",{className:"relative z-10 text-center py-3 px-1",children:[u.jsx("div",{className:"text-lg font-black text-yellow-400 drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:""}),u.jsx("div",{className:"text-[10px] font-black text-white tracking-wide",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MY ACHIEVEMENTS"})]}),u.jsx("div",{className:"relative z-10 flex flex-col items-center gap-3 px-2",children:(t.badges||[]).map((P,k)=>u.jsxs("div",{className:"relative cursor-pointer hover:scale-110 transition-transform",children:[u.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-red-500 border-2 border-red-700 shadow-md z-20"}),u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-full border-3 border-yellow-600 flex items-center justify-center text-lg shadow-lg mt-1",children:""})]},k))})]}),u.jsxs("div",{className:"absolute right-0 top-0 bottom-0 z-10 overflow-hidden",style:{width:"22%",background:"linear-gradient(225deg, #C4A484 0%, #8B7355 50%, #6B5344 100%)",borderLeft:"6px solid #4A3728",boxShadow:"inset 0 0 20px rgba(0,0,0,0.3)"},children:[u.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"radial-gradient(circle, #8B6914 1px, transparent 1px)",backgroundSize:"8px 8px"}}),u.jsxs("div",{className:"relative z-10 text-center py-3 px-1",children:[u.jsx("div",{className:"text-lg font-black text-yellow-400 drop-shadow-lg",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:""}),u.jsx("div",{className:"text-[10px] font-black text-white tracking-wide",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.7)"},children:"MY LEARNING"})]}),u.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-3 px-2",children:[u.jsx(bk,{title:" Welcome to FinQuest! ",description:"Congratulations on starting your financial literacy journey! You're taking the first step towards becoming a money-smart superstar!",date:new Date().toLocaleDateString()}),(t.certificates||[]).map((P,k)=>u.jsx(bk,{...P},k))]})]}),u.jsxs("div",{className:"absolute top-0 bottom-0",style:{left:"21%",right:"21%"},children:[r!=null&&r.image?u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#d4c4a8]",children:u.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 h-[60%] bg-[#e8e4de]"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[40%] bg-[#8b7355]"})]}),t.office.placed.map(P=>{const k=hg(dg,P.itemId);if(!k)return null;const D=d===P.instanceId,O=P.scale||1,L=((P.x||50)-21)/58*100;return u.jsx("div",{className:`absolute flex flex-col items-center justify-end select-none ${a?"cursor-move":""} ${D?"ring-2 ring-orange-400 ring-dashed rounded":""}`,style:{left:`${L}%`,top:`${P.y||60}%`,transform:`translate(-50%, -50%) scale(${O})`,zIndex:Math.min(Math.round(P.y||60),40)},onMouseDown:z=>A(z,P.instanceId,!1),onTouchStart:z=>A(z,P.instanceId,!0),onClick:z=>{z.stopPropagation(),a&&f(P.instanceId)},children:k.image?u.jsx("div",{style:{width:"100px",height:"100px",display:"flex",alignItems:"flex-end",justifyContent:"center"},children:u.jsx("img",{src:k.image,alt:k.name,className:"object-contain",style:{maxWidth:"100%",maxHeight:"100%",transform:`rotateY(${P.rotation||0}deg)`,filter:"drop-shadow(0 4px 4px rgba(0,0,0,0.2))"}})}):u.jsx("div",{className:"text-4xl",style:{transform:`rotateY(${P.rotation||0}deg)`,transformStyle:"preserve-3d"},children:k.emoji||aD(k.category)})},P.instanceId)})]}),a&&u.jsxs("div",{className:"absolute bottom-2 left-[21%] right-[21%] bg-black/50 text-white text-xs p-2 rounded text-center z-20",children:["Click to place  Drag items to move  Select item to resize/sell",d&&F&&u.jsxs("button",{onClick:P=>{P.stopPropagation(),n(d)},className:"ml-2 bg-yellow-500 text-black px-2 py-0.5 rounded font-bold hover:bg-yellow-400",children:["Sell for ",U," pts"]})]})]})}function bk({title:t,description:e,date:n}){const[r,s]=sn.useState(!1),i=()=>{const a=window.open("","_blank");a.document.write(`
      <html>
        <head><title>${t}</title></head>
        <body style="display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;font-family:Georgia,serif;background:linear-gradient(135deg,#667eea,#764ba2);">
          <div style="background:linear-gradient(180deg,#FFF8DC,#F5E6C8);border:12px solid #8B4513;border-radius:20px;padding:50px;text-align:center;max-width:650px;box-shadow:0 20px 60px rgba(0,0,0,0.3);">
            <div style="font-size:60px;margin-bottom:10px;"></div>
            <h1 style="color:#8B4513;margin-bottom:5px;font-size:32px;">Certificate of Achievement</h1>
            <div style="width:100px;height:4px;background:linear-gradient(90deg,#FFD700,#FFA500);margin:10px auto 20px;border-radius:2px;"></div>
            <h2 style="color:#2C1810;font-size:28px;margin-bottom:15px;">${t}</h2>
            <p style="color:#5D4037;margin:25px 0;font-size:18px;line-height:1.6;">${e||""}</p>
            <div style="font-size:40px;margin:20px 0;"></div>
            <p style="color:#8B4513;font-size:14px;margin-bottom:20px;">Awarded: ${n||new Date().toLocaleDateString()}</p>
            <div style="margin-top:30px;border-top:3px solid #8B4513;padding-top:20px;">
              <p style="font-style:italic;color:#8B4513;font-size:20px;font-weight:bold;">FinQuest Academy</p>
              <p style="color:#666;font-size:12px;margin-top:5px;">Building Financial Superstars!</p>
            </div>
          </div>
        </body>
      </html>
    `),a.document.close(),a.print()};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative cursor-pointer hover:scale-110 transition-transform",onClick:()=>s(!0),children:[u.jsx("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-red-500 border-2 border-red-700 shadow-md z-20"}),u.jsx("div",{className:"w-14 h-8 bg-gradient-to-b from-[#FFF8DC] to-[#F5E6C8] border-2 border-[#8B4513] rounded-sm flex items-center justify-center text-sm shadow-lg mt-1",style:{boxShadow:"2px 2px 8px rgba(0,0,0,0.3)"},children:""})]}),r&&mI.createPortal(u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4",style:{zIndex:999999},onClick:()=>s(!1),children:u.jsxs("div",{className:"bg-gradient-to-r from-[#FFF8DC] to-[#F5E6C8] p-4 text-center rounded-lg",style:{border:"6px solid #8B4513",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",width:"400px",maxWidth:"90vw"},onClick:a=>a.stopPropagation(),children:[u.jsx("div",{className:"text-2xl mb-1",children:""}),u.jsx("h2",{className:"text-lg font-black text-[#8B4513] mb-1",children:"Certificate of Achievement"}),u.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-yellow-400 to-orange-500 mx-auto rounded-full mb-2"}),u.jsx("h3",{className:"text-base font-bold text-[#2C1810] mb-2",children:t}),e&&u.jsx("p",{className:"text-sm text-[#5D4037] mb-2",children:e}),u.jsx("div",{className:"text-xl mb-2",children:""}),u.jsxs("p",{className:"text-xs text-[#8B4513] mb-3",children:["Awarded: ",n||new Date().toLocaleDateString()]}),u.jsx("div",{className:"border-t-2 border-[#8B4513] pt-2 mb-3",children:u.jsx("p",{className:"italic text-[#8B4513] text-sm font-bold",children:"FinQuest Academy"})}),u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsx("button",{onClick:i,className:"bg-[#8B4513] text-white px-3 py-1.5 rounded text-sm font-bold hover:opacity-90",children:" Print"}),u.jsx("button",{onClick:()=>s(!1),className:"bg-gray-500 text-white px-3 py-1.5 rounded text-sm font-bold hover:bg-gray-600",children:"Close"})]})]})}),document.body)]})}function hX({item:t,selected:e,points:n,onSelect:r,isOwned:s}){const i=Xa(n,t.price),a={basic:"bg-blue-100 text-blue-700",standard:"bg-green-100 text-green-700",premium:"bg-orange-100 text-orange-700",elite:"bg-red-100 text-red-700",fun:"bg-purple-100 text-purple-700"};return u.jsxs("div",{className:`fq-item-card ${e?"fq-item-card--equipped":""}`,children:[u.jsx("div",{className:"fq-item-preview h-16 flex items-center justify-center overflow-hidden",children:t.image?u.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-contain"}):u.jsx("div",{className:"text-4xl",children:t.emoji||aD(t.category)})}),u.jsx("div",{className:"fq-item-name text-xs font-bold text-center",children:t.name}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[u.jsx("div",{className:"fq-item-price text-sm font-bold",children:aw(t.price)}),t.tier&&u.jsx("span",{className:`text-[9px] px-2 py-0.5 rounded ${a[t.tier]||""}`,children:t.tier})]}),u.jsx("button",{className:`fq-btn text-xs px-2 py-1 w-full mt-1 ${s||i?"fq-btn--green":""}`,onClick:r,disabled:!s&&!i,children:s?"Place":"Buy & Place"})]})}function fX({page:t,pageSize:e,total:n,onPage:r}){const s=Math.max(1,Math.ceil(n/e));return s<=1?null:u.jsxs("div",{className:"fq-pagination",children:[u.jsx("button",{onClick:()=>r(Math.max(0,t-1)),disabled:t===0,children:"Prev"}),u.jsxs("span",{className:"text-sm",children:["Page ",t+1," / ",s]}),u.jsx("button",{onClick:()=>r(Math.min(s-1,t+1)),disabled:t>=s-1,children:"Next"})]})}function aD(t){return{desk:"",chair:"",storage:"",lighting:"",plant:"",tech:"",art:"",appliance:"",decor:"",trophy:""}[t]||""}function mX(t,e=8e3,n="Operation"){return Promise.race([t,new Promise((r,s)=>setTimeout(()=>s(new Error(`${n} timed out after ${e}ms`)),e))])}function lD(){const[t,e]=w.useState(null),[n,r]=w.useState(!1);w.useEffect(()=>{const i=rD();if(!i){window.location.href=ot("StudentLogin");return}e(i)},[]);const s=async i=>{var a;if(t!=null&&t.id){r(!0);try{const c={...t,avatar_state:i,has_created_avatar:!0},d=Xt(st,"students",t.id);await mX(Hp(d,{avatar_state:i,has_created_avatar:!0}),8e3,"Save avatar"),k_(c),e(c)}catch(c){console.error("Avatar save failed:",c),alert((a=c==null?void 0:c.message)!=null&&a.includes("timed out")?"Saving timed out (school Wi-Fi can block Firestore). Try a hotspot once to confirm.":"Could not save avatar. Please try again.")}finally{r(!1)}}};return t?u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#ffd7a0"},children:[u.jsx(xr,{}),u.jsxs("div",{className:"pt-24 pb-8",children:[u.jsx("div",{className:"max-w-6xl mx-auto px-4",children:n&&u.jsx("div",{className:"mb-4 text-sm text-center text-gray-700",children:"Saving"})}),u.jsx(cX,{student:t,onSave:s})]}),u.jsx(wr,{})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Loading..."})})}function Ax(t,e=8e3,n="Operation"){return Promise.race([t,new Promise((r,s)=>setTimeout(()=>s(new Error(`${n} timed out after ${e}ms`)),e))])}function cD(){var F,U,P,k,D,O,L,z;const[t,e]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(null);w.useEffect(()=>{const M=rD();if(!M){window.location.href=ot("StudentLogin");return}e(M),(async()=>{try{const oe=Xt(st,"students",M.id),ye=await Ax(Fi(oe),8e3,"Load student profile");if(ye.exists()){const he={id:ye.id,...ye.data()};k_({...he,class_id:he.classId,teacher_id:he.teacherId}),e({...he,class_id:he.classId,teacher_id:he.teacherId})}}catch(oe){console.warn("Student refresh failed:",(oe==null?void 0:oe.message)||oe)}})()},[]),w.useEffect(()=>{t!=null&&t.teacherId&&(async()=>{try{const M=Xt(st,"teachers",t.teacherId),oe=await Ax(Fi(M),8e3,"Load teacher");r(oe.exists()?{id:oe.id,...oe.data()}:null)}catch(M){console.warn("Teacher load failed:",(M==null?void 0:M.message)||M)}})()},[t==null?void 0:t.teacherId]),w.useEffect(()=>{t!=null&&t.classId&&(async()=>{try{const M=Xt(st,"classes",t.classId),oe=await Ax(Fi(M),8e3,"Load class");i(oe.exists()?{id:oe.id,...oe.data()}:null)}catch(M){console.warn("Class load failed:",(M==null?void 0:M.message)||M)}})()},[t==null?void 0:t.classId]);const a=()=>{FQ(),window.location.href=ot("Home")};if(!t)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Loading..."})});const c=t.avatar_state,d=(c==null?void 0:c.points)||100,f=N_.find(M=>{var oe;return M.id===((oe=c==null?void 0:c.avatar)==null?void 0:oe.hair)}),m=bh.find(M=>{var oe;return M.id===((oe=c==null?void 0:c.avatar)==null?void 0:oe.avatar)})||bh[0],y=I_.find(M=>{var oe;return M.id===((oe=c==null?void 0:c.avatar)==null?void 0:oe.outfits)}),v=P_.find(M=>{var oe;return M.id===((oe=c==null?void 0:c.avatar)==null?void 0:oe.transport)}),b=_h.find(M=>{var oe;return M.id===((oe=c==null?void 0:c.avatar)==null?void 0:oe.background)})||_h[0],T=((F=c==null?void 0:c.playerDetails)==null?void 0:F.name)||t.name,I=(y==null?void 0:y.image)||(y==null?void 0:y.avatarImages)?(()=>{var M;return y?y.avatarImages&&((M=c==null?void 0:c.avatar)!=null&&M.avatar)&&y.avatarImages[c.avatar.avatar]||y.image:null})():(m==null?void 0:m.image)||iD,A=((P=(U=c==null?void 0:c.avatar)==null?void 0:U.layerPositions)==null?void 0:P.base)||{x:0,y:0,scale:1},R=((D=(k=c==null?void 0:c.avatar)==null?void 0:k.layerPositions)==null?void 0:D.hair)||{x:0,y:0,scale:1},B=((L=(O=c==null?void 0:c.avatar)==null?void 0:O.layerPositions)==null?void 0:L.transport)||{x:0,y:0,scale:1};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[u.jsxs("div",{className:"flex justify-between items-start mb-8",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"w-24 h-24 rounded-xl overflow-hidden border-2 border-blue-900 relative",style:{backgroundImage:`url(${(b==null?void 0:b.image)||oD})`,backgroundSize:"cover",backgroundPosition:"center"},children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:u.jsxs("div",{style:{transform:"scale(0.35)",transformOrigin:"center center",width:"240px",height:"240px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[u.jsxs("div",{style:{width:"240px",height:"240px",transform:`translate(${A.x}px, ${A.y}px) scale(${A.scale})`,position:"relative",display:"flex",alignItems:"flex-end",justifyContent:"center",marginLeft:"-40px"},children:[u.jsx("img",{src:I,alt:"Avatar",className:"h-full w-auto object-contain"}),(f==null?void 0:f.image)&&u.jsx("img",{src:f.image,alt:"Hair",className:"absolute object-contain",style:{zIndex:10,left:`calc(50% + ${R.x}px)`,top:`${R.y}px`,transform:`translateX(-50%) scale(${R.scale})`,width:"60px"}})]}),(v==null?void 0:v.image)&&u.jsx("div",{className:"absolute object-contain",style:{zIndex:5,right:"20px",bottom:"10px",width:"100px",transform:`translate(${B.x}px, ${B.y}px) scale(${B.scale})`},children:u.jsx("img",{src:v.image,alt:"Transport",className:"w-full h-full object-contain"})})]})})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold",style:{color:"#3448C5"},children:["Welcome, ",T,"!"]}),u.jsxs("p",{className:"text-gray-600",children:[(s==null?void 0:s.name)||"Class","  ",(s==null?void 0:s.year_group)||(s==null?void 0:s.yearGroup)||""]}),u.jsxs("div",{className:"mt-1 inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-bold",style:{backgroundColor:"#f6a623",color:"#2b1600"},children:[d," pts"]})]})]}),u.jsxs(Ge,{variant:"outline",onClick:a,className:"gap-2",children:[u.jsx(gh,{className:"w-4 h-4"})," Logout"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(Yt,{to:ot("ExploreGames"),children:u.jsx(Be,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:u.jsxs(He,{className:"p-8 flex flex-col items-center justify-center text-center h-full",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#3448C5"},children:u.jsx(Ug,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#3448C5"},children:"Play Games"}),u.jsx("p",{className:"text-gray-600",children:"Explore financial literacy games"})]})})}),u.jsx(Yt,{to:ot("AvatarCreation"),children:u.jsx(Be,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:u.jsxs(He,{className:"p-8 flex flex-col items-center justify-center text-center h-full",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#35D0BA"},children:u.jsx(Ac,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#3448C5"},children:"My Avatar"}),u.jsx("p",{className:"text-gray-600",children:"Customize your character"})]})})}),u.jsx(Yt,{to:ot("AvatarCreation"),children:u.jsx(Be,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:u.jsxs(He,{className:"p-8 flex flex-col items-center justify-center text-center h-full",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#f6a623"},children:u.jsx(o8,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#3448C5"},children:"My Office"}),u.jsx("p",{className:"text-gray-600",children:"Design your workspace"})]})})}),u.jsx(Yt,{to:ot("TakeQuiz"),children:u.jsx(Be,{className:"hover:shadow-xl transition-all cursor-pointer h-full",children:u.jsxs(He,{className:"p-8 flex flex-col items-center justify-center text-center h-full",children:[u.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#ec4899"},children:u.jsx(MA,{className:"w-10 h-10 text-white"})}),u.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"#3448C5"},children:"Take Quiz"}),u.jsx("p",{className:"text-gray-600",children:"Test your knowledge"})]})})})]}),((z=n==null?void 0:n.unlocked_years)==null?void 0:z.length)>0&&u.jsxs(Be,{className:"mt-8",children:[u.jsx(Vi,{children:u.jsx(Bi,{children:"Your Unlocked Content"})}),u.jsx(He,{children:u.jsx("div",{className:"flex flex-wrap gap-2",children:n.unlocked_years.map(M=>u.jsx("span",{className:"px-4 py-2 rounded-full text-white font-medium",style:{backgroundColor:"#35D0BA"},children:M},M))})})]})]})}),u.jsx(wr,{})]})}const pX="benhpritchard2024@gmail.com";function lw(){const t=wg(),[e,n]=w.useState(""),[r,s]=w.useState(""),[i,a]=w.useState(""),[c,d]=w.useState(!1),f=async()=>{a(""),d(!0);const m=e.trim().toLowerCase();try{const y=await kV(Ws,m,r),v=y.user.uid,b=(y.user.email||m).toLowerCase();let T=b===pX.toLowerCase()?"main_admin":"teacher",C=null;C=await jA(v),C!=null&&C.role&&(T=C.role);const S={id:v,uid:v,email:(C==null?void 0:C.email)||b,role:T,credits_total:Number((C==null?void 0:C.credits_total)??0),credits_used:Number((C==null?void 0:C.credits_used)??0),unlocked_years:Array.isArray(C==null?void 0:C.unlocked_years)?C.unlocked_years:[],school_name:(C==null?void 0:C.school_name)||""};localStorage.setItem("finnquest_teacher",JSON.stringify(S)),localStorage.setItem("finquest_teacher",JSON.stringify(S)),localStorage.setItem("finnquest_role",T),t(T==="main_admin"?"/MainAdminDashboard":"/AdminDashboard")}catch(y){console.error("Firebase login error:",y);const v=(y==null?void 0:y.code)||"";a(v==="auth/user-not-found"?"User not found in this Firebase project.":v==="auth/wrong-password"?"Incorrect password.":v==="auth/invalid-credential"?"Invalid email/password.":v==="auth/too-many-requests"?"Too many attempts. Wait a moment and try again.":"Login failed. Please try again.")}finally{d(!1)}};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20 min-h-screen flex items-center justify-center",children:u.jsxs(Be,{className:"w-full max-w-md mx-4",children:[u.jsxs(Vi,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4",children:u.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/6922e5b0ed36c6ebd97761f8/8a8ccc245_Gemini_Generated_Image_3z9ysf3z9ysf3z9y.png",alt:"FinnQuest Logo",className:"h-20 w-auto mx-auto rounded-full"})}),u.jsx(Bi,{className:"text-2xl",style:{color:"#3448C5"},children:"Teacher Login"}),u.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Use your admin email & password"})]}),u.jsx(He,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx(an,{type:"email",value:e,onChange:m=>n(m.target.value),placeholder:"Enter your email",autoComplete:"email",onKeyDown:m=>m.key==="Enter"&&f()})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),u.jsx(an,{type:"password",value:r,onChange:m=>s(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",onKeyDown:m=>m.key==="Enter"&&f()})]}),i&&u.jsx("p",{className:"text-red-600 text-sm text-center",children:i}),u.jsx(Ge,{onClick:f,className:"w-full text-lg py-6",style:{backgroundColor:"#3448C5"},disabled:c||!e.trim()||!r,children:c?"Logging in...":"Login"})]})})]})}),u.jsx(wr,{})]})}const gX={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},yX=wF().find(t=>t.name==="secondary")||Hw(gX,"secondary"),Rx=aP(yX);var ay="Checkbox",[vX]=lf(ay),[xX,j_]=vX(ay);function wX(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:a,name:c,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:y}=t,[v,b]=ng({prop:n,defaultProp:s??!1,onChange:d,caller:ay}),[T,C]=w.useState(null),[S,I]=w.useState(null),A=w.useRef(!1),R=T?!!a||!!T.closest("form"):!0,B={checked:v,disabled:i,setChecked:b,control:T,setControl:C,name:c,form:a,value:m,hasConsumerStoppedPropagationRef:A,required:f,defaultChecked:sa(s)?!1:s,isFormControl:R,bubbleInput:S,setBubbleInput:I};return u.jsx(xX,{scope:e,...B,children:bX(y)?y(B):r})}var uD="CheckboxTrigger",dD=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:a,disabled:c,checked:d,required:f,setControl:m,setChecked:y,hasConsumerStoppedPropagationRef:v,isFormControl:b,bubbleInput:T}=j_(uD,t),C=Ut(s,m),S=w.useRef(d);return w.useEffect(()=>{const I=i==null?void 0:i.form;if(I){const A=()=>y(S.current);return I.addEventListener("reset",A),()=>I.removeEventListener("reset",A)}},[i,y]),u.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":sa(d)?"mixed":d,"aria-required":f,"data-state":gD(d),"data-disabled":c?"":void 0,disabled:c,value:a,...r,ref:C,onKeyDown:Et(e,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:Et(n,I=>{y(A=>sa(A)?!0:!A),T&&b&&(v.current=I.isPropagationStopped(),v.current||I.stopPropagation())})})});dD.displayName=uD;var D_=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:d,onCheckedChange:f,form:m,...y}=t;return u.jsx(wX,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:c,required:a,onCheckedChange:f,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:v})=>u.jsxs(u.Fragment,{children:[u.jsx(dD,{...y,ref:e,__scopeCheckbox:n}),v&&u.jsx(pD,{__scopeCheckbox:n})]})})});D_.displayName=ay;var hD="CheckboxIndicator",fD=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=j_(hD,n);return u.jsx(cf,{present:r||sa(i.checked)||i.checked===!0,children:u.jsx(_t.span,{"data-state":gD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});fD.displayName=hD;var mD="CheckboxBubbleInput",pD=w.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:a,required:c,disabled:d,name:f,value:m,form:y,bubbleInput:v,setBubbleInput:b}=j_(mD,t),T=Ut(n,b),C=H2(i),S=M2(r);w.useEffect(()=>{const A=v;if(!A)return;const R=window.HTMLInputElement.prototype,F=Object.getOwnPropertyDescriptor(R,"checked").set,U=!s.current;if(C!==i&&F){const P=new Event("click",{bubbles:U});A.indeterminate=sa(i),F.call(A,sa(i)?!1:i),A.dispatchEvent(P)}},[v,C,i,s]);const I=w.useRef(sa(i)?!1:i);return u.jsx(_t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??I.current,required:c,disabled:d,name:f,value:m,form:y,...e,tabIndex:-1,ref:T,style:{...e.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pD.displayName=mD;function bX(t){return typeof t=="function"}function sa(t){return t==="indeterminate"}function gD(t){return sa(t)?"indeterminate":t?"checked":"unchecked"}const yD=w.forwardRef(({className:t,...e},n)=>u.jsx(D_,{ref:n,className:it("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(fD,{className:it("flex items-center justify-center text-current"),children:u.jsx(OA,{className:"h-4 w-4"})})}));yD.displayName=D_.displayName;const _X=zg("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _k({className:t,variant:e,...n}){return u.jsx("div",{className:it(_X({variant:e}),t),...n})}const Sk="benhpritchard2024@gmail.com",vD=["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9"];function Ga(t,e,n="Operation"){return Promise.race([t,new Promise((r,s)=>setTimeout(()=>s(new Error(`${n} timed out after ${e}ms`)),e))])}function SX(t){return Array.isArray(t)?t.filter(e=>vD.includes(e)):[]}function xD(){const[t,e]=w.useState(null),[n,r]=w.useState([]),[s,i]=w.useState(!0),[a,c]=w.useState(!1),[d,f]=w.useState(!1),[m,y]=w.useState({email:"",password:"",school_name:"",credits_total:0}),[v,b]=w.useState(""),T=w.useMemo(()=>{const F=n.reduce((P,k)=>P+(Number(k.credits_total)||0),0),U=n.reduce((P,k)=>P+(Number(k.credits_used)||0),0);return{totalCredits:F,usedCredits:U}},[n]);w.useEffect(()=>{const F=localStorage.getItem("finnquest_teacher")||localStorage.getItem("finquest_teacher");if(!F){window.location.href=ot("AdminLogin");return}const U=JSON.parse(F);if((U.email||"").toLowerCase()!==Sk.toLowerCase()){window.location.href=ot("AdminDashboard");return}e(U)},[]),w.useEffect(()=>{t&&(async()=>{var F,U;try{if(console.log("DEBUG projectId:",st.app.options.projectId),console.log("DEBUG main auth uid:",(F=Ws.currentUser)==null?void 0:F.uid),!((U=Ws.currentUser)!=null&&U.uid))return;const P=Xt(st,"teachers",Ws.currentUser.uid),k=await Ga(Fi(P),6e3,"Read main admin teacher doc");if(!k.exists()){b(`Your main admin Firestore doc is missing at /teachers/${Ws.currentUser.uid}.

Create it in Firestore with role="main_admin".`);return}const D=k.data();if((D==null?void 0:D.role)!=="main_admin"){b(`Your Firestore role is not main_admin.

In /teachers/${Ws.currentUser.uid}, set role = "main_admin".`);return}b("")}catch(P){console.error("Main admin verification failed:",P),b(`Cannot read your main admin doc from Firestore.

This is either:
- Firestore rules blocking reads
- Wrong Firebase project/env vars
- Network blocking Firestore

Error: ${(P==null?void 0:P.message)||P}`)}})()},[t]);const C=async()=>{i(!0);try{const U=(await Ga(ph(ta(st,"teachers")),8e3,"Load teachers")).docs.map(P=>{const k=P.data();return{id:P.id,...k,unlocked_years:SX(k==null?void 0:k.unlocked_years)}}).filter(P=>(P.email||"").toLowerCase()!==Sk.toLowerCase());U.sort((P,k)=>(P.school_name||"").localeCompare(k.school_name||"")),r(U)}catch(F){console.error("Failed to load teachers:",F),alert(`Could not load teachers from Firestore.

Most common causes:
- Firestore Rules don't allow this user to read /teachers
- Network blocks Firestore
- Wrong Firebase project/env vars

Error: `+((F==null?void 0:F.message)||F))}finally{i(!1)}};w.useEffect(()=>{t&&!v&&C()},[t,v]);const S=async()=>{if(v){alert("Fix the red error message first  Firestore isnt accessible for main admin yet.");return}const F=m.email.trim().toLowerCase(),U=m.password,P=m.school_name.trim(),k=Number(m.credits_total)||0;if(!F)return alert("Please enter an email.");if(!U||U.length<6)return alert("Password must be at least 6 characters.");if(!P)return alert("Please enter a school name.");f(!0);let D=null;try{console.log("CREATE TEACHER: Step 1 - starting",{email:F,school_name:P,credits_total:k}),console.log("DEBUG projectId:",st.app.options.projectId),console.log("CREATE TEACHER: Step 2 - creating Auth user..."),D=(await TV(Rx,F,U)).user.uid,console.log("CREATE TEACHER: Step 3 - Auth user created",D),console.log("CREATE TEACHER: Step 4 - writing Firestore teacher doc...");const L=Xt(st,"teachers",D);if(await Ga(VU(L,{email:F,role:"teacher",school_name:P,credits_total:k,credits_used:0,unlocked_years:[],created_at:Gp()}),12e3,"Firestore write (teacher profile)"),console.log("CREATE TEACHER: Step 5 - verifying Firestore write..."),!(await Ga(Fi(L),8e3,"Verify teacher profile exists")).exists())throw new Error("Write reported success but document is not readable. This strongly suggests a project mismatch or rules issue.");console.log("CREATE TEACHER: Step 6 - signing out secondary auth..."),await o0(Rx),c(!1),y({email:"",password:"",school_name:"",credits_total:0}),await C(),alert("Teacher created successfully (Auth + Firestore).")}catch(O){console.error("Create teacher failed:",O);const L=(O==null?void 0:O.code)||"",z=(O==null?void 0:O.message)||"";L==="auth/email-already-in-use"?alert("That email is already in use in Firebase Auth."):z.toLowerCase().includes("permission")||z.toLowerCase().includes("insufficient permissions")?alert(`Firestore blocked the write (permissions). This is Firestore Rules / role doc problem.

`+z):z.toLowerCase().includes("timed out")?alert(`Firestore write timed out.

This usually means:
- Firestore is blocked by network
OR
- request is stuck due to config/project mismatch

Auth user may have been created.
UID: `+(D||"unknown")):alert(`Create teacher failed:

`+(L||z||"unknown error"));try{await o0(Rx)}catch{}}finally{f(!1)}},I=async(F,U)=>{const P=Array.isArray(F.unlocked_years)?F.unlocked_years:[],k=P.includes(U)?P.filter(D=>D!==U):[...P,U];r(D=>D.map(O=>O.id===F.id?{...O,unlocked_years:k}:O));try{await Ga(Hp(Xt(st,"teachers",F.id),{unlocked_years:k}),8e3,"Update unlocked_years")}catch(D){console.error("Toggle year failed:",D),alert(`Failed to update year group (rules/network).

`+((D==null?void 0:D.message)||D)),await C()}},A=async(F,U)=>{const P=Math.max(0,Number(U)||0);r(k=>k.map(D=>D.id===F.id?{...D,credits_total:P}:D));try{await Ga(Hp(Xt(st,"teachers",F.id),{credits_total:P}),8e3,"Update credits_total")}catch(k){console.error("Update credits failed:",k),alert(`Failed to update credits (rules/network).

`+((k==null?void 0:k.message)||k)),await C()}},R=async F=>{if(confirm(`Delete this teacher PROFILE from Firestore?

Note: This does NOT delete the Auth user.`))try{await Ga(BU(Xt(st,"teachers",F.id)),8e3,"Delete teacher profile"),await C()}catch(U){console.error("Delete teacher failed:",U),alert(`Failed to delete teacher (rules/network).

`+((U==null?void 0:U.message)||U))}},B=()=>{localStorage.removeItem("finnquest_teacher"),localStorage.removeItem("finquest_teacher"),localStorage.removeItem("finnquest_role"),window.location.href=ot("Home")};return t?u.jsxs("div",{className:"min-h-screen bg-[#FAF7F0]",children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-28 pb-20 px-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-[#3448C5]",children:"Main Admin Dashboard"}),u.jsxs("p",{className:"text-gray-600",children:["Teachers live in Firestore: /teachers/","{uid}"]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Project: ",String(st.app.options.projectId||"")]})]}),u.jsxs(Ge,{variant:"outline",onClick:B,className:"gap-2",children:[u.jsx(gh,{className:"w-4 h-4"})," Logout"]})]}),v&&u.jsx(Be,{className:"mb-6 border-red-300 bg-red-50",children:u.jsx(He,{className:"p-4 text-red-800",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(p9,{className:"w-5 h-5 mt-0.5"}),u.jsx("div",{className:"whitespace-pre-wrap text-sm",children:v})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx(Be,{children:u.jsxs(He,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:u.jsx(fu,{className:"w-6 h-6 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Total Teachers"}),u.jsx("p",{className:"text-2xl font-bold",children:n.length})]})]})}),u.jsx(Be,{children:u.jsxs(He,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-green-100",children:u.jsx(eT,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Total Credits Allocated"}),u.jsx("p",{className:"text-2xl font-bold",children:T.totalCredits})]})]})}),u.jsx(Be,{children:u.jsxs(He,{className:"p-6 flex items-center gap-4",children:[u.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:u.jsx(eT,{className:"w-6 h-6 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500",children:"Total Credits Used"}),u.jsx("p",{className:"text-2xl font-bold",children:T.usedCredits})]})]})})]}),u.jsxs("div",{className:"mb-6 flex gap-3",children:[u.jsxs(Ge,{onClick:()=>c(!0),className:"gap-2",style:{backgroundColor:"#3448C5"},disabled:!!v,children:[u.jsx(Fb,{className:"w-4 h-4"})," Add Teacher"]}),u.jsx(Ge,{variant:"outline",onClick:C,disabled:s||!!v,children:s?"Refreshing...":"Refresh List"})]}),s?u.jsx(Be,{children:u.jsx(He,{className:"p-10 text-center text-gray-600",children:"Loading teachers"})}):u.jsxs("div",{className:"space-y-4",children:[n.map(F=>u.jsx(Be,{children:u.jsx(He,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-lg",children:F.school_name||"No School Name"}),u.jsx("p",{className:"text-gray-600",children:F.email}),u.jsxs("div",{className:"flex gap-3 mt-2",children:[u.jsxs(_k,{variant:"outline",className:"bg-green-50",children:["Credits: ",F.credits_used||0," / ",F.credits_total||0]}),u.jsxs(_k,{variant:"outline",className:"bg-blue-50",children:["Remaining: ",(F.credits_total||0)-(F.credits_used||0)]})]})]}),u.jsx("div",{className:"flex flex-wrap gap-3",children:vD.map(U=>{const P=(F.unlocked_years||[]).includes(U);return u.jsxs("label",{className:"flex items-center gap-1.5 text-xs cursor-pointer",children:[u.jsx(yD,{checked:P,onCheckedChange:()=>I(F,U)}),u.jsx("span",{className:P?"text-green-700 font-medium":"text-gray-500",children:U})]},U)})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(an,{type:"number",className:"w-28",defaultValue:F.credits_total||0,min:0,onBlur:U=>A(F,U.target.value)}),u.jsx(Ge,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>R(F),children:u.jsx($A,{className:"w-4 h-4"})})]})]})})},F.id)),n.length===0&&u.jsx(Be,{children:u.jsx(He,{className:"p-12 text-center text-gray-500",children:"No teachers in Firestore yet. Click Add Teacher."})})]})]})}),u.jsx(la,{open:a,onOpenChange:c,children:u.jsxs(Gi,{children:[u.jsx(Ki,{children:u.jsx(Yi,{children:"Add New Teacher (Firebase)"})}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),u.jsx(an,{type:"email",value:m.email,onChange:F=>y({...m,email:F.target.value}),placeholder:"teacher@school.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Temporary Password"}),u.jsx(an,{type:"text",value:m.password,onChange:F=>y({...m,password:F.target.value}),placeholder:"min 6 characters"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"School Name"}),u.jsx(an,{value:m.school_name,onChange:F=>y({...m,school_name:F.target.value}),placeholder:"Example Primary School"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Credits to Allocate"}),u.jsx(an,{type:"number",min:0,value:m.credits_total,onChange:F=>y({...m,credits_total:F.target.value}),placeholder:"0"})]}),u.jsx(Ge,{onClick:S,className:"w-full",style:{backgroundColor:"#3448C5"},disabled:d,children:d?"Creating":"Create Teacher"})]})]})}),u.jsx(wr,{})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#FAF7F0]",children:u.jsx("p",{children:"Loading..."})})}function EX({data:t,year:e,locked:n}){var i,a,c,d,f,m;if(!t)return u.jsx("div",{className:"text-center py-20",children:u.jsxs("p",{className:"text-gray-500 text-xl",children:["Curriculum data coming soon for ",e,"."]})});const r=()=>{window.print()},s=({title:y,icon:v})=>u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 relative overflow-hidden h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-400",children:[v&&u.jsx(v,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:y})]}),u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"text-3xl",children:""})})})]});return n?u.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-12",children:[u.jsxs("div",{className:"bg-gradient-to-r from-gray-400 to-gray-500 rounded-2xl p-8 text-white shadow-lg mb-8",children:[u.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-sm font-semibold mb-4 backdrop-blur-sm",children:e}),u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2 flex items-center gap-3",children:[t.title," ",u.jsx("span",{className:"text-2xl opacity-80",children:""})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 h-96",children:[u.jsx(s,{title:"Overview & Knowledge",icon:Kp}),u.jsx(s,{title:"Skills & Concepts",icon:Qp})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6 h-96",children:[u.jsx(s,{title:"Objectives & Success Criteria",icon:ix}),u.jsx(s,{title:"Progression & Links",icon:C0})]}),u.jsx("div",{className:"h-64",children:u.jsx(s,{title:"Half-Term Overview",icon:tT})})]}):u.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 pb-12",children:[u.jsx("style",{children:`
        @media print {
          @page {
            size: A4;
            margin: 10mm;
          }
          body * {
            visibility: hidden;
          }
          #curriculum-printable-area, #curriculum-printable-area * {
            visibility: visible;
          }
          #curriculum-printable-area {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            background-color: white !important;
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }
          /* Hide the print button specifically when printing */
          .no-print {
            display: none !important;
          }
          /* Force background colors to show */
          .bg-gradient-to-r {
            -webkit-print-color-adjust: exact !important;
            print-color-adjust: exact !important;
          }
          .bg-white {
            background-color: white !important;
          }
        }
      `}),u.jsx("div",{className:"flex justify-end mb-4 no-print",children:u.jsxs(Ge,{onClick:r,className:"bg-[#3448C5] hover:bg-[#2a3a9e] text-white gap-2 shadow-md",children:[u.jsx(zA,{className:"w-4 h-4"})," Print / Save as PDF"]})}),u.jsxs("div",{id:"curriculum-printable-area",children:[u.jsxs("div",{className:"bg-gradient-to-r from-[#3448C5] to-[#5E6FD6] rounded-2xl p-8 text-white shadow-lg print:shadow-none mb-8",children:[u.jsx("div",{className:"inline-block px-3 py-1 bg-white/20 rounded-full text-sm font-semibold mb-4 backdrop-blur-sm print:bg-white print:text-[#3448C5] print:border print:border-[#3448C5]",children:e}),u.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:t.title})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 text-[#3448C5]",children:[u.jsx(Kp,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"Overview & Knowledge"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"Purpose"}),u.jsx("ul",{className:"space-y-2",children:t.overview.purpose.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 mt-1.5 shrink-0"}),y]},v))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"Core Knowledge"}),u.jsx("ul",{className:"space-y-2",children:t.overview.coreKnowledge.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 mt-1.5 shrink-0"}),y]},v))})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 text-[#35D0BA]",children:[u.jsx(Qp,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"Skills & Concepts"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"Core Skills"}),u.jsx("ul",{className:"space-y-2",children:t.overview.coreSkills.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-teal-400 mt-1.5 shrink-0"}),y]},v))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"Core Concepts"}),u.jsx("p",{className:"text-sm text-gray-600 italic bg-gray-50 p-3 rounded-lg",children:t.overview.coreConcepts})]})]})]})]}),u.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 text-orange-500",children:[u.jsx(ix,{className:"w-7 h-7"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Objectives & Success Criteria"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 border-b pb-2",children:"Learning Objectives"}),u.jsx("ul",{className:"space-y-3",children:t.objectives.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-xs font-bold shrink-0",children:v+1}),y]},v))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 border-b pb-2",children:"Success Criteria"}),u.jsx("ul",{className:"space-y-3",children:t.successCriteria.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[u.jsx(ix,{className:"w-5 h-5 text-green-500 shrink-0 mt-0.5"}),y]},v))})]})]}),u.jsxs("div",{className:"mt-8 bg-orange-50 p-4 rounded-xl border border-orange-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-orange-800",children:[u.jsx(UA,{className:"w-4 h-4"}),"Key Vocabulary"]}),u.jsx("p",{className:"text-orange-700 text-sm leading-relaxed",children:t.vocabulary})]})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 text-purple-600",children:[u.jsx(JU,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"Adaptations"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"SEND"}),u.jsx("ul",{className:"space-y-2",children:(a=(i=t.adaptations)==null?void 0:i.send)==null?void 0:a.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-400 mt-1.5 shrink-0"}),y]},v))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"ELL"}),u.jsx("ul",{className:"space-y-2",children:(d=(c=t.adaptations)==null?void 0:c.ell)==null?void 0:d.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-pink-400 mt-1.5 shrink-0"}),y]},v))})]})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 text-blue-600",children:[u.jsx(C0,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"Progression & Links"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"Progression Summary"}),u.jsx("ul",{className:"space-y-2",children:(f=t.progressionSummary)==null?void 0:f.map((y,v)=>u.jsxs("li",{className:"flex items-start gap-2 text-gray-600 text-sm",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 mt-1.5 shrink-0"}),y]},v))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-gray-900 uppercase tracking-wide mb-2",children:"Cross-Curricular Links"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:(m=t.crossCurricularLinks)==null?void 0:m.map((y,v)=>u.jsx("span",{className:"bg-blue-50 text-blue-700 text-xs font-medium px-2.5 py-1 rounded border border-blue-100",children:y},v))})]})]})]})]}),t.halfTermOverview&&u.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[u.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-100 flex items-center gap-3",children:[u.jsx(tT,{className:"w-6 h-6 text-gray-600"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Half-Term Overview"})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-left border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-50/50",children:[u.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b w-24",children:"Term"}),u.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b w-40",children:"Unit Title"}),u.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Core Knowledge"}),u.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider border-b",children:"Skills Developed"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-100",children:t.halfTermOverview.map((y,v)=>u.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[u.jsxs("td",{className:"p-4 text-sm font-bold text-[#3448C5]",children:["HT",v+1]}),u.jsx("td",{className:"p-4 text-sm font-semibold text-gray-900",children:y.unit}),u.jsx("td",{className:"p-4 text-sm text-gray-600",children:y.knowledge}),u.jsx("td",{className:"p-4 text-sm text-gray-600",children:y.skills})]},v))})]})})]})]})]})}const M_=w.createContext({});function O_(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const L_=typeof window<"u",wD=L_?w.useLayoutEffect:w.useEffect,ly=w.createContext(null);function F_(t,e){t.indexOf(e)===-1&&t.push(e)}function V_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ji=(t,e,n)=>n>e?e:n<t?t:n;let B_=()=>{};const Zi={},bD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _D(t){return typeof t=="object"&&t!==null}const SD=t=>/^0[^.\s]+$/u.test(t);function U_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qr=t=>t,CX=(t,e)=>n=>e(t(n)),gf=(...t)=>t.reduce(CX),Sh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class z_{constructor(){this.subscriptions=[]}add(e){return F_(this.subscriptions,e),()=>V_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ei=t=>t*1e3,Yr=t=>t/1e3;function ED(t,e){return e?t*(1e3/e):0}const CD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,TX=1e-7,kX=12;function NX(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=CD(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>TX&&++c<kX);return a}function yf(t,e,n,r){if(t===e&&n===r)return Qr;const s=i=>NX(i,0,1,t,n);return i=>i===0||i===1?i:CD(s(i),e,r)}const TD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kD=t=>e=>1-t(1-e),ND=yf(.33,1.53,.69,.99),$_=kD(ND),ID=TD($_),PD=t=>(t*=2)<1?.5*$_(t):.5*(2-Math.pow(2,-10*(t-1))),q_=t=>1-Math.sin(Math.acos(t)),AD=kD(q_),RD=TD(q_),IX=yf(.42,0,1,1),PX=yf(0,0,.58,1),jD=yf(.42,0,.58,1),AX=t=>Array.isArray(t)&&typeof t[0]!="number",DD=t=>Array.isArray(t)&&typeof t[0]=="number",RX={linear:Qr,easeIn:IX,easeInOut:jD,easeOut:PX,circIn:q_,circInOut:RD,circOut:AD,backIn:$_,backInOut:ID,backOut:ND,anticipate:PD},jX=t=>typeof t=="string",Ek=t=>{if(DD(t)){B_(t.length===4);const[e,n,r,s]=t;return yf(e,n,r,s)}else if(jX(t))return RX[t];return t},Zm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DX(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),t()),m(c)}const f={schedule:(m,y=!1,v=!1)=>{const T=v&&s?n:r;return y&&a.add(m),T.has(m)||T.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(c=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,i&&(i=!1,f.process(m))}};return f}const MX=40;function MD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Zm.reduce((R,B)=>(R[B]=DX(i),R),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:m,update:y,preRender:v,render:b,postRender:T}=a,C=()=>{const R=Zi.useManualTiming?s.timestamp:performance.now();n=!1,Zi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,MX),1)),s.timestamp=R,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),m.process(s),y.process(s),v.process(s),b.process(s),T.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(C))},S=()=>{n=!0,r=!0,s.isProcessing||t(C)};return{schedule:Zm.reduce((R,B)=>{const F=a[B];return R[B]=(U,P=!1,k=!1)=>(n||S(),F.schedule(U,P,k)),R},{}),cancel:R=>{for(let B=0;B<Zm.length;B++)a[Zm[B]].cancel(R)},state:s,steps:a}}const{schedule:Dt,cancel:da,state:Tn,steps:jx}=MD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0);let Ep;function OX(){Ep=void 0}const pr={now:()=>(Ep===void 0&&pr.set(Tn.isProcessing||Zi.useManualTiming?Tn.timestamp:performance.now()),Ep),set:t=>{Ep=t,queueMicrotask(OX)}},OD=t=>e=>typeof e=="string"&&e.startsWith(t),LD=OD("--"),LX=OD("var(--"),W_=t=>LX(t)?FX.test(t.split("/*")[0].trim()):!1,FX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eh={...Lu,transform:t=>Ji(0,1,t)},ep={...Lu,default:1},Qd=t=>Math.round(t*1e5)/1e5,H_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VX(t){return t==null}const BX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G_=(t,e)=>n=>!!(typeof n=="string"&&BX.test(n)&&n.startsWith(t)||e&&!VX(n)&&Object.prototype.hasOwnProperty.call(n,e)),FD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(H_);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},UX=t=>Ji(0,255,t),Dx={...Lu,transform:t=>Math.round(UX(t))},rl={test:G_("rgb","red"),parse:FD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dx.transform(t)+", "+Dx.transform(e)+", "+Dx.transform(n)+", "+Qd(Eh.transform(r))+")"};function zX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const cw={test:G_("#"),parse:zX,transform:rl.transform},vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oo=vf("deg"),ti=vf("%"),ze=vf("px"),$X=vf("vh"),qX=vf("vw"),Ck={...ti,parse:t=>ti.parse(t)/100,transform:t=>ti.transform(t*100)},jc={test:G_("hsl","hue"),parse:FD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ti.transform(Qd(e))+", "+ti.transform(Qd(n))+", "+Qd(Eh.transform(r))+")"},rn={test:t=>rl.test(t)||cw.test(t)||jc.test(t),parse:t=>rl.test(t)?rl.parse(t):jc.test(t)?jc.parse(t):cw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rl.transform(t):jc.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},WX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(H_))==null?void 0:e.length)||0)+(((n=t.match(WX))==null?void 0:n.length)||0)>0}const VD="number",BD="color",GX="var",KX="var(",Tk="${}",YX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ch(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(YX,d=>(rn.test(d)?(r.color.push(i),s.push(BD),n.push(rn.parse(d))):d.startsWith(KX)?(r.var.push(i),s.push(GX),n.push(d)):(r.number.push(i),s.push(VD),n.push(parseFloat(d))),++i,Tk)).split(Tk);return{values:n,split:c,indexes:r,types:s}}function UD(t){return Ch(t).values}function zD(t){const{split:e,types:n}=Ch(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===VD?i+=Qd(s[a]):c===BD?i+=rn.transform(s[a]):i+=s[a]}return i}}const QX=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function XX(t){const e=UD(t);return zD(t)(e.map(QX))}const ha={test:HX,parse:UD,createTransformer:zD,getAnimatableNone:XX};function Mx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Mx(d,c,t+1/3),i=Mx(d,c,t),a=Mx(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function fg(t,e){return n=>n>0?e:t}const Vt=(t,e,n)=>t+(e-t)*n,Ox=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ZX=[cw,rl,jc],eJ=t=>ZX.find(e=>e.test(t));function kk(t){const e=eJ(t);if(!e)return!1;let n=e.parse(t);return e===jc&&(n=JX(n)),n}const Nk=(t,e)=>{const n=kk(t),r=kk(e);if(!n||!r)return fg(t,e);const s={...n};return i=>(s.red=Ox(n.red,r.red,i),s.green=Ox(n.green,r.green,i),s.blue=Ox(n.blue,r.blue,i),s.alpha=Vt(n.alpha,r.alpha,i),rl.transform(s))},uw=new Set(["none","hidden"]);function tJ(t,e){return uw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function nJ(t,e){return n=>Vt(t,e,n)}function K_(t){return typeof t=="number"?nJ:typeof t=="string"?W_(t)?fg:rn.test(t)?Nk:iJ:Array.isArray(t)?$D:typeof t=="object"?rn.test(t)?Nk:rJ:fg}function $D(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>K_(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function rJ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=K_(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function sJ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],c=t.values[a]??0;n[s]=c,r[i]++}return n}const iJ=(t,e)=>{const n=ha.createTransformer(e),r=Ch(t),s=Ch(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?uw.has(t)&&!s.values.length||uw.has(e)&&!r.values.length?tJ(t,e):gf($D(sJ(r,s),s.values),n):fg(t,e)};function qD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Vt(t,e,n):K_(t)(t,e)}const oJ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Dt.update(e,n),stop:()=>da(e),now:()=>Tn.isProcessing?Tn.timestamp:pr.now()}},WD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mg=2e4;function Y_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mg;)e+=n,r=t.next(e);return e>=mg?1/0:e}function aJ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Y_(r),mg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Yr(s)}}const lJ=5;function HD(t,e,n){const r=Math.max(e-lJ,0);return ED(n-t(r),e-r)}const Ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lx=.001;function cJ({duration:t=Ht.duration,bounce:e=Ht.bounce,velocity:n=Ht.velocity,mass:r=Ht.mass}){let s,i,a=1-e;a=Ji(Ht.minDamping,Ht.maxDamping,a),t=Ji(Ht.minDuration,Ht.maxDuration,Yr(t)),a<1?(s=f=>{const m=f*a,y=m*t,v=m-n,b=dw(f,a),T=Math.exp(-y);return Lx-v/b*T},i=f=>{const y=f*a*t,v=y*n+n,b=Math.pow(a,2)*Math.pow(f,2)*t,T=Math.exp(-y),C=dw(Math.pow(f,2),a);return(-s(f)+Lx>0?-1:1)*((v-b)*T)/C}):(s=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-Lx+m*y},i=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const c=5/t,d=dJ(s,i,c);if(t=ei(t),isNaN(d))return{stiffness:Ht.stiffness,damping:Ht.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const uJ=12;function dJ(t,e,n){let r=n;for(let s=1;s<uJ;s++)r=r-t(r)/e(r);return r}function dw(t,e){return t*Math.sqrt(1-e*e)}const hJ=["duration","bounce"],fJ=["stiffness","damping","mass"];function Ik(t,e){return e.some(n=>t[n]!==void 0)}function mJ(t){let e={velocity:Ht.velocity,stiffness:Ht.stiffness,damping:Ht.damping,mass:Ht.mass,isResolvedFromDuration:!1,...t};if(!Ik(t,fJ)&&Ik(t,hJ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Ji(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ht.mass,stiffness:s,damping:i}}else{const n=cJ(t);e={...e,...n,mass:Ht.mass},e.isResolvedFromDuration=!0}return e}function pg(t=Ht.visualDuration,e=Ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:f,mass:m,duration:y,velocity:v,isResolvedFromDuration:b}=mJ({...n,velocity:-Yr(n.velocity||0)}),T=v||0,C=f/(2*Math.sqrt(d*m)),S=a-i,I=Yr(Math.sqrt(d/m)),A=Math.abs(S)<5;r||(r=A?Ht.restSpeed.granular:Ht.restSpeed.default),s||(s=A?Ht.restDelta.granular:Ht.restDelta.default);let R;if(C<1){const F=dw(I,C);R=U=>{const P=Math.exp(-C*I*U);return a-P*((T+C*I*S)/F*Math.sin(F*U)+S*Math.cos(F*U))}}else if(C===1)R=F=>a-Math.exp(-I*F)*(S+(T+I*S)*F);else{const F=I*Math.sqrt(C*C-1);R=U=>{const P=Math.exp(-C*I*U),k=Math.min(F*U,300);return a-P*((T+C*I*S)*Math.sinh(k)+F*S*Math.cosh(k))/F}}const B={calculatedDuration:b&&y||null,next:F=>{const U=R(F);if(b)c.done=F>=y;else{let P=F===0?T:0;C<1&&(P=F===0?ei(T):HD(R,F,U));const k=Math.abs(P)<=r,D=Math.abs(a-U)<=s;c.done=k&&D}return c.value=c.done?a:U,c},toString:()=>{const F=Math.min(Y_(B),mg),U=WD(P=>B.next(F*P).value,F,30);return F+"ms "+U},toTransition:()=>{}};return B}pg.applyToOptions=t=>{const e=aJ(t,100,pg);return t.ease=e.ease,t.duration=ei(e.duration),t.type="keyframes",t};function hw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:d,restDelta:f=.5,restSpeed:m}){const y=t[0],v={done:!1,value:y},b=k=>c!==void 0&&k<c||d!==void 0&&k>d,T=k=>c===void 0?d:d===void 0||Math.abs(c-k)<Math.abs(d-k)?c:d;let C=n*e;const S=y+C,I=a===void 0?S:a(S);I!==S&&(C=I-y);const A=k=>-C*Math.exp(-k/r),R=k=>I+A(k),B=k=>{const D=A(k),O=R(k);v.done=Math.abs(D)<=f,v.value=v.done?I:O};let F,U;const P=k=>{b(v.value)&&(F=k,U=pg({keyframes:[v.value,T(v.value)],velocity:HD(R,k,v.value),damping:s,stiffness:i,restDelta:f,restSpeed:m}))};return P(0),{calculatedDuration:null,next:k=>{let D=!1;return!U&&F===void 0&&(D=!0,B(k),P(k)),F!==void 0&&k>=F?U.next(k-F):(!D&&B(k),v)}}}function pJ(t,e,n){const r=[],s=n||Zi.mix||qD,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||Qr:e;c=gf(d,c)}r.push(c)}return r}function gJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(B_(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=pJ(e,r,s),d=c.length,f=m=>{if(a&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const v=Sh(t[y],t[y+1],m);return c[y](v)};return n?m=>f(Ji(t[0],t[i-1],m)):f}function yJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sh(0,e,r);t.push(Vt(n,1,s))}}function vJ(t){const e=[0];return yJ(e,t.length-1),e}function xJ(t,e){return t.map(n=>n*e)}function wJ(t,e){return t.map(()=>e||jD).splice(0,t.length-1)}function Xd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=AX(r)?r.map(Ek):Ek(r),i={done:!1,value:e[0]},a=xJ(n&&n.length===e.length?n:vJ(e),t),c=gJ(a,e,{ease:Array.isArray(s)?s:wJ(e,s)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const bJ=t=>t!==null;function Q_(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(bJ),c=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const _J={decay:hw,inertia:hw,tween:Xd,keyframes:Xd,spring:pg};function GD(t){typeof t.type=="string"&&(t.type=_J[t.type])}class X_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const SJ=t=>t/100;class J_ extends X_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==pr.now()&&this.tick(pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GD(e);const{type:n=Xd,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const d=n||Xd;d!==Xd&&typeof c[0]!="number"&&(this.mixKeyframes=gf(SJ,qD(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=Y_(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:m,repeat:y,repeatType:v,repeatDelay:b,type:T,onUpdate:C,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const I=this.currentTime-f*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?I<0:I>s;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,B=r;if(y){const k=Math.min(this.currentTime,s)/c;let D=Math.floor(k),O=k%1;!O&&k>=1&&(O=1),O===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(v==="reverse"?(O=1-O,b&&(O-=b/c)):v==="mirror"&&(B=a)),R=Ji(0,1,O)*c}const F=A?{done:!1,value:m[0]}:B.next(R);i&&(F.value=i(F.value));let{done:U}=F;!A&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return P&&T!==hw&&(F.value=Q_(m,this.options,S,this.speed)),C&&C(F.value),P&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return Yr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yr(e)}get time(){return Yr(this.currentTime)}set time(e){var n;e=ei(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=oJ,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function EJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const sl=t=>t*180/Math.PI,fw=t=>{const e=sl(Math.atan2(t[1],t[0]));return mw(e)},CJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:fw,rotateZ:fw,skewX:t=>sl(Math.atan(t[1])),skewY:t=>sl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mw=t=>(t=t%360,t<0&&(t+=360),t),Pk=fw,Ak=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Rk=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ak,scaleY:Rk,scale:t=>(Ak(t)+Rk(t))/2,rotateX:t=>mw(sl(Math.atan2(t[6],t[5]))),rotateY:t=>mw(sl(Math.atan2(-t[2],t[0]))),rotateZ:Pk,rotate:Pk,skewX:t=>sl(Math.atan(t[4])),skewY:t=>sl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pw(t){return t.includes("scale")?1:0}function gw(t,e){if(!t||t==="none")return pw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=TJ,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=CJ,s=c}if(!s)return pw(e);const i=r[e],a=s[1].split(",").map(NJ);return typeof i=="function"?i(a):a[i]}const kJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gw(n,e)};function NJ(t){return parseFloat(t.trim())}const Fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vu=new Set(Fu),jk=t=>t===Lu||t===ze,IJ=new Set(["x","y","z"]),PJ=Fu.filter(t=>!IJ.has(t));function AJ(t){const e=[];return PJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const gl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gw(e,"x"),y:(t,{transform:e})=>gw(e,"y")};gl.translateX=gl.x;gl.translateY=gl.y;const yl=new Set;let yw=!1,vw=!1,xw=!1;function KD(){if(vw){const t=Array.from(yl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=AJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var c;(c=r.getValue(i))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vw=!1,yw=!1,yl.forEach(t=>t.complete(xw)),yl.clear()}function YD(){yl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(vw=!0)})}function RJ(){xw=!0,YD(),KD(),xw=!1}class Z_{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(yl.add(this),yw||(yw=!0,Dt.read(YD),Dt.resolveKeyframes(KD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}EJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),yl.delete(this)}cancel(){this.state==="scheduled"&&(yl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jJ=t=>t.startsWith("--");function DJ(t,e,n){jJ(e)?t.style.setProperty(e,n):t.style[e]=n}const MJ=U_(()=>window.ScrollTimeline!==void 0),OJ={};function LJ(t,e){const n=U_(t);return()=>OJ[e]??n()}const QD=LJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$d=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Dk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$d([0,.65,.55,1]),circOut:$d([.55,0,1,.45]),backIn:$d([.31,.01,.66,-.59]),backOut:$d([.33,1.53,.69,.99])};function XD(t,e){if(t)return typeof t=="function"?QD()?WD(t,e):"ease-out":DD(t)?$d(t):Array.isArray(t)?t.map(n=>XD(n,e)||Dk.easeOut):Dk[t]}function FJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:d}={},f=void 0){const m={[e]:n};d&&(m.offset=d);const y=XD(c,s);Array.isArray(y)&&(m.easing=y);const v={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(m,v)}function JD(t){return typeof t=="function"&&"applyToOptions"in t}function VJ({type:t,...e}){return JD(t)&&QD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class BJ extends X_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,B_(typeof e.type!="string");const f=VJ(e);this.animation=FJ(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=Q_(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):DJ(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yr(e)}get time(){return Yr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ei(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&MJ()?(this.animation.timeline=e,Qr):n(this)}}const ZD={anticipate:PD,backInOut:ID,circInOut:RD};function UJ(t){return t in ZD}function zJ(t){typeof t.ease=="string"&&UJ(t.ease)&&(t.ease=ZD[t.ease])}const Mk=10;class $J extends BJ{constructor(e){zJ(e),GD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new J_({...a,autoplay:!1}),d=ei(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-Mk).value,c.sample(d).value,Mk),c.stop()}}const Ok=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ha.test(t)||t==="0")&&!t.startsWith("url("));function qJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=Ok(s,e),c=Ok(i,e);return!a||!c?!1:qJ(t)||(n==="spring"||JD(n))&&r}function ww(t){t.duration=0,t.type="keyframes"}const HJ=new Set(["opacity","clipPath","filter","transform"]),GJ=U_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KJ(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return GJ()&&n&&HJ.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const YJ=40;class QJ extends X_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:d,motionValue:f,element:m,...y}){var T;super(),this.stop=()=>{var C,S;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=pr.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:d,motionValue:f,element:m,...y},b=(m==null?void 0:m.KeyframeResolver)||Z_;this.keyframeResolver=new b(c,(C,S,I)=>this.onKeyframesResolved(C,S,v,!I),d,f,m),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:d,isHandoff:f,onUpdate:m}=r;this.resolvedAt=pr.now(),WJ(e,i,a,c)||((Zi.instantAnimations||!d)&&(m==null||m(Q_(e,r,n))),e[0]=e[e.length-1],ww(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>YJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!f&&KJ(v)?new $J({...v,element:v.motionValue.owner.current}):new J_(v);b.finished.then(()=>this.notifyFinished()).catch(Qr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),RJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const XJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JJ(t){const e=XJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function eM(t,e,n=1){const[r,s]=JJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return bD(a)?parseFloat(a):a}return W_(s)?eM(s,e,n+1):s}function e1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const tM=new Set(["width","height","top","left","right","bottom",...Fu]),ZJ={test:t=>t==="auto",parse:t=>t},nM=t=>e=>e.test(t),rM=[Lu,ze,ti,Oo,qX,$X,ZJ],Lk=t=>rM.find(nM(t));function eZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SD(t):!0}const tZ=new Set(["brightness","contrast","saturate","opacity"]);function nZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(H_)||[];if(!r)return t;const s=n.replace(r,"");let i=tZ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const rZ=/\b([a-z-]*)\(.*?\)/gu,bw={...ha,getAnimatableNone:t=>{const e=t.match(rZ);return e?e.map(nZ).join(" "):t}},Fk={...Lu,transform:Math.round},sZ={rotate:Oo,rotateX:Oo,rotateY:Oo,rotateZ:Oo,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:Oo,skewX:Oo,skewY:Oo,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Eh,originX:Ck,originY:Ck,originZ:ze},t1={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...sZ,zIndex:Fk,fillOpacity:Eh,strokeOpacity:Eh,numOctaves:Fk},iZ={...t1,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:bw,WebkitFilter:bw},sM=t=>iZ[t];function iM(t,e){let n=sM(t);return n!==bw&&(n=ha),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oZ=new Set(["auto","none","0"]);function aZ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!oZ.has(i)&&Ch(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=iM(n,s)}class lZ extends Z_{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),W_(f))){const m=eM(f,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!tM.has(r)||e.length!==2)return;const[s,i]=e,a=Lk(s),c=Lk(i);if(a!==c)if(jk(a)&&jk(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else gl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||eZ(e[s]))&&r.push(s);r.length&&aZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=gl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function cZ(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const oM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function aM(t){return _D(t)&&"offsetHeight"in t}const Vk=30,uZ=t=>!isNaN(parseFloat(t));class dZ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=pr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Vk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vk);return ED(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vu(t,e){return new dZ(t,e)}const{schedule:n1}=MD(queueMicrotask,!1),ps={x:!1,y:!1};function lM(){return ps.x||ps.y}function hZ(t){return t==="x"||t==="y"?ps[t]?null:(ps[t]=!0,()=>{ps[t]=!1}):ps.x||ps.y?null:(ps.x=ps.y=!0,()=>{ps.x=ps.y=!1})}function cM(t,e){const n=cZ(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Bk(t){return!(t.pointerType==="touch"||lM())}function fZ(t,e,n={}){const[r,s,i]=cM(t,n),a=c=>{if(!Bk(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const m=y=>{Bk(y)&&(f(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const uM=(t,e)=>e?t===e?!0:uM(t,e.parentElement):!1,r1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pZ(t){return mZ.has(t.tagName)||t.tabIndex!==-1}const Cp=new WeakSet;function Uk(t){return e=>{e.key==="Enter"&&t(e)}}function Fx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Uk(()=>{if(Cp.has(n))return;Fx(n,"down");const s=Uk(()=>{Fx(n,"up")}),i=()=>Fx(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function zk(t){return r1(t)&&!lM()}function yZ(t,e,n={}){const[r,s,i]=cM(t,n),a=c=>{const d=c.currentTarget;if(!zk(c))return;Cp.add(d);const f=e(d,c),m=(b,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Cp.has(d)&&Cp.delete(d),zk(b)&&typeof f=="function"&&f(b,{success:T})},y=b=>{m(b,d===window||d===document||n.useGlobalTarget||uM(d,b.target))},v=b=>{m(b,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",v,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),aM(c)&&(c.addEventListener("focus",f=>gZ(f,s)),!pZ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function dM(t){return _D(t)&&"ownerSVGElement"in t}function vZ(t){return dM(t)&&t.tagName==="svg"}const Fn=t=>!!(t&&t.getVelocity),xZ=[...rM,rn,ha],wZ=t=>xZ.find(nM(t)),s1=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $k(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function bZ(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$k(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$k(t[s],null)}}}}function _Z(...t){return w.useCallback(bZ(...t),t)}class SZ extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=aM(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function EZ({children:t,isPresent:e,anchorX:n,root:r}){const s=w.useId(),i=w.useRef(null),a=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=w.useContext(s1),d=_Z(i,t==null?void 0:t.ref);return w.useInsertionEffect(()=>{const{width:f,height:m,top:y,left:v,right:b}=a.current;if(e||!i.current||!f||!m)return;const T=n==="left"?`left: ${v}`:`right: ${b}`;i.current.dataset.motionPopId=s;const C=document.createElement("style");c&&(C.nonce=c);const S=r??document.head;return S.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${y}px !important;
          }
        `),()=>{S.contains(C)&&S.removeChild(C)}},[e]),u.jsx(SZ,{isPresent:e,childRef:i,sizeRef:a,children:w.cloneElement(t,{ref:d})})}const CZ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:c,root:d})=>{const f=O_(TZ),m=w.useId();let y=!0,v=w.useMemo(()=>(y=!1,{id:m,initial:e,isPresent:n,custom:s,onExitComplete:b=>{f.set(b,!0);for(const T of f.values())if(!T)return;r&&r()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,r]);return i&&y&&(v={...v}),w.useMemo(()=>{f.forEach((b,T)=>f.set(T,!1))},[n]),w.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=u.jsx(EZ,{isPresent:n,anchorX:c,root:d,children:t})),u.jsx(ly.Provider,{value:v,children:t})};function TZ(){return new Map}function hM(t=!0){const e=w.useContext(ly);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=w.useId();w.useEffect(()=>{if(t)return s(i)},[t]);const a=w.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const tp=t=>t.key||"";function qk(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const kZ=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:c="left",root:d})=>{const[f,m]=hM(a),y=w.useMemo(()=>qk(t),[t]),v=a&&!f?[]:y.map(tp),b=w.useRef(!0),T=w.useRef(y),C=O_(()=>new Map),[S,I]=w.useState(y),[A,R]=w.useState(y);wD(()=>{b.current=!1,T.current=y;for(let U=0;U<A.length;U++){const P=tp(A[U]);v.includes(P)?C.delete(P):C.get(P)!==!0&&C.set(P,!1)}},[A,v.length,v.join("-")]);const B=[];if(y!==S){let U=[...y];for(let P=0;P<A.length;P++){const k=A[P],D=tp(k);v.includes(D)||(U.splice(P,0,k),B.push(k))}return i==="wait"&&B.length&&(U=B),R(qk(U)),I(y),null}const{forceRender:F}=w.useContext(M_);return u.jsx(u.Fragment,{children:A.map(U=>{const P=tp(U),k=a&&!f?!1:y===A||v.includes(P),D=()=>{if(C.has(P))C.set(P,!0);else return;let O=!0;C.forEach(L=>{L||(O=!1)}),O&&(F==null||F(),R(T.current),a&&(m==null||m()),r&&r())};return u.jsx(CZ,{isPresent:k,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:d,onExitComplete:k?void 0:D,anchorX:c,children:U},P)})})},fM=w.createContext({strict:!1}),Wk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xu={};for(const t in Wk)xu[t]={isEnabled:e=>Wk[t].some(n=>!!e[n])};function NZ(t){for(const e in t)xu[e]={...xu[e],...t[e]}}const IZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||IZ.has(t)}let mM=t=>!gg(t);function PZ(t){typeof t=="function"&&(mM=e=>e.startsWith("on")?!gg(e):t(e))}try{PZ(require("@emotion/is-prop-valid").default)}catch{}function AZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mM(s)||n===!0&&gg(s)||!e&&!gg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const cy=w.createContext({});function uy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Th(t){return typeof t=="string"||Array.isArray(t)}const i1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o1=["initial",...i1];function dy(t){return uy(t.animate)||o1.some(e=>Th(t[e]))}function pM(t){return!!(dy(t)||t.variants)}function RZ(t,e){if(dy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Th(n)?n:void 0,animate:Th(r)?r:void 0}}return t.inherit!==!1?e:{}}function jZ(t){const{initial:e,animate:n}=RZ(t,w.useContext(cy));return w.useMemo(()=>({initial:e,animate:n}),[Hk(e),Hk(n)])}function Hk(t){return Array.isArray(t)?t.join(" "):t}function Gk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=Gk(t,e.target.x),r=Gk(t,e.target.y);return`${n}% ${r}%`}},DZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ha.parse(t);if(s.length>5)return r;const i=ha.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const f=Vt(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}},_w={borderRadius:{...jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jd,borderTopRightRadius:jd,borderBottomLeftRadius:jd,borderBottomRightRadius:jd,boxShadow:DZ};function gM(t,{layout:e,layoutId:n}){return Vu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_w[t]||t==="opacity")}const MZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OZ=Fu.length;function LZ(t,e,n){let r="",s=!0;for(let i=0;i<OZ;i++){const a=Fu[i],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=oM(c,t1[a]);if(!d){s=!1;const m=MZ[a]||a;r+=`${m}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function a1(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const d in e){const f=e[d];if(Vu.has(d)){a=!0;continue}else if(LD(d)){s[d]=f;continue}else{const m=oM(f,t1[d]);d.startsWith("origin")?(c=!0,i[d]=m):r[d]=m}}if(e.transform||(a||n?r.transform=LZ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=i;r.transformOrigin=`${d} ${f} ${m}`}}const l1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yM(t,e,n){for(const r in e)!Fn(e[r])&&!gM(r,n)&&(t[r]=e[r])}function FZ({transformTemplate:t},e){return w.useMemo(()=>{const n=l1();return a1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function VZ(t,e){const n=t.style||{},r={};return yM(r,n,t),Object.assign(r,FZ(t,e)),r}function BZ(t,e){const n={},r=VZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},zZ={offset:"strokeDashoffset",array:"strokeDasharray"};function $Z(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?UZ:zZ;t[i.offset]=ze.transform(-r);const a=ze.transform(e),c=ze.transform(n);t[i.array]=`${a} ${c}`}function vM(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},d,f,m){if(a1(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&$Z(y,s,i,a,!1)}const xM=()=>({...l1(),attrs:{}}),wM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qZ(t,e,n,r){const s=w.useMemo(()=>{const i=xM();return vM(i,e,wM(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};yM(i,t.style,t),s.style={...i,...s.style}}return s}const WZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c1(t){return typeof t!="string"||t.includes("-")?!1:!!(WZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function HZ(t,e,n,{latestValues:r},s,i=!1){const c=(c1(t)?qZ:BZ)(e,r,s,t),d=AZ(e,typeof t=="string",i),f=t!==w.Fragment?{...d,...c,ref:n}:{},{children:m}=e,y=w.useMemo(()=>Fn(m)?m.get():m,[m]);return w.createElement(t,{...f,children:y})}function Kk(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function u1(t,e,n,r){if(typeof e=="function"){const[s,i]=Kk(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Kk(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Tp(t){return Fn(t)?t.get():t}function GZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:KZ(n,r,s,t),renderState:e()}}function KZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=Tp(i[v]);let{initial:a,animate:c}=t;const d=dy(t),f=pM(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const y=m?c:a;if(y&&typeof y!="boolean"&&!uy(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const T=u1(t,v[b]);if(T){const{transitionEnd:C,transition:S,...I}=T;for(const A in I){let R=I[A];if(Array.isArray(R)){const B=m?R.length-1:0;R=R[B]}R!==null&&(s[A]=R)}for(const A in C)s[A]=C[A]}}}return s}const bM=t=>(e,n)=>{const r=w.useContext(cy),s=w.useContext(ly),i=()=>GZ(t,e,r,s);return n?i():O_(i)};function d1(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(Fn(r[a])||e.style&&Fn(e.style[a])||gM(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const YZ=bM({scrapeMotionValuesFromProps:d1,createRenderState:l1});function _M(t,e,n){const r=d1(t,e,n);for(const s in t)if(Fn(t[s])||Fn(e[s])){const i=Fu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const QZ=bM({scrapeMotionValuesFromProps:_M,createRenderState:xM}),XZ=Symbol.for("motionComponentSymbol");function Dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JZ(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dc(n)&&(n.current=r))},[e])}const h1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZZ="framerAppearId",SM="data-"+h1(ZZ),EM=w.createContext({});function eee(t,e,n,r,s){var C,S;const{visualElement:i}=w.useContext(cy),a=w.useContext(fM),c=w.useContext(ly),d=w.useContext(s1).reducedMotion,f=w.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,y=w.useContext(EM);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&tee(f.current,n,s,y);const v=w.useRef(!1);w.useInsertionEffect(()=>{m&&v.current&&m.update(n,c)});const b=n[SM],T=w.useRef(!!b&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return wD(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,b)}),T.current=!1),m.enteringChildren=void 0)}),m}function tee(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CM(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&Dc(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:f})}function CM(t){if(t)return t.options.allowProjection!==!1?t.projection:CM(t.parent)}function Vx(t,{forwardMotionProps:e=!1}={},n,r){n&&NZ(n);const s=c1(t)?QZ:YZ;function i(c,d){let f;const m={...w.useContext(s1),...c,layoutId:nee(c)},{isStatic:y}=m,v=jZ(c),b=s(c,y);if(!y&&L_){ree();const T=see(m);f=T.MeasureLayout,v.visualElement=eee(t,b,m,r,T.ProjectionNode)}return u.jsxs(cy.Provider,{value:v,children:[f&&v.visualElement?u.jsx(f,{visualElement:v.visualElement,...m}):null,HZ(t,c,JZ(b,v.visualElement,d),b,y,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=w.forwardRef(i);return a[XZ]=t,a}function nee({layoutId:t}){const e=w.useContext(M_).id;return e&&t!==void 0?e+"-"+t:t}function ree(t,e){w.useContext(fM).strict}function see(t){const{drag:e,layout:n}=xu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function iee(t,e){if(typeof Proxy>"u")return Vx;const n=new Map,r=(i,a)=>Vx(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Vx(a,void 0,t,e)),n.get(a))})}function TM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bx(t){return t===void 0||t===1}function Sw({scale:t,scaleX:e,scaleY:n}){return!Bx(t)||!Bx(e)||!Bx(n)}function Ja(t){return Sw(t)||kM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kM(t){return Yk(t.x)||Yk(t.y)}function Yk(t){return t&&t!=="0%"}function yg(t,e,n){const r=t-n,s=e*r;return n+s}function Qk(t,e,n,r,s){return s!==void 0&&(t=yg(t,s,r)),yg(t,n,r)+e}function Ew(t,e=0,n=1,r,s){t.min=Qk(t.min,e,n,r,s),t.max=Qk(t.max,e,n,r,s)}function NM(t,{x:e,y:n}){Ew(t.x,e.translate,e.scale,e.originPoint),Ew(t.y,n.translate,n.scale,n.originPoint)}const Xk=.999999999999,Jk=1.0000000000001;function lee(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Oc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,NM(t,a)),r&&Ja(i.latestValues)&&Oc(t,i.latestValues))}e.x<Jk&&e.x>Xk&&(e.x=1),e.y<Jk&&e.y>Xk&&(e.y=1)}function Mc(t,e){t.min=t.min+e,t.max=t.max+e}function Zk(t,e,n,r,s=.5){const i=Vt(t.min,t.max,s);Ew(t,e,n,i,r)}function Oc(t,e){Zk(t.x,e.x,e.scaleX,e.scale,e.originX),Zk(t.y,e.y,e.scaleY,e.scale,e.originY)}function IM(t,e){return TM(aee(t.getBoundingClientRect(),e))}function cee(t,e,n){const r=IM(t,n),{scroll:s}=e;return s&&(Mc(r.x,s.offset.x),Mc(r.y,s.offset.y)),r}const eN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:eN(),y:eN()}),tN=()=>({min:0,max:0}),hn=()=>({x:tN(),y:tN()}),Cw={current:null},PM={current:!1};function uee(){if(PM.current=!0,!!L_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cw.current=t.matches;t.addEventListener("change",e),e()}else Cw.current=!1}const dee=new WeakMap;function hee(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Fn(s))t.addValue(r,s);else if(Fn(i))t.addValue(r,vu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,vu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const nN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fee{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=pr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Dt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=dy(n),this.isVariantNode=pM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const b=y[v];d[v]!==void 0&&Fn(b)&&b.set(d[v])}}mount(e){var n;this.current=e,dee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),PM.current||uee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xu){const n=xu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nN.length;r++){const s=nN[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=hee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(bD(r)||SD(r))?r=parseFloat(r):!wZ(r)&&ha.test(n)&&(r=iM(e,n)),this.setBaseTarget(e,Fn(r)?r.get():r)),Fn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=u1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Fn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){n1.render(this.render)}}class AM extends fee{constructor(){super(...arguments),this.KeyframeResolver=lZ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RM(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function mee(t){return window.getComputedStyle(t)}class pee extends AM{constructor(){super(...arguments),this.type="html",this.renderInstance=RM}readValueFromInstance(e,n){var r;if(Vu.has(n))return(r=this.projection)!=null&&r.isProjecting?pw(n):kJ(e,n);{const s=mee(e),i=(LD(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return IM(e,n)}build(e,n,r){a1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return d1(e,n,r)}}const jM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gee(t,e,n,r){RM(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(jM.has(s)?s:h1(s),e.attrs[s])}class yee extends AM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vu.has(n)){const r=sM(n);return r&&r.default||0}return n=jM.has(n)?n:h1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _M(e,n,r)}build(e,n,r){vM(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){gee(e,n,r,s)}mount(e){this.isSVGTag=wM(e.tagName),super.mount(e)}}const vee=(t,e)=>c1(t)?new yee(e):new pee(e,{allowProjection:t!==w.Fragment});function Gc(t,e,n){const r=t.getProps();return u1(r,e,n!==void 0?n:r.custom,t)}const Tw=t=>Array.isArray(t);function xee(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vu(n))}function wee(t){return Tw(t)?t[t.length-1]||0:t}function bee(t,e){const n=Gc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=wee(i[a]);xee(t,a,c)}}function _ee(t){return!!(Fn(t)&&t.add)}function kw(t,e){const n=t.getValue("willChange");if(_ee(n))return n.add(e);if(!n&&Zi.WillChange){const r=new Zi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DM(t){return t.props[SM]}const See=t=>t!==null;function Eee(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(See),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Cee={type:"spring",stiffness:500,damping:25,restSpeed:10},Tee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kee={type:"keyframes",duration:.8},Nee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Iee=(t,{keyframes:e})=>e.length>2?kee:Vu.has(t)?t.startsWith("scale")?Tee(e[1]):Cee:Nee;function Pee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const f1=(t,e,n,r={},s,i)=>a=>{const c=e1(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ei(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};Pee(c)||Object.assign(m,Iee(t,m)),m.duration&&(m.duration=ei(m.duration)),m.repeatDelay&&(m.repeatDelay=ei(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(ww(m),m.delay===0&&(y=!0)),(Zi.instantAnimations||Zi.skipAnimations)&&(y=!0,ww(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!i&&e.get()!==void 0){const v=Eee(m.keyframes,c);if(v!==void 0){Dt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return c.isSync?new J_(m):new QJ(m)};function Aee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function MM(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(i=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),v=c[m];if(v===void 0||f&&Aee(f,m))continue;const b={delay:n,...e1(i||{},m)},T=y.get();if(T!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===T&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const I=DM(t);if(I){const A=window.MotionHandoffAnimation(I,m,Dt);A!==null&&(b.startTime=A,C=!0)}}kw(t,m),y.start(f1(m,y,v,t.shouldReduceMotion&&tM.has(m)?{type:!1}:b,t,C));const S=y.animation;S&&d.push(S)}return a&&Promise.all(d).then(()=>{Dt.update(()=>{a&&bee(t,a)})}),d}function OM(t,e,n,r=0,s=1){const i=Array.from(t).sort((f,m)=>f.sortNodePosition(m)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:c-i*r}function Nw(t,e,n={}){var d;const r=Gc(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(MM(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=s;return Ree(t,e,f,m,y,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,m]=c==="beforeChildren"?[i,a]:[a,i];return f().then(()=>m())}else return Promise.all([i(),a(n.delay)])}function Ree(t,e,n=0,r=0,s=0,i=1,a){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(Nw(d,e,{...a,delay:n+(typeof r=="function"?0:r)+OM(t.variantChildren,d,r,s,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function jee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Nw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Nw(t,e,n);else{const s=typeof e=="function"?Gc(t,e,n.custom):e;r=Promise.all(MM(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function LM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Dee=o1.length;function FM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?FM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Dee;n++){const r=o1[n],s=t.props[r];(Th(s)||s===!1)&&(e[r]=s)}return e}const Mee=[...i1].reverse(),Oee=i1.length;function Lee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>jee(t,n,r)))}function Fee(t){let e=Lee(t),n=rN(),r=!0;const s=d=>(f,m)=>{var v;const y=Gc(t,m,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:b,transitionEnd:T,...C}=y;f={...f,...C,...T}}return f};function i(d){e=d(t)}function a(d){const{props:f}=t,m=FM(t.parent)||{},y=[],v=new Set;let b={},T=1/0;for(let S=0;S<Oee;S++){const I=Mee[S],A=n[I],R=f[I]!==void 0?f[I]:m[I],B=Th(R),F=I===d?A.isActive:null;F===!1&&(T=S);let U=R===m[I]&&R!==f[I]&&B;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),A.protectedKeys={...b},!A.isActive&&F===null||!R&&!A.prevProp||uy(R)||typeof R=="boolean")continue;const P=Vee(A.prevProp,R);let k=P||I===d&&A.isActive&&!U&&B||S>T&&B,D=!1;const O=Array.isArray(R)?R:[R];let L=O.reduce(s(I),{});F===!1&&(L={});const{prevResolvedValues:z={}}=A,M={...z,...L},oe=Z=>{k=!0,v.has(Z)&&(D=!0,v.delete(Z)),A.needsAnimating[Z]=!0;const $=t.getValue(Z);$&&($.liveStyle=!1)};for(const Z in M){const $=L[Z],X=z[Z];if(b.hasOwnProperty(Z))continue;let se=!1;Tw($)&&Tw(X)?se=!LM($,X):se=$!==X,se?$!=null?oe(Z):v.add(Z):$!==void 0&&v.has(Z)?oe(Z):A.protectedKeys[Z]=!0}A.prevProp=R,A.prevResolvedValues=L,A.isActive&&(b={...b,...L}),r&&t.blockInitialAnimation&&(k=!1);const ye=U&&P;k&&(!ye||D)&&y.push(...O.map(Z=>{const $={type:I};if(typeof Z=="string"&&r&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,se=Gc(X,Z);if(X.enteringChildren&&se){const{delayChildren:H}=se.transition||{};$.delay=OM(X.enteringChildren,t,H)}}return{animation:Z,options:$}}))}if(v.size){const S={};if(typeof f.initial!="boolean"){const I=Gc(t,Array.isArray(f.initial)?f.initial[0]:f.initial);I&&I.transition&&(S.transition=I.transition)}v.forEach(I=>{const A=t.getBaseTarget(I),R=t.getValue(I);R&&(R.liveStyle=!0),S[I]=A??null}),y.push({animation:S})}let C=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(y):Promise.resolve()}function c(d,f){var y;if(n[d].isActive===f)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(d,f)}),n[d].isActive=f;const m=a(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=rN()}}}function Vee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LM(e,t):!1}function Ka(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rN(){return{animate:Ka(!0),whileInView:Ka(),whileHover:Ka(),whileTap:Ka(),whileDrag:Ka(),whileFocus:Ka(),exit:Ka()}}class xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Bee extends xa{constructor(e){super(e),e.animationState||(e.animationState=Fee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Uee=0;class zee extends xa{constructor(){super(...arguments),this.id=Uee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $ee={animation:{Feature:Bee},exit:{Feature:zee}};function kh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xf(t){return{point:{x:t.pageX,y:t.pageY}}}const qee=t=>e=>r1(e)&&t(e,xf(e));function Jd(t,e,n,r){return kh(t,e,qee(n),r)}const VM=1e-4,Wee=1-VM,Hee=1+VM,BM=.01,Gee=0-BM,Kee=0+BM;function Yn(t){return t.max-t.min}function Yee(t,e,n){return Math.abs(t-e)<=n}function sN(t,e,n,r=.5){t.origin=r,t.originPoint=Vt(e.min,e.max,t.origin),t.scale=Yn(n)/Yn(e),t.translate=Vt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Wee&&t.scale<=Hee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gee&&t.translate<=Kee||isNaN(t.translate))&&(t.translate=0)}function Zd(t,e,n,r){sN(t.x,e.x,n.x,r?r.originX:void 0),sN(t.y,e.y,n.y,r?r.originY:void 0)}function iN(t,e,n){t.min=n.min+e.min,t.max=t.min+Yn(e)}function Qee(t,e,n){iN(t.x,e.x,n.x),iN(t.y,e.y,n.y)}function oN(t,e,n){t.min=e.min-n.min,t.max=t.min+Yn(e)}function vg(t,e,n){oN(t.x,e.x,n.x),oN(t.y,e.y,n.y)}function Hr(t){return[t("x"),t("y")]}const UM=({current:t})=>t?t.ownerDocument.defaultView:null,aN=(t,e)=>Math.abs(t-e);function Xee(t,e){const n=aN(t.x,e.x),r=aN(t.y,e.y);return Math.sqrt(n**2+r**2)}class zM{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=zx(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=Xee(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!T)return;const{point:C}=v,{timestamp:S}=Tn;this.history.push({...C,timestamp:S});const{onStart:I,onMove:A}=this.handlers;b||(I&&I(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Ux(b,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=zx(v.type==="pointercancel"?this.lastMoveEventInfo:Ux(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,I),C&&C(v,I)},!r1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=xf(e),d=Ux(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=Tn;this.history=[{...f,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,zx(d,this.history)),this.removeListeners=gf(Jd(this.contextWindow,"pointermove",this.handlePointerMove),Jd(this.contextWindow,"pointerup",this.handlePointerUp),Jd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function Ux(t,e){return e?{point:e(t.point)}:t}function lN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zx({point:t},e){return{point:t,delta:lN(t,$M(e)),offset:lN(t,Jee(e)),velocity:Zee(e,.1)}}function Jee(t){return t[0]}function $M(t){return t[t.length-1]}function Zee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=$M(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ei(e)));)n--;if(!r)return{x:0,y:0};const i=Yr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ete(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Vt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Vt(n,t,r.max):Math.min(t,n)),t}function cN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tte(t,{top:e,left:n,bottom:r,right:s}){return{x:cN(t.x,n,s),y:cN(t.y,e,r)}}function uN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function nte(t,e){return{x:uN(t.x,e.x),y:uN(t.y,e.y)}}function rte(t,e){let n=.5;const r=Yn(t),s=Yn(e);return s>r?n=Sh(e.min,e.max-r,t.min):r>s&&(n=Sh(t.min,t.max-s,e.min)),Ji(0,1,n)}function ste(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Iw=.35;function ite(t=Iw){return t===!1?t=0:t===!0&&(t=Iw),{x:dN(t,"left","right"),y:dN(t,"top","bottom")}}function dN(t,e,n){return{min:hN(t,e),max:hN(t,n)}}function hN(t,e){return typeof t=="number"?t:t[e]||0}const ote=new WeakMap;class ate{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xf(y).point)},a=(y,v)=>{const{drag:b,dragPropagation:T,onDragStart:C}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hZ(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(I=>{let A=this.getAxisMotionValue(I).get()||0;if(ti.test(A)){const{projection:R}=this.visualElement;if(R&&R.layout){const B=R.layout.layoutBox[I];B&&(A=Yn(B)*(parseFloat(A)/100))}}this.originPoint[I]=A}),C&&Dt.postRender(()=>C(y,v)),kw(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:C,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:I}=v;if(T&&this.currentDirection===null){this.currentDirection=lte(I),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,I),this.updateAxis("y",v.point,I),this.visualElement.render(),S&&S(y,v)},d=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Hr(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new zM(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:UM(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Dt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!np(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=ete(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Dc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=tte(r.layoutBox,e):this.constraints=!1,this.elastic=ite(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=ste(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=cee(r,s.root,this.visualElement.getTransformPagePoint());let a=nte(s.layout.layoutBox,i);if(n){const c=n(oee(a));this.hasMutatedConstraints=!!c,c&&(a=TM(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Hr(m=>{if(!np(m,n,this.currentDirection))return;let y=d&&d[m]||{};a&&(y={min:0,max:0});const v=s?200:1e6,b=s?40:1e7,T={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...y};return this.startAxisValueAnimation(m,T)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return kw(this.visualElement,e),r.start(f1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:r}=this.getProps();if(!np(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];i.set(e[n]-Vt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=rte({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hr(a=>{if(!np(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];c.set(Vt(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;ote.set(this.visualElement,this);const e=this.visualElement.current,n=Jd(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Dc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Dt.read(r);const a=kh(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Hr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Iw,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function np(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lte(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cte extends xa{constructor(e){super(e),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new ate(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const fN=t=>(e,n)=>{t&&Dt.postRender(()=>t(e,n))};class ute extends xa{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(e){this.session=new zM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:fN(e),onStart:fN(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Dt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=Jd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let $x=!1;class dte extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),$x&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,$x=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Dt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;$x=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qM(t){const[e,n]=hM(),r=w.useContext(M_);return u.jsx(dte,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(EM),isPresent:e,safeToRemove:n})}function hte(t,e,n){const r=Fn(t)?t:vu(t);return r.start(f1("",r,e,n)),r.animation}const fte=(t,e)=>t.depth-e.depth;class mte{constructor(){this.children=[],this.isDirty=!1}add(e){F_(this.children,e),this.isDirty=!0}remove(e){V_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fte),this.isDirty=!1,this.children.forEach(e)}}function pte(t,e){const n=pr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(da(r),t(i-e))};return Dt.setup(r,!0),()=>da(r)}const WM=["TopLeft","TopRight","BottomLeft","BottomRight"],gte=WM.length,mN=t=>typeof t=="string"?parseFloat(t):t,pN=t=>typeof t=="number"||ze.test(t);function yte(t,e,n,r,s,i){s?(t.opacity=Vt(0,n.opacity??1,vte(r)),t.opacityExit=Vt(e.opacity??1,0,xte(r))):i&&(t.opacity=Vt(e.opacity??1,n.opacity??1,r));for(let a=0;a<gte;a++){const c=`border${WM[a]}Radius`;let d=gN(e,c),f=gN(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||pN(d)===pN(f)?(t[c]=Math.max(Vt(mN(d),mN(f),r),0),(ti.test(f)||ti.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Vt(e.rotate||0,n.rotate||0,r))}function gN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vte=HM(0,.5,AD),xte=HM(.5,.95,Qr);function HM(t,e,n){return r=>r<t?0:r>e?1:n(Sh(t,e,r))}function yN(t,e){t.min=e.min,t.max=e.max}function fs(t,e){yN(t.x,e.x),yN(t.y,e.y)}function vN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function xN(t,e,n,r,s){return t-=e,t=yg(t,1/n,r),s!==void 0&&(t=yg(t,1/s,r)),t}function wte(t,e=0,n=1,r=.5,s,i=t,a=t){if(ti.test(e)&&(e=parseFloat(e),e=Vt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Vt(i.min,i.max,r);t===i&&(c-=e),t.min=xN(t.min,e,n,c,s),t.max=xN(t.max,e,n,c,s)}function wN(t,e,[n,r,s],i,a){wte(t,e[n],e[r],e[s],e.scale,i,a)}const bte=["x","scaleX","originX"],_te=["y","scaleY","originY"];function bN(t,e,n,r){wN(t.x,e,bte,n?n.x:void 0,r?r.x:void 0),wN(t.y,e,_te,n?n.y:void 0,r?r.y:void 0)}function _N(t){return t.translate===0&&t.scale===1}function GM(t){return _N(t.x)&&_N(t.y)}function SN(t,e){return t.min===e.min&&t.max===e.max}function Ste(t,e){return SN(t.x,e.x)&&SN(t.y,e.y)}function EN(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KM(t,e){return EN(t.x,e.x)&&EN(t.y,e.y)}function CN(t){return Yn(t.x)/Yn(t.y)}function TN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ete{constructor(){this.members=[]}add(e){F_(this.members,e),e.scheduleRender()}remove(e){if(V_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cte(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:v,skewX:b,skewY:T}=n;f&&(r=`perspective(${f}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),T&&(r+=`skewY(${T}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const qx=["","X","Y","Z"],Tte=1e3;let kte=0;function Wx(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function YM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DM(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Dt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&YM(r)}function QM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=kte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Pte),this.nodes.forEach(Dte),this.nodes.forEach(Mte),this.nodes.forEach(Ate)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new mte)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new z_),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=dM(a)&&!vZ(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,y=0;const v=()=>this.root.updateBlockedByResize=!1;Dt.read(()=>{y=window.innerWidth}),t(a,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,m&&m(),m=pte(v,250),kp.hasAnimatedSinceResize&&(kp.hasAnimatedSinceResize=!1,this.nodes.forEach(IN)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||Bte,{onLayoutAnimationStart:C,onLayoutAnimationComplete:S}=f.getProps(),I=!this.targetLayout||!KM(this.targetLayout,b),A=!y&&v;if(this.options.layoutRoot||this.resumeFrom||A||y&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...e1(T,"layout"),onPlay:C,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(m,A)}else y||IN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ote),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(NN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jte),this.nodes.forEach(Nte),this.nodes.forEach(Ite)):this.nodes.forEach(NN),this.clearAllSnapshots();const c=pr.now();Tn.delta=Ji(0,1e3/60,c-Tn.timestamp),Tn.timestamp=c,Tn.isProcessing=!0,jx.update.process(Tn),jx.preRender.process(Tn),jx.render.process(Tn),Tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Rte),this.sharedNodes.forEach(Lte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yn(this.snapshot.measuredBox.x)&&!Yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!GM(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||Ja(this.latestValues)||m)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),Ute(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return hn();const c=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(zte))){const{scroll:m}=this.root;m&&(Mc(c.x,m.offset.x),Mc(c.y,m.offset.y))}return c}removeElementScroll(a){var d;const c=hn();if(fs(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&fs(c,a),Mc(c.x,y.offset.x),Mc(c.y,y.offset.y))}return c}applyTransform(a,c=!1){const d=hn();fs(d,a);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Oc(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ja(m.latestValues)&&Oc(d,m.latestValues)}return Ja(this.latestValues)&&Oc(d,this.latestValues),d}removeTransform(a){const c=hn();fs(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ja(f.latestValues))continue;Sw(f.latestValues)&&f.updateSnapshot();const m=hn(),y=f.measurePageBox();fs(m,y),bN(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ja(this.latestValues)&&bN(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var b;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!this.layout||!(m||y))return;this.resolvedRelativeTargetAt=Tn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),NM(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||kM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,d){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),vg(this.relativeTargetOrigin,c,d),fs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Tn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;fs(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;lee(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=hn());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vN(this.prevProjectionDelta.x,this.projectionDelta.x),vN(this.prevProjectionDelta.y,this.projectionDelta.y)),Zd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!TN(this.projectionDelta.x,this.prevProjectionDelta.x)||!TN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lc(),this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc()}setAnimationOrigin(a,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},y=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=hn(),b=d?d.source:void 0,T=this.layout?this.layout.source:void 0,C=b!==T,S=this.getStack(),I=!S||S.members.length<=1,A=!!(C&&!I&&this.options.crossfade===!0&&!this.path.some(Vte));this.animationProgress=0;let R;this.mixTargetDelta=B=>{const F=B/1e3;PN(y.x,a.x,F),PN(y.y,a.y,F),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vg(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fte(this.relativeTarget,this.relativeTargetOrigin,v,F),R&&Ste(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=hn()),fs(R,this.relativeTarget)),C&&(this.animationValues=m,yte(m,f,this.latestValues,F,A,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{kp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vu(0)),this.currentAnimation=hte(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=a;if(!(!c||!d||!f)){if(this!==a&&this.layout&&f&&XM(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||hn();const y=Yn(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+y;const v=Yn(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+v}fs(c,d),Oc(c,m),Zd(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ete),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Wx("z",a,f,this.animationValues);for(let m=0;m<qx.length;m++)Wx(`rotate${qx[m]}`,a,f,this.animationValues),Wx(`skew${qx[m]}`,a,f,this.animationValues);a.render();for(const m in f)a.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Tp(c==null?void 0:c.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Tp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=Cte(this.projectionDeltaWithTransform,this.treeScale,m);d&&(y=d(m,y)),a.transform=y;const{x:v,y:b}=this.projectionDelta;a.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,f.animationValues?a.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:a.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in _w){if(m[T]===void 0)continue;const{correct:C,applyTo:S,isCSSVariable:I}=_w[T],A=y==="none"?m[T]:C(m[T],f);if(S){const R=S.length;for(let B=0;B<R;B++)a[S[B]]=A}else I?this.options.visualElement.renderState.vars[T]=A:a[T]=A}this.options.layoutId&&(a.pointerEvents=f===this?Tp(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(kN),this.root.sharedNodes.clear()}}}function Nte(t){t.updateLayout()}function Ite(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Hr(y=>{const v=a?e.measuredBox[y]:e.layoutBox[y],b=Yn(v);v.min=r[y].min,v.max=v.min+b}):XM(i,e.layoutBox,r)&&Hr(y=>{const v=a?e.measuredBox[y]:e.layoutBox[y],b=Yn(r[y]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+b)});const c=Lc();Zd(c,r,e.layoutBox);const d=Lc();a?Zd(d,t.applyTransform(s,!0),e.measuredBox):Zd(d,r,e.layoutBox);const f=!GM(c);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const T=hn();vg(T,e.layoutBox,v.layoutBox);const C=hn();vg(C,r,b.layoutBox),KM(T,C)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=T,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Pte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ate(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Rte(t){t.clearSnapshot()}function kN(t){t.clearMeasurements()}function NN(t){t.isLayoutDirty=!1}function jte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Dte(t){t.resolveTargetDelta()}function Mte(t){t.calcProjection()}function Ote(t){t.resetSkewAndRotation()}function Lte(t){t.removeLeadSnapshot()}function PN(t,e,n){t.translate=Vt(e.translate,0,n),t.scale=Vt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function AN(t,e,n,r){t.min=Vt(e.min,n.min,r),t.max=Vt(e.max,n.max,r)}function Fte(t,e,n,r){AN(t.x,e.x,n.x,r),AN(t.y,e.y,n.y,r)}function Vte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bte={duration:.45,ease:[.4,0,.1,1]},RN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),jN=RN("applewebkit/")&&!RN("chrome/")?Math.round:Qr;function DN(t){t.min=jN(t.min),t.max=jN(t.max)}function Ute(t){DN(t.x),DN(t.y)}function XM(t,e,n){return t==="position"||t==="preserve-aspect"&&!Yee(CN(e),CN(n),.2)}function zte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $te=QM({attachResizeListener:(t,e)=>kh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hx={current:void 0},JM=QM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hx.current){const t=new $te({});t.mount(window),t.setOptions({layoutScroll:!0}),Hx.current=t}return Hx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qte={pan:{Feature:ute},drag:{Feature:cte,ProjectionNode:JM,MeasureLayout:qM}};function MN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Dt.postRender(()=>i(e,xf(e)))}class Wte extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=fZ(e,(n,r)=>(MN(this.node,r,"Start"),s=>MN(this.node,s,"End"))))}unmount(){}}class Hte extends xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gf(kh(this.node.current,"focus",()=>this.onFocus()),kh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ON(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Dt.postRender(()=>i(e,xf(e)))}class Gte extends xa{mount(){const{current:e}=this.node;e&&(this.unmount=yZ(e,(n,r)=>(ON(this.node,r,"Start"),(s,{success:i})=>ON(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pw=new WeakMap,Gx=new WeakMap,Kte=t=>{const e=Pw.get(t.target);e&&e(t)},Yte=t=>{t.forEach(Kte)};function Qte({root:t,...e}){const n=t||document;Gx.has(n)||Gx.set(n,{});const r=Gx.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Yte,{root:t,...e})),r[s]}function Xte(t,e,n){const r=Qte(e);return Pw.set(t,n),r.observe(t),()=>{Pw.delete(t),r.unobserve(t)}}const Jte={some:0,all:1};class Zte extends xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Jte[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),v=f?m:y;v&&v(d)};return Xte(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ene(e,n))&&this.startObserver()}unmount(){}}function ene({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tne={inView:{Feature:Zte},tap:{Feature:Gte},focus:{Feature:Hte},hover:{Feature:Wte}},nne={layout:{ProjectionNode:JM,MeasureLayout:qM}},rne={...$ee,...tne,...qte,...nne},sne=iee(rne,vee),ine=[{year:"Year 2",title:"FOUNDATIONS",bigIdeas:["Needs vs wants","Recognising money","Simple spending & saving","Role-play shops"],keyAbilities:["Sort needs/wants","Identify coins & notes","Choose cheaper item","Explain choices","Take part in simple transactions"]},{year:"Year 3",title:"VALUE & BUDGETING",bigIdeas:["Value vs price","Tiny budgets","Saving goals","Early financial planning"],keyAbilities:["Identify best-value items","Make a small budget","Track simple saving goals","Plan low-cost events (picnic/party)"]},{year:"Year 4",title:"INCOME, EXPENSES & PROFIT",bigIdeas:["Money flow","Revenue, cost, profit","Pricing","Demand basics"],keyAbilities:["Identify income vs expenses","Calculate simple profit","Set fair prices","Predict demand from price changes","Compare simple businesses"]},{year:"Year 5",title:"STRATEGY & COMPETITION",bigIdeas:["Multi-round strategy","Competition","Customer behaviour","Branding & uniqueness"],keyAbilities:["Track profit over 3 rounds","Adjust strategy","Predict customer choices","Compare competitor outcomes","Build basic brand identity"]},{year:"Year 6",title:"REAL-LIFE MONEY",bigIdeas:["Percentages (discounts)","Tax & VAT","Income & salaries","Monthly budgeting","Savings & interest","Risk vs reward","Real-life consumer decisions"],keyAbilities:["Calculate 102050% discounts","Add simple VAT","Build a monthly budget","Compare savings plans","Evaluate risk","Choose best-value real-life options"]},{year:"Year 7",title:"PERSONAL FINANCE FOUNDATIONS",bigIdeas:["Bank accounts","Payslips","Gross vs net income","Teen budgeting","Interest & inflation","Consumer rights"],keyAbilities:["Read basic bank statements","Interpret payslips","Build teen weekly/monthly budgets","Compare product value","Understand impact of inflation"]},{year:"Year 8",title:"DECISION-MAKING & CONSUMER AWARENESS",bigIdeas:["Contracts","Subscriptions","Credit basics","APR","Long-term commitments","Cost of borrowing"],keyAbilities:["Compare subscription plans","Understand interest on loans","Evaluate credit offers","Spot hidden fees/traps","Compare long-term vs short-term cost"]},{year:"Year 9",title:"EARLY FINANCIAL INDEPENDENCE & ENTERPRISE",bigIdeas:["Full personal finance cycle","Career income + pathways","Advanced budgeting","Investment basics","Small business models","Tax/earnings fundamentals"],keyAbilities:["Manage realistic personal finance simulations","Compare career paths (salary, education, lifestyle)","Build simple investment portfolios","Launch a small business concept","Explain long-term financial impact of choices"]}];function one(){const[t,e]=w.useState(null),n=r=>{e(t===r?null:r)};return u.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-2xl shadow-lg border border-gray-100",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx(u9,{className:"w-8 h-8 text-yellow-400 fill-yellow-400"}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Progression Map"})]}),u.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"A detailed guide to financial literacy learning outcomes from Year 2 to Year 9. Click on a year group to explore big ideas and key abilities."})]}),u.jsx("div",{className:"space-y-4",children:ine.map(r=>u.jsxs("div",{className:`border rounded-xl transition-all duration-300 overflow-hidden ${t===r.year?"border-[#3448C5] shadow-md bg-blue-50/30":"border-gray-200 hover:border-blue-300 bg-white"}`,children:[u.jsxs("button",{onClick:()=>n(r.year),className:"w-full flex items-center justify-between p-5 text-left focus:outline-none",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold transition-colors ${t===r.year?"bg-[#3448C5] text-white":"bg-blue-100 text-[#3448C5]"}`,children:r.year.replace("Year ","Y")}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.year}),u.jsx("p",{className:"text-sm text-gray-500 font-medium",children:r.title})]})]}),t===r.year?u.jsx(Lb,{className:"w-6 h-6 text-[#3448C5]"}):u.jsx(FA,{className:"w-6 h-6 text-gray-400"})]}),u.jsx(kZ,{children:t===r.year&&u.jsx(sne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:u.jsx("div",{className:"p-5 pt-0 border-t border-blue-100",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mt-5",children:[u.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[u.jsxs("h4",{className:"text-[#3448C5] font-bold mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-[#3448C5]"}),"Big Ideas"]}),u.jsx("ul",{className:"space-y-3",children:r.bigIdeas.map((s,i)=>u.jsxs("li",{className:"flex items-start gap-3 text-gray-700 text-sm",children:[u.jsx(E0,{className:"w-4 h-4 text-blue-400 mt-0.5 shrink-0"}),u.jsx("span",{children:s})]},i))})]}),u.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm",children:[u.jsxs("h4",{className:"text-[#35D0BA] font-bold mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-[#35D0BA]"}),"Key Abilities"]}),u.jsx("ul",{className:"space-y-3",children:r.keyAbilities.map((s,i)=>u.jsxs("li",{className:"flex items-start gap-3 text-gray-700 text-sm",children:[u.jsx(E0,{className:"w-4 h-4 text-teal-400 mt-0.5 shrink-0"}),u.jsx("span",{children:s})]},i))})]})]})})})})]},r.year))})]})}const ane={"Year 2":{title:"Foundations of Money: Needs, Wants & Simple Choices",overview:{purpose:["Build foundational money awareness","Understand needs vs wants","Make simple spending decisions","Recognise coins/notes","Explain choices with basic reasoning"],coreKnowledge:["Needs vs wants","Coins, notes, simple prices","Cost comparisons (cheaper/more expensive)","Saving means keeping money for later","Shops have buyers and sellers"],coreSkills:["Sorting needs vs wants","Matching coins to values","Making simple spending choices","Explaining choices using because","Basic money role-play"],coreConcepts:"needs, wants, recognise money, cost, spending, saving, choices, roleplay."},vocabulary:"Need, Want, Money, Coin, Note, Cost, Price, Spend, Save, Shop, Buy",objectives:["Identify needs and wants","Recognise common coins and notes","Choose between two items and explain choice","Compare simple prices","Take part in shop-based role-play"],successCriteria:["I can sort items into needs/wants","I can recognise coins/notes","I can choose an item and explain why","I can identify which item costs less","I can act out paying for something"],halfTermOverview:[{unit:"Needs & Wants",knowledge:"Understand the difference between essential and non-essential items.",skills:"Sort objects; explain simple choices."},{unit:"Money Recognition",knowledge:"Recognise coins and notes; understand that money has value.",skills:"Match and identify coins/notes; order by value."},{unit:"Spending & Cost",knowledge:"Understand price tags; cheaper vs more expensive; basic value.",skills:"Compare prices; make simple spending choices."},{unit:"Shops & Paying",knowledge:"Know buyer/seller roles; how to pay for goods; identify price labels.",skills:"Role-play transactions; select correct coins."},{unit:"Saving & Small Budgets",knowledge:"Understand saving; keeping money safe; tiny budgets.",skills:"Sort save/spend; plan small saving goals."},{unit:"Real-Life Money",knowledge:"Recognise family expenses; earning vs spending; real examples.",skills:"Identify real needs; explain basic expenses; simple dilemmas."}],crossCurricularLinks:["Maths: comparing numbers","English: explaining choices","Moral Ed: needs of people","Social Studies: community roles"],adaptations:{send:["Symbol cards","Real objects","Sentence starters","Limited choices (2 at a time)"],ell:["Symbol cards","Real objects","Sentence starters","Limited choices (2 at a time)"]},progressionSummary:["Knows needs/wants","Recognises money","Makes simple choices","Begins budgeting","Uses basic reasoning"]},"Year 3":{title:"Value, Budgeting & Making Better Money Decisions",overview:{purpose:["Strengthen understanding of value vs price","Introduce simple budgets","Build early saving and spending reasoning","Compare multiple options with justification","Develop confidence in simple financial planning"],coreKnowledge:["Value means the worth of something","Price does not always equal value","A budget is a spending plan","Saving helps you reach a goal","Costs add up across items","Some choices give better value than others"],coreSkills:["Compare two or more items","Choose the best-value option","Create and use a simple budget","Explain a saving goal","Plan spending for small events/settings"],coreConcepts:"Value  Cost  Budget  Saving  Spending  Choices  Goals"},vocabulary:"Budget, Value, Cost, Price, Save, Spend, Goal, Choice",objectives:["Compare prices and identify cheaper/more expensive items.","Explain the difference between price and value.","Create and stick to a simple budget.","Choose items based on best value, not just lowest cost.","Plan small saving goals.","Make spending decisions with explanations."],successCriteria:["SC1: Identify the best-value item in a set.","SC2: Explain a spending decision using because...","SC3: Stay within a simple budget during a task.","SC4: Compare more expensive vs cheaper items.","SC5: Describe a saving goal and break it down."],halfTermOverview:[{unit:"Value & Price",knowledge:"Difference between value and price; quality matters.",skills:"Compare items; justify choices."},{unit:"Budgeting Basics",knowledge:"Budgets help manage money; costs add up.",skills:"Create simple budgets; allocate money."},{unit:"Saving & Goals",knowledge:"Saving builds towards a goal; short vs long-term.",skills:"Plan saving goals; track progress."},{unit:"Spending Wisely",knowledge:"Choosing the best option; understanding deals.",skills:"Compare choices; avoid overspending."},{unit:"Event Planning",knowledge:"Costing food, prizes, decorations.",skills:"Combine budgeting + value; make event choices."},{unit:"Real-Life Money",knowledge:"Family choices; comparing real items.",skills:"Reason about real expenses; justify decisions."}],crossCurricularLinks:["Maths: comparing numbers, addition/subtraction, simple data","English: justifying choices, using because sentences","Social Studies: families, needs of community","Moral Ed: fairness, responsibility"],adaptations:{send:["Limit number of choices","Use visual cues for value/price","Provide sentence starters (I choose this because)","Remove multi-step items"],ell:["Vocabulary cards","Dual-language glossaries where possible","Partner speaking + modelled explanations","Symbol-based price tags"]},progressionSummary:["Understand value vs price","Use small budgets","Set saving goals","Compare items using reasoning","Communicate simple financial decisions clearly"]},"Year 4":{title:"Income, Expenses, Profit & Early Supply/Demand",overview:{purpose:["Understand how money flows into and out of a business","Learn how profit is calculated","Set fair prices and justify them","Predict customer behaviour using basic supply & demand","Compare small business scenarios","Strengthen analytical and reasoning skills"],coreKnowledge:["Income = money coming in","Expenses = money going out","Profit = income  expenses","Higher prices can reduce demand","Lower prices can increase demand","Businesses must balance income and expenses"],coreSkills:["Identify income and expenses","Calculate simple profit","Set fair prices","Predict how price changes affect demand","Compare business results"],coreConcepts:"Income  Expenses  Profit  Pricing  Demand  Customers  Fairness  Services"},vocabulary:"Income, Expenses, Profit, Revenue, Demand, Customer, Service, Fair Price",objectives:["Identify income and expenses in a business scenario.","Calculate simple profit (income  expenses).","Predict how price affects customer demand.","Compare two business outcomes and choose the stronger one.","Choose fair, suitable prices for goods/services.","Explain commercial decisions clearly and logically."],successCriteria:["SC1: Sort income and expenses correctly","SC2: Calculate the profit of a simple business","SC3: Set fair prices and explain why","SC4: Predict demand changes from price changes","SC5: Compare businesses using evidence"],halfTermOverview:[{unit:"Money Flow",knowledge:"Difference between income vs expenses.",skills:"Sort, identify, and label money flow."},{unit:"Profit",knowledge:"Income  expenses = profit.",skills:"Calculate simple profit; track changes."},{unit:"Pricing & Fairness",knowledge:"Prices must match quality and costs.",skills:"Set fair prices; justify cost decisions."},{unit:"Demand",knowledge:"Higher price  lower demand; lower price  higher demand.",skills:"Predict demand; analyse customer choices."},{unit:"Mini Business",knowledge:"Combine price, demand & expenses.",skills:"Run a basic stand; make multi-step decisions."},{unit:"Real-Life Money",knowledge:"Everyday services; business choices.",skills:"Compare real services; justify best options."}],crossCurricularLinks:["Maths: subtraction, comparing numbers, interpreting tables","English: explanation writing, using evidence","Design & Tech: product quality, fair pricing","Social Studies: economic roles, community jobs","Moral Ed: fairness, reasoning about decisions"],adaptations:{send:["Provide template profit calculators","Reduce price options","Use visual demand arrows","Support vocabulary with icons","Provide partially filled tables"],ell:["Visual labels (coin icons, arrows for demand)","Sentence starters (The price is fair because)","Model explanations","Pair talk before writing"]},progressionSummary:["Explain income and expenses","Calculate simple profit","Predict demand from pricing changes","Set fair, appropriate prices","Run multi-step business decisions","Compare and justify business outcomes"]},"Year 5":{title:"Profit Strategy, Competition & Improving Performance Over Rounds",overview:{purpose:["Deepen understanding of profit and how it changes over time","Explore competition and customer choice","Introduce strategy and iterative improvement","Analyse multi-round business outcomes","Understand the relationship between quality, price & demand","Develop decision-making and evidence-based reasoning"],coreKnowledge:["Revenue = total money in","Cost = money out","Profit = revenue  cost","Competition influences customer behavior","Higher quality can justify higher prices","Lower prices can attract more customers","Businesses improve by analysing previous rounds","Customers choose based on value, quality & experience"],coreSkills:["Track profit across multiple rounds","Compare competing businesses","Adjust strategy based on results","Choose quality/price combinations deliberately","Predict customer behaviour","Evaluate improvements and justify decisions"],coreConcepts:"Revenue  Cost  Profit  Competition  Strategy  Quality  Demand  Improvement"},vocabulary:"Revenue, Profit, Competition, Strategy, Demand, Quality, Customer Choice",objectives:["Calculate and track profit across multiple rounds.","Compare two competing businesses and judge which performs better.","Predict customer choices using price, quality or deals.","Create and adjust a business strategy over time.","Analyse improvements from round to round.","Evaluate how pricing or quality changes affect outcomes."],successCriteria:["SC1: Calculate revenue, cost & profit correctly","SC2: Explain why one business performed better","SC3: Predict customer behaviour and justify it","SC4: Adjust strategy and explain the change","SC5: Compare rounds using evidence"],halfTermOverview:[{unit:"Revenue, Cost & Profit",knowledge:"How businesses make profit; revenue  cost.",skills:"Track profit; interpret simple data."},{unit:"Competition & Customers",knowledge:"Competition affects choices; different selling points.",skills:"Compare businesses; explain choices."},{unit:"Strategy & Improvement",knowledge:"Strategy means planning and adjusting.",skills:"Analyse results; improve next round."},{unit:"Customer Behaviour",knowledge:"Why customers choose based on price, quality & deals.",skills:"Predict choices; analyse patterns."},{unit:"3-Round Business Challenge",knowledge:"Combine revenue, cost, strategy, quality & demand.",skills:"Run 3 rounds; reflect and improve."},{unit:"Branding & Uniqueness",knowledge:"Brand identity; USPs; attracting customers.",skills:"Create brand; justify marketing decisions."}],crossCurricularLinks:["Maths: analysing data, adding costs, comparing numbers","English: persuasive reasoning, comparing options","DT: product improvements, quality decisions","Social Studies: competition in markets, consumer behaviour","Moral Ed: fairness, value, responsibility"],adaptations:{send:["Reduce number of options","Pre-filled profit tables","Visual aids for customer behaviour","Step-by-step strategy planners"],ell:["Visual vocabulary cards","Sentence starters (My strategy changed because)","Graphic organisers (T-charts, tables)"]},progressionSummary:["Understand multi-round profit","Explain customer behaviour","Think strategically","Compare outcomes using data","Improve sequentially","Understand branding and uniqueness"]},"Year 6":{title:"Percentages, Tax, Budgeting, Risk & Real-Life Financial Responsibility",overview:{purpose:["Apply mathematical thinking to real-life money scenarios","Use percentages to calculate discounts","Understand tax and why final prices are higher","Manage monthly budgets realistically","Understand income types (salary, pocket money, business income)","Learn about interest and simple investments","Make decisions using risk vs reward reasoning"],coreKnowledge:["Percentage = out of 100","Discounts reduce cost by a percentage","Tax (VAT) increases final price","Income takes different forms","Monthly budgets include fixed & flexible expenses","Saving earns interest over time","Higher risk can lead to higher reward  but not always","Real-life choices affect long-term outcomes"],coreSkills:["Calculate 10%, 20%, 50% discounts","Add simple VAT to prices","Make and adjust monthly budgets","Compare savings plans","Choose between low/medium/high-risk options","Justify decisions with calculations","Compare real-life deals and long-term value"],coreConcepts:"Discounts  Tax  VAT  Income  Budgeting  Savings  Interest  Risk  Reward  Real-Life Choices"},vocabulary:"Discount, Percentage, Tax, VAT, Income, Salary, Bills, Budget, Interest, Risk, Reward",objectives:["Calculate simple percentage discounts (10%, 20%, 50%).","Explain why tax exists and add simple VAT to prices.","Compare income types and understand what a salary is.","Create and adjust a monthly budget.","Explain interest and compare savings plans.","Evaluate risk vs reward in simple investment choices.","Make real-life consumer decisions and justify them."],successCriteria:["SC1: Calculate discounts accurately.","SC2: Explain how tax increases final cost.","SC3: Balance a realistic monthly budget.","SC4: Choose the best savings option using reasoning.","SC5: Compare low, medium and high-risk choices.","SC6: Explain decisions using evidence and calculations."],halfTermOverview:[{unit:"Percentage Discounts",knowledge:"10%, 20%, 50% discounts; sale prices.",skills:"Calculate discount; compare deals."},{unit:"Tax & VAT",knowledge:"Why governments charge tax; VAT increases price.",skills:"Add simple VAT; compare final prices."},{unit:"Income & Salaries",knowledge:"Types of income; monthly salary; deductions.",skills:"Explain income; compare job options."},{unit:"Monthly Budgeting",knowledge:"Fixed vs flexible expenses; budgeting cycle.",skills:"Balance budgets; adjust spending; plan ahead."},{unit:"Saving, Interest & Risk",knowledge:"Interest grows money; risk/reward basics.",skills:"Compare savings; evaluate risks."},{unit:"Real-Life Decisions",knowledge:"Value, quality, contracts, long-term outcomes.",skills:"Justify choices using evidence."}],crossCurricularLinks:["Maths: percentages, adding, multi-step problems, comparing data","English: explanation writing, reasoning, persuasive arguments","Moral Ed: responsibility, consequences, fairness","Social Studies: roles of government, taxes, community services","ICT: data representation, financial simulations"],adaptations:{send:["Chunked calculations (one percentage at a time)","Visual bar models for percentages","Sentence scaffolds for explanations","Simplified budgets with fewer expenses","Pre-completed VAT examples"],ell:["Vocabulary cards with icons","Step-by-step examples","Partner talk  writing","Dual-language glossary if needed"]},progressionSummary:["Understand discounts, tax & income","Manage a simple monthly budget","Compare savings options","Analyse risks and rewards","Make real-life financial decisions","Justify choices using calculation + reasoning"]},"Year 7":{title:"Personal Finance Foundations: Banking, Earning, Budgeting & Saving",overview:{purpose:["Introduce real personal finance systems (banks, payslips, income, savings)","Build mathematical fluency for money calculations","Develop understanding of teen-appropriate financial scenarios","Strengthen budgeting and decision-making skills","Explore interest, inflation and real value over time","Begin awareness of consumer rights and responsibilities"],coreKnowledge:["Purpose and types of bank accounts","Statements show money in/out","Income types: salary, wages, commission","Payslips: gross, net, deductions","Inflation reduces purchasing power","Simple interest grows savings","Budgets balance income vs expenses","Consumers have rights (refunds, guarantees, contracts)"],coreSkills:["Read and interpret a bank statement","Identify deposits, withdrawals, balances","Read payslips and identify deductions","Calculate earnings at hourly rates","Build weekly/monthly budgets","Compare savings accounts and interest","Evaluate long-term vs short-term value","Analyse contracts and simple terms","Make responsible financial choices"],coreConcepts:"Bank Accounts  Statements  Income  Payslips  Gross & Net  Budgeting  Interest  Inflation  Value  Consumer Rights  Contracts  Financial Responsibility"},vocabulary:"Bank Account, Deposit, Withdrawal, Balance, Salary, Wages, Gross Income, Net Income, Budget, Interest, Inflation, Guarantee/Refund",objectives:["Explain the purpose of bank accounts and interpret simple statements.","Identify types of income and interpret basic payslips.","Calculate earnings using hourly rates.","Build and manage weekly and monthly budgets.","Explain simple interest and compare savings options.","Understand inflation and how it affects value.","Compare real-life products and make value-based decisions.","Understand basic consumer rights and contractual obligations."],successCriteria:["SC1: Read a bank statement and determine the balance.","SC2: Identify gross, net income and deductions on a payslip.","SC3: Calculate total earnings from hourly work.","SC4: Build a balanced budget and adjust for changes.","SC5: Compare savings account interest logically.","SC6: Explain how inflation affects affordability.","SC7: Evaluate contracts or product options responsibly."],halfTermOverview:[{unit:"Bank Accounts & Statements",knowledge:"Purpose of accounts; deposits/withdrawals; balances.",skills:"Read statements; track balances."},{unit:"Earnings, Income & Payslips",knowledge:"Salary vs wages; gross/net; deductions.",skills:"Interpret payslips; calculate earnings."},{unit:"Budgeting & Managing Money",knowledge:"Income vs expenses; adjusting budgets.",skills:"Build budgets; revise when costs change."},{unit:"Saving, Interest & Inflation",knowledge:"Simple interest; inflation reducing value.",skills:"Compare savings; explain inflation impact."},{unit:"Spending, Value & Consumer Rights",knowledge:"Contracts; guarantees; value comparison.",skills:"Evaluate deals; understand rights."},{unit:"Introduction to Entrepreneurship",knowledge:"Problem-solving; start-up basics; revenue models.",skills:"Create ideas; analyse feasibility; pitch."}],crossCurricularLinks:["Maths: % change, interest rates, calculations, income problems","English: reasoning, evaluation, pitch writing","Business: early enterprise concepts","Social Studies: economy, taxes, work roles","Moral Ed: responsibility, fairness, informed choices"],adaptations:{send:["Colour-coded statement lines","Chunked payslip sections","Pre-built budget templates","Simplified interest examples","Symbol-supported contract features"],ell:["Vocabulary icon cards","Sentence frames for reasoning","Model explanations","Pair reasoning before writing"]},progressionSummary:["Manage bank accounts and read statements","Interpret payslips confidently","Build and manage budgets","Understand interest and inflation","Evaluate spending decisions","Compare contracts","Begin entrepreneurship thinking"]},"Year 8":{title:"Smart Consumer Choices, Credit, Borrowing & Long-Term Financial Responsibility",overview:{purpose:["Introduce the realities of borrowing money, including interest","Teach students to compare contracts, subscriptions and repayment plans","Develop deeper budgeting and long-term planning skills","Build awareness of credit scores, loans and repayment responsibility","Strengthen consumer awareness and protection against hidden costs","Connect financial decisions to life goals and consequences"],coreKnowledge:["Credit is borrowed money that must be repaid","Loans always cost more due to interest","APR = cost of borrowing over a year","Subscriptions and contracts involve ongoing payments","Buy-now-pay-later schemes carry risks","Credit scores affect borrowing ability","Hidden fees and long-term commitments impact value","Long-term value  cheapest upfront price","Balance transfers, minimum payments and repayment terms"],coreSkills:["Compare loans and credit options accurately","Calculate repayment totals over time","Compare subscription plans and long-term costs","Identify hidden fees and traps","Evaluate short vs long-term financial consequences","Make informed decisions using multi-step reasoning","Explain the risks of borrowing and missed payments","Build responsible mid-level budgets"],coreConcepts:"Credit  Loans  Interest  APR  Subscriptions  Contracts  Hidden Fees  Repayment  Long-Term Value  Risk  Credit Score  Borrowing Responsibility"},vocabulary:"Credit, Loan, Interest, APR, Minimum Payment, Subscription, Contract, Hidden Fees, Credit Score, Repayment Term, Long-Term Value",objectives:["Explain what credit is and why borrowing costs more than repaying.","Compare loans using interest rates and repayment terms.","Interpret APR and calculate long-term repayment totals.","Identify hidden fees and misleading advertising in finance offers.","Compare subscription and contract plans over long periods.","Understand how credit scores work and why they matter.","Evaluate long-term vs short-term value when buying products.","Make responsible financial decisions using evidence."],successCriteria:["SC1: Identify when something is borrowed vs owned.","SC2: Explain why interest increases total repayment.","SC3: Compare loans or credit options accurately.","SC4: Identify hidden fees in contracts and subscriptions.","SC5: Calculate long-term cost from APR examples.","SC6: Evaluate value using long-term reasoning.","SC7: Explain consequences of missed payments."],halfTermOverview:[{unit:"Credit & Borrowing",knowledge:"What credit is; borrowing vs owning.",skills:"Identify borrowing; explain risks."},{unit:"Loans & Interest",knowledge:"Loans cost more; interest increases repayment.",skills:"Compare loans; calculate cost."},{unit:"APR & Repayment Plans",knowledge:"APR meaning; repayment schedules.",skills:"Calculate totals; compare plans."},{unit:"Contracts & Hidden Fees",knowledge:"Terms, conditions, penalties.",skills:"Spot traps; compare deals."},{unit:"Subscriptions & Long-Term Value",knowledge:"Monthly vs yearly cost; long-term choices.",skills:"Analyse plans; justify decisions."},{unit:"Credit Score & Responsible Borrowing",knowledge:"Credit score basics; consequences of missed payments.",skills:"Evaluate risk; responsible choices."}],crossCurricularLinks:["Maths: percentages, compound reasoning, comparing rates","English: reading contracts, critical evaluation","Business/Enterprise: interest, borrowing, contracts","Social Studies: financial responsibility, long-term planning","ICT: analysis of online subscriptions, digital contracts"],adaptations:{send:["Clear, colour-coded loan comparison tables","Simplified APR examples","Chunked contract sections","Pre-highlighted traps","Visual repayment timelines"],ell:["Icon-supported vocabulary","Dual-language glossaries","Sentence starters (This loan is better because...)","Modelled examples"]},progressionSummary:["Explain borrowing, credit and interest","Compare loans and APR","Analyse long-term cost of subscriptions","Identify hidden fees","Judge long-term vs short-term value","Understand credit score basics","Make responsible financial decisions"]},"Year 9":{title:"Financial Independence, Investing Foundations, Career Income & Real-Life Decision Making",overview:{purpose:["Prepare students for mature financial decision-making","Introduce simple investing and long-term wealth-building","Teach realistic income comparisons using careers","Build advanced budgeting models (weekly, monthly, annual)","Provide an understanding of tax, NI, and take-home pay","Explore entrepreneurship & start-up thinking","Teach financial consequences & risk management","Develop financial literacy needed for Year 10 business/economics pathways"],coreKnowledge:["Gross, net income, tax, National Insurance","Career income differences: salary, qualifications, skills","Advanced budgeting: multiple categories, emergencies, saving plans","Simple investing: stocks, interest, diversification, risk","Inflations long-term impact","Value vs cost vs opportunity cost","Realistic living costs (food, transport, rent, phone, clothing)","Small business economics: revenue, cost, profit, marketing","Long-term financial responsibility & goal planning"],coreSkills:["Compare career incomes & education routes","Build annual & monthly budgets with multiple expenses","Understand tax deductions & calculate net income","Compare investment options using risk & return","Evaluate long-term opportunity cost","Explain financial trade-offs & consequences","Plan small business models with break-even points","Analyse deals, contracts, subscriptions with insight","Make realistic decisions using evidence & maths"],coreConcepts:"Careers  Salary Pathways  Tax  Net Income  Expenses  Advanced Budgeting  Investing  Stocks  Diversification  Inflation  Opportunity Cost  Entrepreneurship  Break-Even  Risk Management"},vocabulary:"Net Income, National Insurance, Career Pathway, Fixed Expenses, Variable Expenses, Investment, Stocks/Shares, Diversification, Opportunity Cost, Break-Even, Long-Term Planning",objectives:["Compare career income differences and understand how qualifications affect earnings.","Calculate take-home pay including tax and NI.","Build advanced monthly and annual budgets.","Understand simple investing, risk levels and diversification.","Analyse long-term financial choices using opportunity cost.","Evaluate contracts, subscriptions and financial commitments.","Build and explain a small business model with profit and break-even analysis.","Make realistic financial decisions with clear reasoning."],successCriteria:["SC1: Read career income data and compare pathways.","SC2: Calculate net pay from gross salary using tax examples.","SC3: Build a detailed budget that balances and adapts.","SC4: Explain the riskreward relationship in investing.","SC5: Use opportunity cost in evaluating decisions.","SC6: Analyse long-term financial commitments.","SC7: Create a mini business plan that includes break-even.","SC8: Justify financial decisions using evidence & maths."],halfTermOverview:[{unit:"Careers & Income Pathways",knowledge:"Job salaries; education routes; qualifications.",skills:"Compare careers; evaluate salary growth."},{unit:"Tax, NI & Net Income",knowledge:"Gross/net; tax; NI; deductions.",skills:"Calculate take-home pay; analyse payslips."},{unit:"Advanced Budgeting",knowledge:"Fixed/variable expenses; annual costs; emergencies.",skills:"Build detailed budgets; adjust realistically."},{unit:"Investing Basics",knowledge:"Stocks, shares, diversification, risk/reward.",skills:"Compare investments; choose strategies."},{unit:"Value, Opportunity Cost & Contracts",knowledge:"Long-term vs short-term value; opportunity cost.",skills:"Analyse contracts; evaluate long-term choices."},{unit:"Entrepreneurship & Business Models",knowledge:"Start-up costs; revenue; break-even; profit.",skills:"Build business models; pitch ideas."}],crossCurricularLinks:["Maths: multi-step calculations, percentages, graphs","Business: revenue, cost, breaking even, entrepreneurship","Economics: inflation, investment basics","Moral Education: responsibility, decision-making, risk","ICT: analysing data, online contracts, subscriptions","English: presentations, pitches, explanations"],adaptations:{send:["Visual tax/budget templates","Chunked investment examples","Simplified break-even graphs","Colour-coded categories","Tiered tasks (Level A/B/C)"],ell:["Icon-supported glossary","Model explanations for contract and investment terms","Sentence starters for reasoning","Paired financial planning"]},progressionSummary:["Understand real career income pathways","Calculate take-home pay with deductions","Manage complex budgets","Explain investing basics and manage risk","Apply opportunity cost and long-term reasoning","Analyse contracts and large financial commitments","Build small business models","Make mature, responsible financial decisions"]}};function ZM(){var O;const[t,e]=w.useState(null),[n,r]=w.useState(null),[s,i]=w.useState(null),[a,c]=w.useState(null),[d,f]=w.useState(null),[m,y]=w.useState(null),[v,b]=w.useState(null),[T,C]=w.useState([]);w.useEffect(()=>{const L=localStorage.getItem("finnquest_student")||localStorage.getItem("finquest_student"),z=localStorage.getItem("finnquest_teacher")||localStorage.getItem("finquest_teacher");L?y(JSON.parse(L)):z&&b(JSON.parse(z))},[]);const{data:S}=ra({queryKey:["teacher-resources",(m==null?void 0:m.teacher_id)||(v==null?void 0:v.id)],queryFn:async()=>{const L=(m==null?void 0:m.teacher_id)||(v==null?void 0:v.id);return L?(await pu.entities.Teacher.filter({id:L}))[0]:null},enabled:!!(m!=null&&m.teacher_id||v!=null&&v.id)});w.useEffect(()=>{S!=null&&S.unlocked_years&&C(S.unlocked_years)},[S]);const I=L=>T.includes(L),A=[{id:"lesson-packs",title:"Lesson Packs",description:"Complete digital lesson plans",icon:"",color:"#3448C5"},{id:"unplugged",title:"Unplugged Lessons",description:"Screen-free activities",icon:"",color:"#35D0BA"},{id:"curriculum",title:"Curriculum",description:"Curriculum maps & progression",icon:"",color:"#8B5CF6"}],R=[{id:"displays",title:"Displays",description:"Colorful classroom wall displays",emoji:"",color:"#FFB68B"},{id:"vocabulary",title:"Key Vocabulary",description:"Financial literacy word banks",emoji:"",color:"#3448C5"},{id:"leaderboards",title:"Leaderboards",description:"Track student progress and achievements",emoji:"",color:"#35D0BA"},{id:"teaching-aids",title:"Teaching Aids",description:"Additional support materials",emoji:"",color:"#FFB68B"}],B=[{id:"ks1",title:"KS1",subtitle:"Key Stage 1",description:"Ages 5-7",gradient:"from-blue-400 to-cyan-400",years:["Year 1","Year 2"]},{id:"ks2",title:"KS2",subtitle:"Key Stage 2",description:"Ages 7-11",gradient:"from-indigo-400 to-blue-400",years:["Year 3","Year 4","Year 5","Year 6"]},{id:"ks3",title:"KS3",subtitle:"Key Stage 3",description:"Ages 11-14",gradient:"from-purple-400 to-indigo-400",years:["Year 7","Year 8","Year 9"]}],F=()=>({"Year 1":[],"Year 2":[{id:"ice-cream-adventure",title:"Ice Cream Adventure",description:"Learn all about finances and running your own company whilst developing tasty ice cream delights!",emoji:"",gradient:"linear-gradient(135deg, #a855f7 0%, #ec4899 50%, #f97316 100%)",locked:!I("Year 2"),subGames:[{id:"ice-cream-truck",title:"Ice Cream Truck",emoji:"",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",locked:!I("Year 2")},{id:"perfect-profits",title:"Perfect Profits",emoji:"",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",locked:!I("Year 2")},{id:"read-the-market",title:"Read the Market",emoji:"",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",locked:!I("Year 2")},{id:"ice-cream-master",title:"Ice Cream Master",emoji:"",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",locked:!I("Year 2")}]}],"Year 3":[],"Year 4":[],"Year 5":[{id:"pizza-tycoon",title:"Pizza Tycoon",description:"Build your pizza empire from the ground up! Learn business skills while creating delicious pizzas.",emoji:"",gradient:"linear-gradient(135deg, #f97316 0%, #ef4444 50%, #dc2626 100%)",locked:!I("Year 5"),subGames:[{id:"dough-dash",title:"Pizza Tycoon: Dough Dash",emoji:"",gradient:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",locked:!I("Year 5")},{id:"pizza-profits-pro",title:"Pizza Profits Pro",emoji:"",gradient:"linear-gradient(135deg, #eab308 0%, #f59e0b 100%)",locked:!I("Year 5")},{id:"topping-trends",title:"Topping Trends",emoji:"",gradient:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",locked:!I("Year 5")},{id:"michelin-manager",title:"Michelin Manager",emoji:"",gradient:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",locked:!I("Year 5")},{id:"pizza-pitch-perfect",title:"Pizza Pitch Perfect",emoji:"",gradient:"linear-gradient(135deg, #ec4899 0%, #db2777 100%)",locked:!I("Year 5")},{id:"delivery-dash",title:"Delivery Dash",emoji:"",gradient:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",locked:!I("Year 5")}]}],"Year 6":[{id:"moneyball-fc",title:"Moneyball FC",description:"You are in charge of all the decisions for a football club. All 6 lessons run under one platform.",emoji:"",gradient:"linear-gradient(135deg, #1e3a5f 0%, #2d5a87 50%, #3448C5 100%)",locked:!I("Year 6")}],"Year 7":[],"Year 8":[],"Year 9":[]}),U=B.find(L=>L.id==="ks3");U&&U.years.includes("Year 7");const P=F(),k=B.find(L=>L.id===s),D=L=>{L.subGames,f(L)};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t?t==="curriculum"&&!n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>e(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back"]})}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"Curriculum"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Choose a view"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>r("details"),children:[u.jsx("div",{className:"h-40 flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx(Kp,{className:"w-16 h-16 mx-auto mb-2"}),u.jsx("h3",{className:"text-2xl font-bold",children:"Curriculum Details"})]})}),u.jsx(He,{className:"p-6 text-center",children:u.jsx("p",{className:"text-gray-600",children:"View detailed curriculum by year group"})})]}),u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>r("progress-map"),children:[u.jsx("div",{className:"h-40 flex items-center justify-center bg-gradient-to-br from-pink-500 to-rose-600",children:u.jsxs("div",{className:"text-center text-white",children:[u.jsx(Qp,{className:"w-16 h-16 mx-auto mb-2"}),u.jsx("h3",{className:"text-2xl font-bold",children:"Progress Map"})]})}),u.jsx(He,{className:"p-6 text-center",children:u.jsx("p",{className:"text-gray-600",children:"View progression across all years"})})]})]})]}):t==="curriculum"&&n==="progress-map"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>r(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Options"]})}),u.jsx(one,{})]}):s?a?t==="curriculum"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>c(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Year Groups"]})}),u.jsx(EX,{data:ane[a],year:a,locked:a!=="Year 2"&&!I(a)})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>c(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Year Groups"]})}),u.jsx("div",{className:"text-center mb-16",children:u.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:[a," ",t==="lesson-packs"?"Lesson Packs":"Unplugged Lessons"]})}),((O=P[a])==null?void 0:O.length)>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:P[a].map(L=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden",children:[u.jsx(Y0,{game:L,onClick:()=>D(L)}),u.jsxs(He,{className:"p-6 bg-white",children:[u.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"#3448C5"},children:L.title}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:L.description})]})]},L.id))}):u.jsx("div",{className:"text-center py-20",children:u.jsxs("p",{className:"text-xl text-gray-500",children:["No resources available for ",a," yet. Check back soon!"]})})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>i(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back to Key Stages"]})}),u.jsx("div",{className:"text-center mb-16",children:u.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:[k==null?void 0:k.title," - Choose Year Group"]})}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:k==null?void 0:k.years.map(L=>{var z;return u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>c(L),children:[u.jsx("div",{className:`h-32 flex items-center justify-center bg-gradient-to-br ${k.gradient}`,children:u.jsx("h3",{className:"text-3xl font-bold text-white",children:L})}),u.jsx(He,{className:"p-4 text-center bg-white",children:u.jsx("p",{className:"text-gray-600",children:t==="lesson-packs"?`${((z=P[L])==null?void 0:z.length)||0} games available`:t==="unplugged"?"View Activities":"View Curriculum"})})]},L)})})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-8",children:u.jsxs(Ge,{variant:"outline",onClick:()=>t==="curriculum"?r(null):e(null),className:"flex items-center gap-2 rounded-full",children:[u.jsx(vs,{className:"w-4 h-4"}),"Back"]})}),u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:t==="lesson-packs"?"Lesson Packs":t==="unplugged"?"Unplugged Lessons":"Curriculum Details"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Select a Key Stage"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:B.map(L=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>i(L.id),children:[u.jsx("div",{className:`h-48 flex items-center justify-center bg-gradient-to-br ${L.gradient}`,children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-6xl font-bold text-white mb-2",children:L.title}),u.jsx("p",{className:"text-xl text-white/90",children:L.subtitle})]})}),u.jsx(He,{className:"p-8 text-center bg-white",children:u.jsx("p",{className:"text-2xl font-semibold",style:{color:"#3448C5"},children:L.description})})]},L.id))})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",style:{color:"#3448C5"},children:"Resources"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Choose a resource type"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:A.map(L=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",onClick:()=>e(L.id),children:[u.jsx("div",{className:"h-48 flex items-center justify-center",style:{backgroundColor:L.color},children:u.jsx("span",{className:"text-8xl",children:L.emoji||L.icon})}),u.jsxs(He,{className:"p-8 text-center bg-white",children:[u.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:"#3448C5"},children:L.title}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:L.description})]})]},L.id))}),u.jsxs("div",{className:"mt-20",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h2",{className:"text-4xl sm:text-5xl font-bold mb-6",style:{color:"#3448C5"},children:"Classroom Resources"}),u.jsx("p",{className:"text-xl sm:text-2xl text-gray-700",children:"Displays, Vocabulary, Leaderboards, and Teaching Aids"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:R.map(L=>u.jsxs(Be,{className:"rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0 overflow-hidden cursor-pointer",children:[u.jsx("div",{className:"h-40 flex items-center justify-center",style:{backgroundColor:L.color},children:u.jsx("span",{className:"text-7xl",children:L.emoji})}),u.jsxs(He,{className:"p-6 text-center bg-white",children:[u.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#3448C5"},children:L.title}),u.jsx("p",{className:"text-gray-700 leading-relaxed",children:L.description})]})]},L.id))})]})]})})}),u.jsx(la,{open:!!d,onOpenChange:()=>f(null),children:u.jsxs(Gi,{className:"sm:max-w-2xl",children:[u.jsx(Ki,{children:u.jsxs(Yi,{className:"text-2xl text-center",style:{color:"#3448C5"},children:[d==null?void 0:d.title," - Resources"]})}),d!=null&&d.subGames?u.jsxs("div",{className:"py-4",children:[u.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Select a lesson:"}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.subGames.map(L=>u.jsxs(Be,{className:`rounded-xl overflow-hidden cursor-pointer hover:shadow-lg transition-all ${L.locked?"opacity-60":""}`,onClick:()=>{L.locked||f(L)},children:[u.jsx("div",{className:`h-24 flex items-center justify-center ${L.locked?"grayscale":""}`,style:{background:L.gradient},children:u.jsx("span",{className:"text-4xl",children:L.emoji})}),u.jsxs(He,{className:"p-3 text-center",children:[u.jsx("p",{className:"font-semibold text-sm",children:L.title}),L.locked&&u.jsx("p",{className:"text-xs text-gray-500",children:"Contact FinnQuest"})]})]},L.id))})]}):u.jsx("div",{className:"py-6",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs(Be,{className:"rounded-xl p-6 text-center cursor-pointer hover:shadow-lg transition-all border-2 hover:border-[#3448C5]",children:[u.jsx(S8,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#3448C5"}}),u.jsx("p",{className:"font-semibold",children:"Lesson Plans"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Coming soon"})]}),u.jsxs(Be,{className:"rounded-xl p-6 text-center cursor-pointer hover:shadow-lg transition-all border-2 hover:border-[#35D0BA]",children:[u.jsx(Y8,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#35D0BA"}}),u.jsx("p",{className:"font-semibold",children:"PowerPoints"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Coming soon"})]}),u.jsxs(Be,{className:"rounded-xl p-6 text-center cursor-pointer hover:shadow-lg transition-all border-2 hover:border-[#FFB68B]",children:[u.jsx(v8,{className:"w-12 h-12 mx-auto mb-3",style:{color:"#FFB68B"}}),u.jsx("p",{className:"font-semibold",children:"Worksheets"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Coming soon"})]})]})})]})}),u.jsx(wr,{})]})}function eO(){return u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(xr,{}),u.jsx("main",{className:"pt-32 pb-20 px-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl font-bold text-[#3448C5] mb-4",children:"Weekly Quizzes"}),u.jsx("p",{className:"text-xl text-gray-600",children:"Test your financial knowledge and earn bonus points!"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[u.jsx(Be,{className:"hover:shadow-lg transition-all cursor-pointer border-l-4 border-l-[#35D0BA] transform hover:-translate-y-1",children:u.jsxs(He,{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-bold px-2 py-1 rounded-full uppercase tracking-wide",children:"Active"}),u.jsx("div",{className:"p-2 bg-blue-50 rounded-full",children:u.jsx(MA,{className:"w-6 h-6 text-[#3448C5]"})})]}),u.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:"Financial Basics"}),u.jsx("p",{className:"text-gray-600 text-sm mb-6",children:"Test your understanding of needs vs wants and basic budgeting concepts."}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[u.jsxs("div",{className:"flex items-center text-gray-500 text-xs font-medium",children:[u.jsx(mp,{className:"w-4 h-4 mr-1"}),"Due: Friday"]}),u.jsx("span",{className:"text-[#3448C5] font-bold text-sm",children:"100 pts"})]})]})}),u.jsx(Be,{className:"bg-gray-50 border-gray-200",children:u.jsxs(He,{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs font-bold px-2 py-1 rounded-full uppercase tracking-wide",children:"Completed"}),u.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:u.jsx(p8,{className:"w-6 h-6 text-gray-400"})})]}),u.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-700",children:"Introduction to Saving"}),u.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"You scored 8/10 on this quiz."}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"flex items-center text-gray-400 text-xs font-medium",children:[u.jsx(mp,{className:"w-4 h-4 mr-1"}),"Past"]}),u.jsx("span",{className:"text-gray-500 font-bold text-sm",children:"80 pts earned"})]})]})}),u.jsx(Be,{className:"bg-gray-50 border-gray-200 opacity-75",children:u.jsxs(He,{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs font-bold px-2 py-1 rounded-full uppercase tracking-wide",children:"Locked"}),u.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:u.jsx(tf,{className:"w-6 h-6 text-gray-400"})})]}),u.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-700",children:"Smart Shopping"}),u.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Complete previous modules to unlock this quiz."}),u.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[u.jsxs("div",{className:"flex items-center text-gray-400 text-xs font-medium",children:[u.jsx(mp,{className:"w-4 h-4 mr-1"}),"Coming Soon"]}),u.jsx("span",{className:"text-gray-400 font-bold text-sm",children:"??? pts"})]})]})})]})]})}),u.jsx(wr,{})]})}const lne=["Year 1","Year 2","Year 3","Year 4","Year 5","Year 6","Year 7","Year 8","Year 9"];function cne(t){const e=(t||"").toLowerCase().replace(/[^a-z]/g,"").slice(0,10)||"student",n=Math.floor(Math.random()*9e3)+1e3;return`${e}${n}`}function une(){return String(Math.floor(Math.random()*9e3)+1e3)}function dne(){const t=new URLSearchParams(window.location.search);return t.get("classId")||t.get("classid")||""}function Aw(){var Z,$;const t=nf(),[e,n]=w.useState(null),[r,s]=w.useState(""),[i,a]=w.useState("logins"),[c,d]=w.useState(!1),[f,m]=w.useState(""),[y,v]=w.useState(!1),[b,T]=w.useState(""),[C,S]=w.useState("");w.useEffect(()=>{const X=localStorage.getItem("finnquest_teacher")||localStorage.getItem("finquest_teacher");if(!X){window.location.href=ot("AdminLogin");return}const se=JSON.parse(X);n({uid:se.uid||se.id,email:se.email,school_name:se.school_name||""}),s(dne())},[]);const I=e==null?void 0:e.uid,{data:A,isLoading:R}=ra({queryKey:["teacherProfile",I],enabled:!!I,queryFn:async()=>{const X=Xt(st,"teachers",I),se=await Fi(X);return se.exists()?{id:se.id,...se.data()}:null}}),{data:B,isLoading:F}=ra({queryKey:["class",r],enabled:!!r,queryFn:async()=>{const X=Xt(st,"classes",r),se=await Fi(X);return se.exists()?{id:se.id,...se.data()}:null}}),{data:U=[],isLoading:P}=ra({queryKey:["students",r,I],enabled:!!r&&!!I,queryFn:async()=>{const X=Wp(ta(st,"students"),zc("classId","==",r),zc("teacherId","==",I));return(await ph(X)).docs.map(H=>({id:H.id,...H.data()}))}}),k=w.useMemo(()=>{const X=Number((A==null?void 0:A.credits_total)||0),se=Number((A==null?void 0:A.credits_used)||0);return X-se},[A]);w.useEffect(()=>{if(r&&!F){if(!B){alert("Class not found (wrong link or deleted)."),window.location.href=ot("AdminDashboard");return}I&&B.teacherId&&B.teacherId!==I&&(alert("You dont have permission to view this class."),window.location.href=ot("AdminDashboard"))}},[r,F,B,I]);const D=Yd({mutationFn:async({names:X})=>{if(!I)throw new Error("Missing teacher session");if(!r)throw new Error("Missing classId");if(!A)throw new Error("Teacher profile not loaded");const se=Number((A==null?void 0:A.credits_total)||0),H=Number((A==null?void 0:A.credits_used)||0),re=se-H;if(se>0&&X.length>re)throw new Error(`Not enough credits. You have ${re} remaining but need ${X.length}.`);const me=S0(st);return X.forEach(we=>{const Re=Xt(ta(st,"students"));me.set(Re,{teacherId:I,classId:r,name:we,username:cne(we),pin:une(),has_created_avatar:!1,createdAt:Gp()})}),me.update(Xt(st,"teachers",I),{credits_used:H+X.length}),await me.commit(),!0},onSuccess:async()=>{await t.invalidateQueries({queryKey:["students",r,I]}),await t.invalidateQueries({queryKey:["teacherProfile",I]}),m(""),d(!1)}}),O=Yd({mutationFn:async({studentId:X})=>{if(!I)throw new Error("Missing teacher session");if(!A)throw new Error("Teacher profile not loaded");const se=Number((A==null?void 0:A.credits_used)||0),H=S0(st);return H.delete(Xt(st,"students",X)),H.update(Xt(st,"teachers",I),{credits_used:Math.max(0,se-1)}),await H.commit(),!0},onSuccess:async()=>{await t.invalidateQueries({queryKey:["students",r,I]}),await t.invalidateQueries({queryKey:["teacherProfile",I]})}}),L=Yd({mutationFn:async({name:X,year_group:se})=>{if(!r)throw new Error("Missing classId");return await Hp(Xt(st,"classes",r),{name:X,year_group:se}),!0},onSuccess:async()=>{await t.invalidateQueries({queryKey:["class",r]}),v(!1)}}),z=()=>{const X=f.split(`
`).map(se=>se.trim()).filter(Boolean).slice(0,35);X.length!==0&&D.mutate({names:X})},M=(X,se)=>{confirm(`Remove ${se}? This refunds 1 credit.`)&&O.mutate({studentId:X})},oe=()=>{T((B==null?void 0:B.name)||""),S((B==null?void 0:B.year_group)||""),v(!0)},ye=()=>{if(b.trim()){if(!C)return alert("Please select a year group.");L.mutate({name:b.trim(),year_group:C})}},he=()=>{const X=document.getElementById("print-cards");if(!X)return;const se=window.open("","","width=900,height=650");se.document.write(`
      <html>
        <head>
          <title>Student Login Cards</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
            .card-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
            .card { border: 2px solid #3448C5; border-radius: 10px; padding: 15px; text-align: center; page-break-inside: avoid; }
            .card h3 { margin: 0 0 10px 0; color: #3448C5; font-size: 14px; }
            .card p { margin: 5px 0; font-size: 12px; }
            .label { color: #666; }
            .value { font-weight: bold; color: #333; font-size: 14px; }
          </style>
        </head>
        <body>${X.innerHTML}</body>
      </html>
    `),se.document.close(),se.print()};return!e||R||F?u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Loading..."})}):r?A?B?u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"#FAF7F0"},children:[u.jsx(xr,{}),u.jsx("div",{className:"pt-32 pb-20",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs(Ge,{variant:"outline",onClick:()=>window.location.href=ot("AdminDashboard"),className:"mb-4 gap-2",children:[u.jsx(vs,{className:"w-4 h-4"})," Back to Dashboard"]}),u.jsxs("div",{className:"flex justify-between items-center mb-8 gap-4 flex-wrap",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-4xl font-bold",style:{color:"#3448C5"},children:B.name}),u.jsxs("p",{className:"text-gray-600 mt-2",children:[B.year_group,"  ",U.length," Students"]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Credits remaining: ",k]})]}),u.jsxs(Ge,{onClick:oe,variant:"outline",className:"gap-2",children:[u.jsx(pp,{className:"w-4 h-4"})," Edit Class"]})]}),u.jsx("div",{className:"flex gap-4 mb-8 border-b border-gray-200 pb-1 overflow-x-auto",children:["logins","assessment","quiz"].map(X=>u.jsx("button",{onClick:()=>a(X),className:`px-6 py-3 font-bold text-lg transition-colors whitespace-nowrap ${i===X?"text-[#3448C5] border-b-4 border-[#3448C5]":"text-gray-500 hover:text-gray-700"}`,children:X==="logins"?"Student Logins":X==="assessment"?"Assessment":"Set Quiz"},X))}),i==="logins"&&u.jsxs(Be,{children:[u.jsxs(Vi,{className:"flex flex-row items-center justify-between flex-wrap gap-2",children:[u.jsx(Bi,{children:"Manage Students"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"gap-1",children:[u.jsx(x9,{className:"w-4 h-4"})," Add Students"]}),u.jsxs(Ge,{onClick:he,size:"sm",className:"gap-1 bg-[#3448C5]",children:[u.jsx(zA,{className:"w-4 h-4"})," Print Cards"]})]})]}),u.jsxs(He,{children:[P?u.jsx("div",{className:"py-8 text-center text-gray-600",children:"Loading students"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-100",children:[u.jsx("th",{className:"border p-3 text-left",children:"Name"}),u.jsx("th",{className:"border p-3 text-left",children:"Username"}),u.jsx("th",{className:"border p-3 text-left",children:"PIN"}),u.jsx("th",{className:"border p-3 text-center w-16",children:"Action"})]})}),u.jsxs("tbody",{children:[U.map(X=>u.jsxs("tr",{children:[u.jsx("td",{className:"border p-3",children:X.name}),u.jsx("td",{className:"border p-3 font-mono",children:X.username}),u.jsx("td",{className:"border p-3 font-mono",children:X.pin}),u.jsx("td",{className:"border p-3 text-center",children:u.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>M(X.id,X.name),className:"text-red-500 hover:text-red-700 hover:bg-red-50",disabled:O.isPending,children:u.jsx($A,{className:"w-4 h-4"})})})]},X.id)),U.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"border p-6 text-center text-gray-500",children:"No students yet. Add some students to generate logins."})})]})]})}),u.jsx("div",{id:"print-cards",className:"hidden",children:u.jsx("div",{className:"card-grid",children:U.map(X=>u.jsxs("div",{className:"card",children:[u.jsx("h3",{children:"FinnQuest Login"}),u.jsx("p",{className:"label",children:"Name"}),u.jsx("p",{className:"value",children:X.name}),u.jsx("p",{className:"label",children:"Username"}),u.jsx("p",{className:"value",children:X.username}),u.jsx("p",{className:"label",children:"PIN"}),u.jsx("p",{className:"value",children:X.pin})]},X.id))})})]})]}),i!=="logins"&&u.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-gray-200 shadow-sm",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:i==="assessment"?"Assessment Area":"Set Quiz"}),u.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Coming soon."})]})]})}),u.jsx(la,{open:c,onOpenChange:d,children:u.jsxs(Gi,{className:"sm:max-w-md",children:[u.jsx(Ki,{children:u.jsxs(Yi,{children:["Add Students to ",B.name]})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Student Names (one per line)"}),u.jsx(uf,{value:f,onChange:X=>m(X.target.value),placeholder:`John Smith
Jane Doe
...`,rows:8}),u.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[f.split(`
`).filter(X=>X.trim()).length," students  Credits remaining:"," ",k]})]}),D.isError&&u.jsx("div",{className:"text-sm text-red-600",children:String(((Z=D.error)==null?void 0:Z.message)||"Error adding students")}),u.jsx(Ge,{onClick:z,className:"w-full",style:{backgroundColor:"#3448C5"},disabled:D.isPending,children:D.isPending?"Adding...":"Add Students"})]})]})}),u.jsx(la,{open:y,onOpenChange:v,children:u.jsxs(Gi,{className:"sm:max-w-md",children:[u.jsx(Ki,{children:u.jsx(Yi,{children:"Edit Class"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Class Name"}),u.jsx(an,{value:b,onChange:X=>T(X.target.value),placeholder:'e.g., "6B"'})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",children:"Year Group"}),u.jsxs(d_,{value:C,onValueChange:S,children:[u.jsx(ry,{children:u.jsx(h_,{placeholder:"Select year group"})}),u.jsx(sy,{children:lne.map(X=>u.jsx(nl,{value:X,children:X},X))})]})]}),L.isError&&u.jsx("div",{className:"text-sm text-red-600",children:String((($=L.error)==null?void 0:$.message)||"Error updating class")}),u.jsx(Ge,{onClick:ye,className:"w-full",style:{backgroundColor:"#3448C5"},disabled:L.isPending,children:L.isPending?"Saving...":"Save Changes"})]})]})}),u.jsx(wr,{})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Class not found."})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Your teacher account is not set up in Firestore."})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#FAF7F0"},children:u.jsx("p",{children:"Missing classId in the URL. Go back and open the class again."})})}const hne={Home:N0,ExploreGames:_2,Contact:jj,About:Dj,CPD:tD,AdminDashboard:nD,StudentLogin:sD,AvatarCreation:lD,StudentDashboard:cD,AdminLogin:lw,MainAdminDashboard:xD,ViewResources:ZM,TakeQuiz:eO,ClassDashboard:Aw};function fne(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(hne).find(n=>n.toLowerCase()===e.toLowerCase())||"Home"}function mne(){const t=eo(),e=fne(t.pathname);return u.jsx(GU,{currentPageName:e,children:u.jsxs(gL,{children:[u.jsx(xn,{path:"/",element:u.jsx(N0,{})}),u.jsx(xn,{path:"/login",element:u.jsx(lw,{})}),u.jsx(xn,{path:"/AdminLogin",element:u.jsx(lw,{})}),u.jsx(xn,{path:"/StudentLogin",element:u.jsx(sD,{})}),u.jsx(xn,{path:"/Home",element:u.jsx(N0,{})}),u.jsx(xn,{path:"/ExploreGames",element:u.jsx(_2,{})}),u.jsx(xn,{path:"/Contact",element:u.jsx(jj,{})}),u.jsx(xn,{path:"/About",element:u.jsx(Dj,{})}),u.jsx(xn,{path:"/CPD",element:u.jsx(tD,{})}),u.jsx(xn,{path:"/ViewResources",element:u.jsx(ZM,{})}),u.jsx(xn,{path:"/AdminDashboard",element:u.jsx(ZC,{allow:["teacher","main_admin"],children:u.jsx(nD,{})})}),u.jsx(xn,{path:"/MainAdminDashboard",element:u.jsx(ZC,{allow:["main_admin"],children:u.jsx(xD,{})})}),u.jsx(xn,{path:"/AvatarCreation",element:u.jsx(lD,{})}),u.jsx(xn,{path:"/StudentDashboard",element:u.jsx(cD,{})}),u.jsx(xn,{path:"/TakeQuiz",element:u.jsx(eO,{})}),u.jsx(xn,{path:"/ClassDashboard",element:u.jsx(Aw,{})}),u.jsx(xn,{path:"/classdashboard",element:u.jsx(Aw,{})})]})})}function pne(){return u.jsx(BL,{children:u.jsx(mne,{})})}const gne=20,yne=1e6,Di={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Kx=0;function vne(){return Kx=(Kx+1)%Number.MAX_VALUE,Kx.toString()}const Yx=new Map,LN=t=>{if(Yx.has(t))return;const e=setTimeout(()=>{Yx.delete(t),eh({type:Di.REMOVE_TOAST,toastId:t})},yne);Yx.set(t,e)},xne=(t,e)=>{switch(e.type){case Di.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,gne)};case Di.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Di.DISMISS_TOAST:{const{toastId:n}=e;return n?LN(n):t.toasts.forEach(r=>{LN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case Di.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Np=[];let Ip={toasts:[]};function eh(t){Ip=xne(Ip,t),Np.forEach(e=>{e(Ip)})}function wne({...t}){const e=vne(),n=s=>eh({type:Di.UPDATE_TOAST,toast:{...s,id:e}}),r=()=>eh({type:Di.DISMISS_TOAST,toastId:e});return eh({type:Di.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function bne(){const[t,e]=w.useState(Ip);return w.useEffect(()=>(Np.push(e),()=>{const n=Np.indexOf(e);n>-1&&Np.splice(n,1)}),[t]),{...t,toast:wne,dismiss:n=>eh({type:Di.DISMISS_TOAST,toastId:n})}}const tO=w.forwardRef(({...t},e)=>u.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));tO.displayName="ToastProvider";const nO=w.forwardRef(({...t},e)=>u.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));nO.displayName="ToastViewport";const _ne=zg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rO=w.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,className:it(_ne({variant:e}),t),...n}));rO.displayName="Toast";const Sne=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sne.displayName="ToastAction";const sO=w.forwardRef(({className:t,...e},n)=>u.jsx("button",{ref:n,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx($c,{className:"h-4 w-4"})}));sO.displayName="ToastClose";const iO=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("text-sm font-semibold",t),...e}));iO.displayName="ToastTitle";const oO=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:it("text-sm opacity-90",t),...e}));oO.displayName="ToastDescription";function Ene(){const{toasts:t}=bne();return u.jsxs(tO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(rO,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(iO,{children:n}),r&&u.jsx(oO,{children:r})]}),s,u.jsx(sO,{})]},e)}),u.jsx(nO,{})]})}function Cne(){return u.jsxs(u.Fragment,{children:[u.jsx(pne,{}),u.jsx(Ene,{})]})}const Tne=new Xz({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});x4.createRoot(document.getElementById("root")).render(u.jsx(sn.StrictMode,{children:u.jsx(Jz,{client:Tne,children:u.jsx(Cne,{})})}));
